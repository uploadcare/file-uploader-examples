(self["webpackChunkvue_uploader"]=self["webpackChunkvue_uploader"]||[]).push([[998],{2262:function(e,t,n){"use strict";n.d(t,{Bj:function(){return s},Fl:function(){return De},IU:function(){return Ae},Jd:function(){return C},PG:function(){return Ce},Um:function(){return ye},WL:function(){return Ne},X$:function(){return A},X3:function(){return ke},Xl:function(){return Se},dq:function(){return Oe},j:function(){return $},lk:function(){return T},qj:function(){return _e},qq:function(){return _},yT:function(){return $e}});var i=n(3577);let r;class s{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&r&&(this.parent=r,this.index=(r.scopes||(r.scopes=[])).push(this)-1)}run(e){if(this.active){const t=r;try{return r=this,e()}finally{r=t}}else 0}on(){r=this}off(){r=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}function o(e,t=r){t&&t.active&&t.effects.push(e)}const a=e=>{const t=new Set(e);return t.w=0,t.n=0,t},l=e=>(e.w&f)>0,c=e=>(e.n&f)>0,u=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=f},h=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const r=t[i];l(r)&&!c(r)?r.delete(e):t[n++]=r,r.w&=~f,r.n&=~f}t.length=n}},d=new WeakMap;let p=0,f=1;const m=30;let g;const v=Symbol(""),b=Symbol("");class _{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,o(this,n)}run(){if(!this.active)return this.fn();let e=g,t=w;while(e){if(e===this)return;e=e.parent}try{return this.parent=g,g=this,w=!0,f=1<<++p,p<=m?u(this):y(this),this.fn()}finally{p<=m&&h(this),f=1<<--p,g=this.parent,w=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){g===this?this.deferStop=!0:this.active&&(y(this),this.onStop&&this.onStop(),this.active=!1)}}function y(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let w=!0;const x=[];function C(){x.push(w),w=!1}function T(){const e=x.pop();w=void 0===e||e}function $(e,t,n){if(w&&g){let t=d.get(e);t||d.set(e,t=new Map);let i=t.get(n);i||t.set(n,i=a());const r=void 0;k(i,r)}}function k(e,t){let n=!1;p<=m?c(e)||(e.n|=f,n=!l(e)):n=!e.has(g),n&&(e.add(g),g.deps.push(e))}function A(e,t,n,r,s,o){const l=d.get(e);if(!l)return;let c=[];if("clear"===t)c=[...l.values()];else if("length"===n&&(0,i.kJ)(e))l.forEach(((e,t)=>{("length"===t||t>=r)&&c.push(e)}));else switch(void 0!==n&&c.push(l.get(n)),t){case"add":(0,i.kJ)(e)?(0,i.S0)(n)&&c.push(l.get("length")):(c.push(l.get(v)),(0,i._N)(e)&&c.push(l.get(b)));break;case"delete":(0,i.kJ)(e)||(c.push(l.get(v)),(0,i._N)(e)&&c.push(l.get(b)));break;case"set":(0,i._N)(e)&&c.push(l.get(v));break}if(1===c.length)c[0]&&S(c[0]);else{const e=[];for(const t of c)t&&e.push(...t);S(a(e))}}function S(e,t){for(const n of(0,i.kJ)(e)?e:[...e])(n!==g||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const E=(0,i.fY)("__proto__,__v_isRef,__isVue"),I=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(i.yk)),R=N(),P=N(!1,!0),O=N(!0),L=U();function U(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Ae(this);for(let t=0,r=this.length;t<r;t++)$(n,"get",t+"");const i=n[t](...e);return-1===i||!1===i?n[t](...e.map(Ae)):i}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){C();const n=Ae(this)[t].apply(this,e);return T(),n}})),e}function N(e=!1,t=!1){return function(n,r,s){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_isShallow"===r)return t;if("__v_raw"===r&&s===(e?t?ge:me:t?fe:pe).get(n))return n;const o=(0,i.kJ)(n);if(!e&&o&&(0,i.RI)(L,r))return Reflect.get(L,r,s);const a=Reflect.get(n,r,s);if((0,i.yk)(r)?I.has(r):E(r))return a;if(e||$(n,"get",r),t)return a;if(Oe(a)){const e=!o||!(0,i.S0)(r);return e?a.value:a}return(0,i.Kn)(a)?e?we(a):_e(a):a}}const M=F(),D=F(!0);function F(e=!1){return function(t,n,r,s){let o=t[n];if(Te(o)&&Oe(o)&&!Oe(r))return!1;if(!e&&!Te(r)&&($e(r)||(r=Ae(r),o=Ae(o)),!(0,i.kJ)(t)&&Oe(o)&&!Oe(r)))return o.value=r,!0;const a=(0,i.kJ)(t)&&(0,i.S0)(n)?Number(n)<t.length:(0,i.RI)(t,n),l=Reflect.set(t,n,r,s);return t===Ae(s)&&(a?(0,i.aU)(r,o)&&A(t,"set",n,r,o):A(t,"add",n,r)),l}}function j(e,t){const n=(0,i.RI)(e,t),r=e[t],s=Reflect.deleteProperty(e,t);return s&&n&&A(e,"delete",t,void 0,r),s}function B(e,t){const n=Reflect.has(e,t);return(0,i.yk)(t)&&I.has(t)||$(e,"has",t),n}function z(e){return $(e,"iterate",(0,i.kJ)(e)?"length":v),Reflect.ownKeys(e)}const V={get:R,set:M,deleteProperty:j,has:B,ownKeys:z},H={get:O,set(e,t){return!0},deleteProperty(e,t){return!0}},q=(0,i.l7)({},V,{get:P,set:D}),K=e=>e,X=e=>Reflect.getPrototypeOf(e);function G(e,t,n=!1,i=!1){e=e["__v_raw"];const r=Ae(e),s=Ae(t);t!==s&&!n&&$(r,"get",t),!n&&$(r,"get",s);const{has:o}=X(r),a=i?K:n?Ie:Ee;return o.call(r,t)?a(e.get(t)):o.call(r,s)?a(e.get(s)):void(e!==r&&e.get(t))}function W(e,t=!1){const n=this["__v_raw"],i=Ae(n),r=Ae(e);return e!==r&&!t&&$(i,"has",e),!t&&$(i,"has",r),e===r?n.has(e):n.has(e)||n.has(r)}function J(e,t=!1){return e=e["__v_raw"],!t&&$(Ae(e),"iterate",v),Reflect.get(e,"size",e)}function Z(e){e=Ae(e);const t=Ae(this),n=X(t),i=n.has.call(t,e);return i||(t.add(e),A(t,"add",e,e)),this}function Y(e,t){t=Ae(t);const n=Ae(this),{has:r,get:s}=X(n);let o=r.call(n,e);o||(e=Ae(e),o=r.call(n,e));const a=s.call(n,e);return n.set(e,t),o?(0,i.aU)(t,a)&&A(n,"set",e,t,a):A(n,"add",e,t),this}function Q(e){const t=Ae(this),{has:n,get:i}=X(t);let r=n.call(t,e);r||(e=Ae(e),r=n.call(t,e));const s=i?i.call(t,e):void 0,o=t.delete(e);return r&&A(t,"delete",e,void 0,s),o}function ee(){const e=Ae(this),t=0!==e.size,n=void 0,i=e.clear();return t&&A(e,"clear",void 0,void 0,n),i}function te(e,t){return function(n,i){const r=this,s=r["__v_raw"],o=Ae(s),a=t?K:e?Ie:Ee;return!e&&$(o,"iterate",v),s.forEach(((e,t)=>n.call(i,a(e),a(t),r)))}}function ne(e,t,n){return function(...r){const s=this["__v_raw"],o=Ae(s),a=(0,i._N)(o),l="entries"===e||e===Symbol.iterator&&a,c="keys"===e&&a,u=s[e](...r),h=n?K:t?Ie:Ee;return!t&&$(o,"iterate",c?b:v),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:l?[h(e[0]),h(e[1])]:h(e),done:t}},[Symbol.iterator](){return this}}}}function ie(e){return function(...t){return"delete"!==e&&this}}function re(){const e={get(e){return G(this,e)},get size(){return J(this)},has:W,add:Z,set:Y,delete:Q,clear:ee,forEach:te(!1,!1)},t={get(e){return G(this,e,!1,!0)},get size(){return J(this)},has:W,add:Z,set:Y,delete:Q,clear:ee,forEach:te(!1,!0)},n={get(e){return G(this,e,!0)},get size(){return J(this,!0)},has(e){return W.call(this,e,!0)},add:ie("add"),set:ie("set"),delete:ie("delete"),clear:ie("clear"),forEach:te(!0,!1)},i={get(e){return G(this,e,!0,!0)},get size(){return J(this,!0)},has(e){return W.call(this,e,!0)},add:ie("add"),set:ie("set"),delete:ie("delete"),clear:ie("clear"),forEach:te(!0,!0)},r=["keys","values","entries",Symbol.iterator];return r.forEach((r=>{e[r]=ne(r,!1,!1),n[r]=ne(r,!0,!1),t[r]=ne(r,!1,!0),i[r]=ne(r,!0,!0)})),[e,n,t,i]}const[se,oe,ae,le]=re();function ce(e,t){const n=t?e?le:ae:e?oe:se;return(t,r,s)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get((0,i.RI)(n,r)&&r in t?n:t,r,s)}const ue={get:ce(!1,!1)},he={get:ce(!1,!0)},de={get:ce(!0,!1)};const pe=new WeakMap,fe=new WeakMap,me=new WeakMap,ge=new WeakMap;function ve(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function be(e){return e["__v_skip"]||!Object.isExtensible(e)?0:ve((0,i.W7)(e))}function _e(e){return Te(e)?e:xe(e,!1,V,ue,pe)}function ye(e){return xe(e,!1,q,he,fe)}function we(e){return xe(e,!0,H,de,me)}function xe(e,t,n,r,s){if(!(0,i.Kn)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const o=s.get(e);if(o)return o;const a=be(e);if(0===a)return e;const l=new Proxy(e,2===a?r:n);return s.set(e,l),l}function Ce(e){return Te(e)?Ce(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function Te(e){return!(!e||!e["__v_isReadonly"])}function $e(e){return!(!e||!e["__v_isShallow"])}function ke(e){return Ce(e)||Te(e)}function Ae(e){const t=e&&e["__v_raw"];return t?Ae(t):e}function Se(e){return(0,i.Nj)(e,"__v_skip",!0),e}const Ee=e=>(0,i.Kn)(e)?_e(e):e,Ie=e=>(0,i.Kn)(e)?we(e):e;function Re(e){w&&g&&(e=Ae(e),k(e.dep||(e.dep=a())))}function Pe(e,t){e=Ae(e),e.dep&&S(e.dep)}function Oe(e){return!(!e||!0!==e.__v_isRef)}function Le(e){return Oe(e)?e.value:e}const Ue={get:(e,t,n)=>Le(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return Oe(r)&&!Oe(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function Ne(e){return Ce(e)?e:new Proxy(e,Ue)}class Me{constructor(e,t,n,i){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new _(e,(()=>{this._dirty||(this._dirty=!0,Pe(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this["__v_isReadonly"]=n}get value(){const e=Ae(this);return Re(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function De(e,t,n=!1){let r,s;const o=(0,i.mf)(e);o?(r=e,s=i.dG):(r=e.get,s=e.set);const a=new Me(r,s,o||!s,n);return a}},6252:function(e,t,n){"use strict";n.d(t,{$d:function(){return o},FN:function(){return dn},HY:function(){return St},Ko:function(){return rn},P$:function(){return oe},Q6:function(){return de},U2:function(){return le},Us:function(){return vt},Wm:function(){return Xt},Y8:function(){return ie},_:function(){return Kt},h:function(){return En},iD:function(){return Ft},ic:function(){return Ae},j4:function(){return jt},nK:function(){return he},up:function(){return Tt},wg:function(){return Lt}});var i=n(2262),r=n(3577);function s(e,t,n,i){let r;try{r=i?e(...i):e()}catch(s){a(s,t,n)}return r}function o(e,t,n,i){if((0,r.mf)(e)){const o=s(e,t,n,i);return o&&(0,r.tI)(o)&&o.catch((e=>{a(e,t,n)})),o}const l=[];for(let r=0;r<e.length;r++)l.push(o(e[r],t,n,i));return l}function a(e,t,n,i=!0){const r=t?t.vnode:null;if(t){let i=t.parent;const r=t.proxy,o=n;while(i){const t=i.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,r,o))return;i=i.parent}const a=t.appContext.config.errorHandler;if(a)return void s(a,null,10,[e,r,o])}l(e,n,r,i)}function l(e,t,n,i=!0){console.error(e)}let c=!1,u=!1;const h=[];let d=0;const p=[];let f=null,m=0;const g=[];let v=null,b=0;const _=Promise.resolve();let y=null,w=null;function x(e){const t=y||_;return e?t.then(this?e.bind(this):e):t}function C(e){let t=d+1,n=h.length;while(t<n){const i=t+n>>>1,r=P(h[i]);r<e?t=i+1:n=i}return t}function T(e){h.length&&h.includes(e,c&&e.allowRecurse?d+1:d)||e===w||(null==e.id?h.push(e):h.splice(C(e.id),0,e),$())}function $(){c||u||(u=!0,y=_.then(O))}function k(e){const t=h.indexOf(e);t>d&&h.splice(t,1)}function A(e,t,n,i){(0,r.kJ)(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?i+1:i)||n.push(e),$()}function S(e){A(e,f,p,m)}function E(e){A(e,v,g,b)}function I(e,t=null){if(p.length){for(w=t,f=[...new Set(p)],p.length=0,m=0;m<f.length;m++)f[m]();f=null,m=0,w=null,I(e,t)}}function R(e){if(g.length){const e=[...new Set(g)];if(g.length=0,v)return void v.push(...e);for(v=e,v.sort(((e,t)=>P(e)-P(t))),b=0;b<v.length;b++)v[b]();v=null,b=0}}const P=e=>null==e.id?1/0:e.id;function O(e){u=!1,c=!0,I(e),h.sort(((e,t)=>P(e)-P(t)));r.dG;try{for(d=0;d<h.length;d++){const e=h[d];e&&!1!==e.active&&s(e,null,14)}}finally{d=0,h.length=0,R(e),c=!1,y=null,(h.length||p.length||g.length)&&O(e)}}new Set;new Map;function L(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||r.kT;let s=n;const a=t.startsWith("update:"),l=a&&t.slice(7);if(l&&l in i){const e=`${"modelValue"===l?"model":l}Modifiers`,{number:t,trim:o}=i[e]||r.kT;o?s=n.map((e=>e.trim())):t&&(s=n.map(r.He))}let c;let u=i[c=(0,r.hR)(t)]||i[c=(0,r.hR)((0,r._A)(t))];!u&&a&&(u=i[c=(0,r.hR)((0,r.rs)(t))]),u&&o(u,e,6,s);const h=i[c+"Once"];if(h){if(e.emitted){if(e.emitted[c])return}else e.emitted={};e.emitted[c]=!0,o(h,e,6,s)}}function U(e,t,n=!1){const i=t.emitsCache,s=i.get(e);if(void 0!==s)return s;const o=e.emits;let a={},l=!1;if(!(0,r.mf)(e)){const i=e=>{const n=U(e,t,!0);n&&(l=!0,(0,r.l7)(a,n))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return o||l?((0,r.kJ)(o)?o.forEach((e=>a[e]=null)):(0,r.l7)(a,o),i.set(e,a),a):(i.set(e,null),null)}function N(e,t){return!(!e||!(0,r.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,r.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,r.RI)(e,(0,r.rs)(t))||(0,r.RI)(e,t))}let M=null,D=null;function F(e){const t=M;return M=e,D=e&&e.type.__scopeId||null,t}function j(e,t=M,n){if(!t)return e;if(e._n)return e;const i=(...n)=>{i._d&&Mt(-1);const r=F(t),s=e(...n);return F(r),i._d&&Mt(1),s};return i._n=!0,i._c=!0,i._d=!0,i}function B(e){const{type:t,vnode:n,proxy:i,withProxy:s,props:o,propsOptions:[l],slots:c,attrs:u,emit:h,render:d,renderCache:p,data:f,setupState:m,ctx:g,inheritAttrs:v}=e;let b,_;const y=F(e);try{if(4&n.shapeFlag){const e=s||i;b=Yt(d.call(e,e,p,o,m,f,g)),_=u}else{const e=t;0,b=Yt(e.length>1?e(o,{attrs:u,slots:c,emit:h}):e(o,null)),_=t.props?u:z(u)}}catch(x){Pt.length=0,a(x,e,1),b=Xt(It)}let w=b;if(_&&!1!==v){const e=Object.keys(_),{shapeFlag:t}=w;e.length&&7&t&&(l&&e.some(r.tR)&&(_=V(_,l)),w=Jt(w,_))}return n.dirs&&(w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),b=w,F(y),b}const z=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,r.F7)(n))&&((t||(t={}))[n]=e[n]);return t},V=(e,t)=>{const n={};for(const i in e)(0,r.tR)(i)&&i.slice(9)in t||(n[i]=e[i]);return n};function H(e,t,n){const{props:i,children:r,component:s}=e,{props:o,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!r&&!a||a&&a.$stable)||i!==o&&(i?!o||q(i,o,c):!!o);if(1024&l)return!0;if(16&l)return i?q(i,o,c):!!o;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(o[n]!==i[n]&&!N(c,n))return!0}}return!1}function q(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(t[s]!==e[s]&&!N(n,s))return!0}return!1}function K({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const X=e=>e.__isSuspense;function G(e,t){t&&t.pendingBranch?(0,r.kJ)(e)?t.effects.push(...e):t.effects.push(e):E(e)}function W(e,t){if(hn){let n=hn.provides;const i=hn.parent&&hn.parent.provides;i===n&&(n=hn.provides=Object.create(i)),n[e]=t}else 0}function J(e,t,n=!1){const i=hn||M;if(i){const s=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&(0,r.mf)(t)?t.call(i.proxy):t}else 0}const Z={};function Y(e,t,n){return Q(e,t,n)}function Q(e,t,{immediate:n,deep:a,flush:l,onTrack:c,onTrigger:u}=r.kT){const h=hn;let d,p,f=!1,m=!1;if((0,i.dq)(e)?(d=()=>e.value,f=(0,i.yT)(e)):(0,i.PG)(e)?(d=()=>e,a=!0):(0,r.kJ)(e)?(m=!0,f=e.some(i.PG),d=()=>e.map((e=>(0,i.dq)(e)?e.value:(0,i.PG)(e)?ne(e):(0,r.mf)(e)?s(e,h,2):void 0))):d=(0,r.mf)(e)?t?()=>s(e,h,2):()=>{if(!h||!h.isUnmounted)return p&&p(),o(e,h,3,[g])}:r.dG,t&&a){const e=d;d=()=>ne(e())}let g=e=>{p=y.onStop=()=>{s(e,h,4)}};if(bn)return g=r.dG,t?n&&o(t,h,3,[d(),m?[]:void 0,g]):d(),r.dG;let v=m?[]:Z;const b=()=>{if(y.active)if(t){const e=y.run();(a||f||(m?e.some(((e,t)=>(0,r.aU)(e,v[t]))):(0,r.aU)(e,v)))&&(p&&p(),o(t,h,3,[e,v===Z?void 0:v,g]),v=e)}else y.run()};let _;b.allowRecurse=!!t,_="sync"===l?b:"post"===l?()=>gt(b,h&&h.suspense):()=>{!h||h.isMounted?S(b):b()};const y=new i.qq(d,_);return t?n?b():v=y.run():"post"===l?gt(y.run.bind(y),h&&h.suspense):y.run(),()=>{y.stop(),h&&h.scope&&(0,r.Od)(h.scope.effects,y)}}function ee(e,t,n){const i=this.proxy,s=(0,r.HD)(e)?e.includes(".")?te(i,e):()=>i[e]:e.bind(i,i);let o;(0,r.mf)(t)?o=t:(o=t.handler,n=t);const a=hn;pn(this);const l=Q(s,o.bind(i),n);return a?pn(a):fn(),l}function te(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function ne(e,t){if(!(0,r.Kn)(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),(0,i.dq)(e))ne(e.value,t);else if((0,r.kJ)(e))for(let n=0;n<e.length;n++)ne(e[n],t);else if((0,r.DM)(e)||(0,r._N)(e))e.forEach((e=>{ne(e,t)}));else if((0,r.PO)(e))for(const n in e)ne(e[n],t);return e}function ie(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return $e((()=>{e.isMounted=!0})),Se((()=>{e.isUnmounting=!0})),e}const re=[Function,Array],se={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:re,onEnter:re,onAfterEnter:re,onEnterCancelled:re,onBeforeLeave:re,onLeave:re,onAfterLeave:re,onLeaveCancelled:re,onBeforeAppear:re,onAppear:re,onAfterAppear:re,onAppearCancelled:re},setup(e,{slots:t}){const n=dn(),r=ie();let s;return()=>{const o=t.default&&de(t.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){let e=!1;for(const t of o)if(t.type!==It){0,a=t,e=!0;break}}const l=(0,i.IU)(e),{mode:c}=l;if(r.isLeaving)return ce(a);const u=ue(a);if(!u)return ce(a);const h=le(u,l,r,n);he(u,h);const d=n.subTree,p=d&&ue(d);let f=!1;const{getTransitionKey:m}=u.type;if(m){const e=m();void 0===s?s=e:e!==s&&(s=e,f=!0)}if(p&&p.type!==It&&(!zt(u,p)||f)){const e=le(p,l,r,n);if(he(p,e),"out-in"===c)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,n.update()},ce(a);"in-out"===c&&u.type!==It&&(e.delayLeave=(e,t,n)=>{const i=ae(r,p);i[String(p.key)]=p,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=n})}return a}}},oe=se;function ae(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function le(e,t,n,i){const{appear:r,mode:s,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:d,onLeave:p,onAfterLeave:f,onLeaveCancelled:m,onBeforeAppear:g,onAppear:v,onAfterAppear:b,onAppearCancelled:_}=t,y=String(e.key),w=ae(n,e),x=(e,t)=>{e&&o(e,i,9,t)},C={mode:s,persisted:a,beforeEnter(t){let i=l;if(!n.isMounted){if(!r)return;i=g||l}t._leaveCb&&t._leaveCb(!0);const s=w[y];s&&zt(e,s)&&s.el._leaveCb&&s.el._leaveCb(),x(i,[t])},enter(e){let t=c,i=u,s=h;if(!n.isMounted){if(!r)return;t=v||c,i=b||u,s=_||h}let o=!1;const a=e._enterCb=t=>{o||(o=!0,x(t?s:i,[e]),C.delayedLeave&&C.delayedLeave(),e._enterCb=void 0)};t?(t(e,a),t.length<=1&&a()):a()},leave(t,i){const r=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return i();x(d,[t]);let s=!1;const o=t._leaveCb=n=>{s||(s=!0,i(),x(n?m:f,[t]),t._leaveCb=void 0,w[r]===e&&delete w[r])};w[r]=e,p?(p(t,o),p.length<=1&&o()):o()},clone(e){return le(e,t,n,i)}};return C}function ce(e){if(fe(e))return e=Jt(e),e.children=null,e}function ue(e){return fe(e)?e.children?e.children[0]:void 0:e}function he(e,t){6&e.shapeFlag&&e.component?he(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function de(e,t=!1,n){let i=[],r=0;for(let s=0;s<e.length;s++){let o=e[s];const a=null==n?o.key:String(n)+String(null!=o.key?o.key:s);o.type===St?(128&o.patchFlag&&r++,i=i.concat(de(o.children,t,a))):(t||o.type!==It)&&i.push(null!=a?Jt(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}const pe=e=>!!e.type.__asyncLoader;const fe=e=>e.type.__isKeepAlive;RegExp,RegExp;function me(e,t){return(0,r.kJ)(e)?e.some((e=>me(e,t))):(0,r.HD)(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function ge(e,t){be(e,"a",t)}function ve(e,t){be(e,"da",t)}function be(e,t,n=hn){const i=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(xe(t,i,n),n){let e=n.parent;while(e&&e.parent)fe(e.parent.vnode)&&_e(i,t,n,e),e=e.parent}}function _e(e,t,n,i){const s=xe(t,e,i,!0);Ee((()=>{(0,r.Od)(i[t],s)}),n)}function ye(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function we(e){return 128&e.shapeFlag?e.ssContent:e}function xe(e,t,n=hn,r=!1){if(n){const s=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;(0,i.Jd)(),pn(n);const s=o(t,n,e,r);return fn(),(0,i.lk)(),s});return r?s.unshift(a):s.push(a),a}}const Ce=e=>(t,n=hn)=>(!bn||"sp"===e)&&xe(e,t,n),Te=Ce("bm"),$e=Ce("m"),ke=Ce("bu"),Ae=Ce("u"),Se=Ce("bum"),Ee=Ce("um"),Ie=Ce("sp"),Re=Ce("rtg"),Pe=Ce("rtc");function Oe(e,t=hn){xe("ec",e,t)}let Le=!0;function Ue(e){const t=Fe(e),n=e.proxy,s=e.ctx;Le=!1,t.beforeCreate&&Me(t.beforeCreate,e,"bc");const{data:o,computed:a,methods:l,watch:c,provide:u,inject:h,created:d,beforeMount:p,mounted:f,beforeUpdate:m,updated:g,activated:v,deactivated:b,beforeDestroy:_,beforeUnmount:y,destroyed:w,unmounted:x,render:C,renderTracked:T,renderTriggered:$,errorCaptured:k,serverPrefetch:A,expose:S,inheritAttrs:E,components:I,directives:R,filters:P}=t,O=null;if(h&&Ne(h,s,O,e.appContext.config.unwrapInjectedRef),l)for(const i in l){const e=l[i];(0,r.mf)(e)&&(s[i]=e.bind(n))}if(o){0;const t=o.call(n,n);0,(0,r.Kn)(t)&&(e.data=(0,i.qj)(t))}if(Le=!0,a)for(const i in a){const e=a[i],t=(0,r.mf)(e)?e.bind(n,n):(0,r.mf)(e.get)?e.get.bind(n,n):r.dG;0;const o=!(0,r.mf)(e)&&(0,r.mf)(e.set)?e.set.bind(n):r.dG,l=Sn({get:t,set:o});Object.defineProperty(s,i,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(c)for(const i in c)De(c[i],s,n,i);if(u){const e=(0,r.mf)(u)?u.call(n):u;Reflect.ownKeys(e).forEach((t=>{W(t,e[t])}))}function L(e,t){(0,r.kJ)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(d&&Me(d,e,"c"),L(Te,p),L($e,f),L(ke,m),L(Ae,g),L(ge,v),L(ve,b),L(Oe,k),L(Pe,T),L(Re,$),L(Se,y),L(Ee,x),L(Ie,A),(0,r.kJ)(S))if(S.length){const t=e.exposed||(e.exposed={});S.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});C&&e.render===r.dG&&(e.render=C),null!=E&&(e.inheritAttrs=E),I&&(e.components=I),R&&(e.directives=R)}function Ne(e,t,n=r.dG,s=!1){(0,r.kJ)(e)&&(e=He(e));for(const o in e){const n=e[o];let a;a=(0,r.Kn)(n)?"default"in n?J(n.from||o,n.default,!0):J(n.from||o):J(n),(0,i.dq)(a)&&s?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[o]=a}}function Me(e,t,n){o((0,r.kJ)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function De(e,t,n,i){const s=i.includes(".")?te(n,i):()=>n[i];if((0,r.HD)(e)){const n=t[e];(0,r.mf)(n)&&Y(s,n)}else if((0,r.mf)(e))Y(s,e.bind(n));else if((0,r.Kn)(e))if((0,r.kJ)(e))e.forEach((e=>De(e,t,n,i)));else{const i=(0,r.mf)(e.handler)?e.handler.bind(n):t[e.handler];(0,r.mf)(i)&&Y(s,i,e)}else 0}function Fe(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:r.length||n||i?(l={},r.length&&r.forEach((e=>je(l,e,o,!0))),je(l,t,o)):l=t,s.set(t,l),l}function je(e,t,n,i=!1){const{mixins:r,extends:s}=t;s&&je(e,s,n,!0),r&&r.forEach((t=>je(e,t,n,!0)));for(const o in t)if(i&&"expose"===o);else{const i=Be[o]||n&&n[o];e[o]=i?i(e[o],t[o]):t[o]}return e}const Be={data:ze,props:Ke,emits:Ke,methods:Ke,computed:Ke,beforeCreate:qe,created:qe,beforeMount:qe,mounted:qe,beforeUpdate:qe,updated:qe,beforeDestroy:qe,beforeUnmount:qe,destroyed:qe,unmounted:qe,activated:qe,deactivated:qe,errorCaptured:qe,serverPrefetch:qe,components:Ke,directives:Ke,watch:Xe,provide:ze,inject:Ve};function ze(e,t){return t?e?function(){return(0,r.l7)((0,r.mf)(e)?e.call(this,this):e,(0,r.mf)(t)?t.call(this,this):t)}:t:e}function Ve(e,t){return Ke(He(e),He(t))}function He(e){if((0,r.kJ)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function qe(e,t){return e?[...new Set([].concat(e,t))]:t}function Ke(e,t){return e?(0,r.l7)((0,r.l7)(Object.create(null),e),t):t}function Xe(e,t){if(!e)return t;if(!t)return e;const n=(0,r.l7)(Object.create(null),e);for(const i in t)n[i]=qe(e[i],t[i]);return n}function Ge(e,t,n,s=!1){const o={},a={};(0,r.Nj)(a,Vt,1),e.propsDefaults=Object.create(null),Je(e,t,o,a);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);n?e.props=s?o:(0,i.Um)(o):e.type.props?e.props=o:e.props=a,e.attrs=a}function We(e,t,n,s){const{props:o,attrs:a,vnode:{patchFlag:l}}=e,c=(0,i.IU)(o),[u]=e.propsOptions;let h=!1;if(!(s||l>0)||16&l){let i;Je(e,t,o,a)&&(h=!0);for(const s in c)t&&((0,r.RI)(t,s)||(i=(0,r.rs)(s))!==s&&(0,r.RI)(t,i))||(u?!n||void 0===n[s]&&void 0===n[i]||(o[s]=Ze(u,c,s,void 0,e,!0)):delete o[s]);if(a!==c)for(const e in a)t&&(0,r.RI)(t,e)||(delete a[e],h=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let i=0;i<n.length;i++){let s=n[i];if(N(e.emitsOptions,s))continue;const l=t[s];if(u)if((0,r.RI)(a,s))l!==a[s]&&(a[s]=l,h=!0);else{const t=(0,r._A)(s);o[t]=Ze(u,c,t,l,e,!1)}else l!==a[s]&&(a[s]=l,h=!0)}}h&&(0,i.X$)(e,"set","$attrs")}function Je(e,t,n,s){const[o,a]=e.propsOptions;let l,c=!1;if(t)for(let i in t){if((0,r.Gg)(i))continue;const u=t[i];let h;o&&(0,r.RI)(o,h=(0,r._A)(i))?a&&a.includes(h)?(l||(l={}))[h]=u:n[h]=u:N(e.emitsOptions,i)||i in s&&u===s[i]||(s[i]=u,c=!0)}if(a){const t=(0,i.IU)(n),s=l||r.kT;for(let i=0;i<a.length;i++){const l=a[i];n[l]=Ze(o,t,l,s[l],e,!(0,r.RI)(s,l))}}return c}function Ze(e,t,n,i,s,o){const a=e[n];if(null!=a){const e=(0,r.RI)(a,"default");if(e&&void 0===i){const e=a.default;if(a.type!==Function&&(0,r.mf)(e)){const{propsDefaults:r}=s;n in r?i=r[n]:(pn(s),i=r[n]=e.call(null,t),fn())}else i=e}a[0]&&(o&&!e?i=!1:!a[1]||""!==i&&i!==(0,r.rs)(n)||(i=!0))}return i}function Ye(e,t,n=!1){const i=t.propsCache,s=i.get(e);if(s)return s;const o=e.props,a={},l=[];let c=!1;if(!(0,r.mf)(e)){const i=e=>{c=!0;const[n,i]=Ye(e,t,!0);(0,r.l7)(a,n),i&&l.push(...i)};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}if(!o&&!c)return i.set(e,r.Z6),r.Z6;if((0,r.kJ)(o))for(let h=0;h<o.length;h++){0;const e=(0,r._A)(o[h]);Qe(e)&&(a[e]=r.kT)}else if(o){0;for(const e in o){const t=(0,r._A)(e);if(Qe(t)){const n=o[e],i=a[t]=(0,r.kJ)(n)||(0,r.mf)(n)?{type:n}:n;if(i){const e=nt(Boolean,i.type),n=nt(String,i.type);i[0]=e>-1,i[1]=n<0||e<n,(e>-1||(0,r.RI)(i,"default"))&&l.push(t)}}}}const u=[a,l];return i.set(e,u),u}function Qe(e){return"$"!==e[0]}function et(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function tt(e,t){return et(e)===et(t)}function nt(e,t){return(0,r.kJ)(t)?t.findIndex((t=>tt(t,e))):(0,r.mf)(t)&&tt(t,e)?0:-1}const it=e=>"_"===e[0]||"$stable"===e,rt=e=>(0,r.kJ)(e)?e.map(Yt):[Yt(e)],st=(e,t,n)=>{const i=j(((...e)=>rt(t(...e))),n);return i._c=!1,i},ot=(e,t,n)=>{const i=e._ctx;for(const s in e){if(it(s))continue;const n=e[s];if((0,r.mf)(n))t[s]=st(s,n,i);else if(null!=n){0;const e=rt(n);t[s]=()=>e}}},at=(e,t)=>{const n=rt(t);e.slots.default=()=>n},lt=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,i.IU)(t),(0,r.Nj)(t,"_",n)):ot(t,e.slots={})}else e.slots={},t&&at(e,t);(0,r.Nj)(e.slots,Vt,1)},ct=(e,t,n)=>{const{vnode:i,slots:s}=e;let o=!0,a=r.kT;if(32&i.shapeFlag){const e=t._;e?n&&1===e?o=!1:((0,r.l7)(s,t),n||1!==e||delete s._):(o=!t.$stable,ot(t,s)),a=t}else t&&(at(e,t),a={default:1});if(o)for(const r in s)it(r)||r in a||delete s[r]};function ut(e,t,n,r){const s=e.dirs,a=t&&t.dirs;for(let l=0;l<s.length;l++){const c=s[l];a&&(c.oldValue=a[l].value);let u=c.dir[r];u&&((0,i.Jd)(),o(u,n,8,[e.el,c,e,t]),(0,i.lk)())}}function ht(){return{app:null,config:{isNativeTag:r.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let dt=0;function pt(e,t){return function(n,i=null){(0,r.mf)(n)||(n=Object.assign({},n)),null==i||(0,r.Kn)(i)||(i=null);const s=ht(),o=new Set;let a=!1;const l=s.app={_uid:dt++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:In,get config(){return s.config},set config(e){0},use(e,...t){return o.has(e)||(e&&(0,r.mf)(e.install)?(o.add(e),e.install(l,...t)):(0,r.mf)(e)&&(o.add(e),e(l,...t))),l},mixin(e){return s.mixins.includes(e)||s.mixins.push(e),l},component(e,t){return t?(s.components[e]=t,l):s.components[e]},directive(e,t){return t?(s.directives[e]=t,l):s.directives[e]},mount(r,o,c){if(!a){const u=Xt(n,i);return u.appContext=s,o&&t?t(u,r):e(u,r,c),a=!0,l._container=r,r.__vue_app__=l,$n(u.component)||u.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return s.provides[e]=t,l}};return l}}function ft(e,t,n,o,a=!1){if((0,r.kJ)(e))return void e.forEach(((e,i)=>ft(e,t&&((0,r.kJ)(t)?t[i]:t),n,o,a)));if(pe(o)&&!a)return;const l=4&o.shapeFlag?$n(o.component)||o.component.proxy:o.el,c=a?null:l,{i:u,r:h}=e;const d=t&&t.r,p=u.refs===r.kT?u.refs={}:u.refs,f=u.setupState;if(null!=d&&d!==h&&((0,r.HD)(d)?(p[d]=null,(0,r.RI)(f,d)&&(f[d]=null)):(0,i.dq)(d)&&(d.value=null)),(0,r.mf)(h))s(h,u,12,[c,p]);else{const t=(0,r.HD)(h),s=(0,i.dq)(h);if(t||s){const s=()=>{if(e.f){const n=t?p[h]:h.value;a?(0,r.kJ)(n)&&(0,r.Od)(n,l):(0,r.kJ)(n)?n.includes(l)||n.push(l):t?(p[h]=[l],(0,r.RI)(f,h)&&(f[h]=p[h])):(h.value=[l],e.k&&(p[e.k]=h.value))}else t?(p[h]=c,(0,r.RI)(f,h)&&(f[h]=c)):(0,i.dq)(h)&&(h.value=c,e.k&&(p[e.k]=c))};c?(s.id=-1,gt(s,n)):s()}else 0}}function mt(){}const gt=G;function vt(e){return bt(e)}function bt(e,t){mt();const n=(0,r.E9)();n.__VUE__=!0;const{insert:s,remove:o,patchProp:a,createElement:l,createText:c,createComment:u,setText:h,setElementText:d,parentNode:p,nextSibling:f,setScopeId:m=r.dG,cloneNode:g,insertStaticContent:v}=e,b=(e,t,n,i=null,r=null,s=null,o=!1,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!zt(e,t)&&(i=Q(e),G(e,r,s,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=t;switch(c){case Et:_(e,t,n,i);break;case It:y(e,t,n,i);break;case Rt:null==e&&w(t,n,i,o);break;case St:U(e,t,n,i,r,s,o,a,l);break;default:1&h?$(e,t,n,i,r,s,o,a,l):6&h?N(e,t,n,i,r,s,o,a,l):(64&h||128&h)&&c.process(e,t,n,i,r,s,o,a,l,te)}null!=u&&r&&ft(u,e&&e.ref,s,t||e,!t)},_=(e,t,n,i)=>{if(null==e)s(t.el=c(t.children),n,i);else{const n=t.el=e.el;t.children!==e.children&&h(n,t.children)}},y=(e,t,n,i)=>{null==e?s(t.el=u(t.children||""),n,i):t.el=e.el},w=(e,t,n,i)=>{[e.el,e.anchor]=v(e.children,t,n,i,e.el,e.anchor)},x=({el:e,anchor:t},n,i)=>{let r;while(e&&e!==t)r=f(e),s(e,n,i),e=r;s(t,n,i)},C=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=f(e),o(e),e=n;o(t)},$=(e,t,n,i,r,s,o,a,l)=>{o=o||"svg"===t.type,null==e?A(t,n,i,r,s,o,a,l):P(e,t,r,s,o,a,l)},A=(e,t,n,i,o,c,u,h)=>{let p,f;const{type:m,props:v,shapeFlag:b,transition:_,patchFlag:y,dirs:w}=e;if(e.el&&void 0!==g&&-1===y)p=e.el=g(e.el);else{if(p=e.el=l(e.type,c,v&&v.is,v),8&b?d(p,e.children):16&b&&E(e.children,p,null,i,o,c&&"foreignObject"!==m,u,h),w&&ut(e,null,i,"created"),v){for(const t in v)"value"===t||(0,r.Gg)(t)||a(p,t,null,v[t],c,e.children,i,o,Y);"value"in v&&a(p,"value",null,v.value),(f=v.onVnodeBeforeMount)&&nn(f,i,e)}S(p,e,e.scopeId,u,i)}w&&ut(e,null,i,"beforeMount");const x=(!o||o&&!o.pendingBranch)&&_&&!_.persisted;x&&_.beforeEnter(p),s(p,t,n),((f=v&&v.onVnodeMounted)||x||w)&&gt((()=>{f&&nn(f,i,e),x&&_.enter(p),w&&ut(e,null,i,"mounted")}),o)},S=(e,t,n,i,r)=>{if(n&&m(e,n),i)for(let s=0;s<i.length;s++)m(e,i[s]);if(r){let n=r.subTree;if(t===n){const t=r.vnode;S(e,t,t.scopeId,t.slotScopeIds,r.parent)}}},E=(e,t,n,i,r,s,o,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?Qt(e[c]):Yt(e[c]);b(null,l,t,n,i,r,s,o,a)}},P=(e,t,n,i,s,o,l)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:h,dirs:p}=t;u|=16&e.patchFlag;const f=e.props||r.kT,m=t.props||r.kT;let g;n&&_t(n,!1),(g=m.onVnodeBeforeUpdate)&&nn(g,n,t,e),p&&ut(t,e,n,"beforeUpdate"),n&&_t(n,!0);const v=s&&"foreignObject"!==t.type;if(h?O(e.dynamicChildren,h,c,n,i,v,o):l||z(e,t,c,null,n,i,v,o,!1),u>0){if(16&u)L(c,t,f,m,n,i,s);else if(2&u&&f.class!==m.class&&a(c,"class",null,m.class,s),4&u&&a(c,"style",f.style,m.style,s),8&u){const r=t.dynamicProps;for(let t=0;t<r.length;t++){const o=r[t],l=f[o],u=m[o];u===l&&"value"!==o||a(c,o,l,u,s,e.children,n,i,Y)}}1&u&&e.children!==t.children&&d(c,t.children)}else l||null!=h||L(c,t,f,m,n,i,s);((g=m.onVnodeUpdated)||p)&&gt((()=>{g&&nn(g,n,t,e),p&&ut(t,e,n,"updated")}),i)},O=(e,t,n,i,r,s,o)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],u=l.el&&(l.type===St||!zt(l,c)||70&l.shapeFlag)?p(l.el):n;b(l,c,u,null,i,r,s,o,!0)}},L=(e,t,n,i,s,o,l)=>{if(n!==i){for(const c in i){if((0,r.Gg)(c))continue;const u=i[c],h=n[c];u!==h&&"value"!==c&&a(e,c,h,u,l,t.children,s,o,Y)}if(n!==r.kT)for(const c in n)(0,r.Gg)(c)||c in i||a(e,c,n[c],null,l,t.children,s,o,Y);"value"in i&&a(e,"value",n.value,i.value)}},U=(e,t,n,i,r,o,a,l,u)=>{const h=t.el=e?e.el:c(""),d=t.anchor=e?e.anchor:c("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=t;m&&(l=l?l.concat(m):m),null==e?(s(h,n,i),s(d,n,i),E(t.children,n,d,r,o,a,l,u)):p>0&&64&p&&f&&e.dynamicChildren?(O(e.dynamicChildren,f,n,r,o,a,l),(null!=t.key||r&&t===r.subTree)&&yt(e,t,!0)):z(e,t,n,d,r,o,a,l,u)},N=(e,t,n,i,r,s,o,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?r.ctx.activate(t,n,i,o,l):M(t,n,i,r,s,o,l):D(e,t,l)},M=(e,t,n,i,r,s,o)=>{const a=e.component=un(e,i,r);if(fe(e)&&(a.ctx.renderer=te),_n(a),a.asyncDep){if(r&&r.registerDep(a,F),!e.el){const e=a.subTree=Xt(It);y(null,e,t,n)}}else F(a,e,t,n,r,s,o)},D=(e,t,n)=>{const i=t.component=e.component;if(H(e,t,n)){if(i.asyncDep&&!i.asyncResolved)return void j(i,t,n);i.next=t,k(i.update),i.update()}else t.component=e.component,t.el=e.el,i.vnode=t},F=(e,t,n,s,o,a,l)=>{const c=()=>{if(e.isMounted){let t,{next:n,bu:i,u:s,parent:c,vnode:u}=e,h=n;0,_t(e,!1),n?(n.el=u.el,j(e,n,l)):n=u,i&&(0,r.ir)(i),(t=n.props&&n.props.onVnodeBeforeUpdate)&&nn(t,c,n,u),_t(e,!0);const d=B(e);0;const f=e.subTree;e.subTree=d,b(f,d,p(f.el),Q(f),e,o,a),n.el=d.el,null===h&&K(e,d.el),s&&gt(s,o),(t=n.props&&n.props.onVnodeUpdated)&&gt((()=>nn(t,c,n,u)),o)}else{let i;const{el:l,props:c}=t,{bm:u,m:h,parent:d}=e,p=pe(t);if(_t(e,!1),u&&(0,r.ir)(u),!p&&(i=c&&c.onVnodeBeforeMount)&&nn(i,d,t),_t(e,!0),l&&ie){const n=()=>{e.subTree=B(e),ie(l,e.subTree,e,o,null)};p?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const i=e.subTree=B(e);0,b(null,i,n,s,e,o,a),t.el=i.el}if(h&&gt(h,o),!p&&(i=c&&c.onVnodeMounted)){const e=t;gt((()=>nn(i,d,e)),o)}256&t.shapeFlag&&e.a&&gt(e.a,o),e.isMounted=!0,t=n=s=null}},u=e.effect=new i.qq(c,(()=>T(e.update)),e.scope),h=e.update=u.run.bind(u);h.id=e.uid,_t(e,!0),h()},j=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,We(e,t.props,r,n),ct(e,t.children,n),(0,i.Jd)(),I(void 0,e.update),(0,i.lk)()},z=(e,t,n,i,r,s,o,a,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,h=t.children,{patchFlag:p,shapeFlag:f}=t;if(p>0){if(128&p)return void q(c,h,n,i,r,s,o,a,l);if(256&p)return void V(c,h,n,i,r,s,o,a,l)}8&f?(16&u&&Y(c,r,s),h!==c&&d(n,h)):16&u?16&f?q(c,h,n,i,r,s,o,a,l):Y(c,r,s,!0):(8&u&&d(n,""),16&f&&E(h,n,i,r,s,o,a,l))},V=(e,t,n,i,s,o,a,l,c)=>{e=e||r.Z6,t=t||r.Z6;const u=e.length,h=t.length,d=Math.min(u,h);let p;for(p=0;p<d;p++){const i=t[p]=c?Qt(t[p]):Yt(t[p]);b(e[p],i,n,null,s,o,a,l,c)}u>h?Y(e,s,o,!0,!1,d):E(t,n,i,s,o,a,l,c,d)},q=(e,t,n,i,s,o,a,l,c)=>{let u=0;const h=t.length;let d=e.length-1,p=h-1;while(u<=d&&u<=p){const i=e[u],r=t[u]=c?Qt(t[u]):Yt(t[u]);if(!zt(i,r))break;b(i,r,n,null,s,o,a,l,c),u++}while(u<=d&&u<=p){const i=e[d],r=t[p]=c?Qt(t[p]):Yt(t[p]);if(!zt(i,r))break;b(i,r,n,null,s,o,a,l,c),d--,p--}if(u>d){if(u<=p){const e=p+1,r=e<h?t[e].el:i;while(u<=p)b(null,t[u]=c?Qt(t[u]):Yt(t[u]),n,r,s,o,a,l,c),u++}}else if(u>p)while(u<=d)G(e[u],s,o,!0),u++;else{const f=u,m=u,g=new Map;for(u=m;u<=p;u++){const e=t[u]=c?Qt(t[u]):Yt(t[u]);null!=e.key&&g.set(e.key,u)}let v,_=0;const y=p-m+1;let w=!1,x=0;const C=new Array(y);for(u=0;u<y;u++)C[u]=0;for(u=f;u<=d;u++){const i=e[u];if(_>=y){G(i,s,o,!0);continue}let r;if(null!=i.key)r=g.get(i.key);else for(v=m;v<=p;v++)if(0===C[v-m]&&zt(i,t[v])){r=v;break}void 0===r?G(i,s,o,!0):(C[r-m]=u+1,r>=x?x=r:w=!0,b(i,t[r],n,null,s,o,a,l,c),_++)}const T=w?wt(C):r.Z6;for(v=T.length-1,u=y-1;u>=0;u--){const e=m+u,r=t[e],d=e+1<h?t[e+1].el:i;0===C[u]?b(null,r,n,d,s,o,a,l,c):w&&(v<0||u!==T[v]?X(r,n,d,2):v--)}}},X=(e,t,n,i,r=null)=>{const{el:o,type:a,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void X(e.component.subTree,t,n,i);if(128&u)return void e.suspense.move(t,n,i);if(64&u)return void a.move(e,t,n,te);if(a===St){s(o,t,n);for(let e=0;e<c.length;e++)X(c[e],t,n,i);return void s(e.anchor,t,n)}if(a===Rt)return void x(e,t,n);const h=2!==i&&1&u&&l;if(h)if(0===i)l.beforeEnter(o),s(o,t,n),gt((()=>l.enter(o)),r);else{const{leave:e,delayLeave:i,afterLeave:r}=l,a=()=>s(o,t,n),c=()=>{e(o,(()=>{a(),r&&r()}))};i?i(o,a,c):c()}else s(o,t,n)},G=(e,t,n,i=!1,r=!1)=>{const{type:s,props:o,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d}=e;if(null!=a&&ft(a,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const p=1&u&&d,f=!pe(e);let m;if(f&&(m=o&&o.onVnodeBeforeUnmount)&&nn(m,t,e),6&u)Z(e.component,n,i);else{if(128&u)return void e.suspense.unmount(n,i);p&&ut(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,r,te,i):c&&(s!==St||h>0&&64&h)?Y(c,t,n,!1,!0):(s===St&&384&h||!r&&16&u)&&Y(l,t,n),i&&W(e)}(f&&(m=o&&o.onVnodeUnmounted)||p)&&gt((()=>{m&&nn(m,t,e),p&&ut(e,null,t,"unmounted")}),n)},W=e=>{const{type:t,el:n,anchor:i,transition:r}=e;if(t===St)return void J(n,i);if(t===Rt)return void C(e);const s=()=>{o(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:i}=r,o=()=>t(n,s);i?i(e.el,s,o):o()}else s()},J=(e,t)=>{let n;while(e!==t)n=f(e),o(e),e=n;o(t)},Z=(e,t,n)=>{const{bum:i,scope:s,update:o,subTree:a,um:l}=e;i&&(0,r.ir)(i),s.stop(),o&&(o.active=!1,G(a,e,t,n)),l&&gt(l,t),gt((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},Y=(e,t,n,i=!1,r=!1,s=0)=>{for(let o=s;o<e.length;o++)G(e[o],t,n,i,r)},Q=e=>6&e.shapeFlag?Q(e.component.subTree):128&e.shapeFlag?e.suspense.next():f(e.anchor||e.el),ee=(e,t,n)=>{null==e?t._vnode&&G(t._vnode,null,null,!0):b(t._vnode||null,e,t,null,null,null,n),R(),t._vnode=e},te={p:b,um:G,m:X,r:W,mt:M,mc:E,pc:z,pbc:O,n:Q,o:e};let ne,ie;return t&&([ne,ie]=t(te)),{render:ee,hydrate:ne,createApp:pt(ee,ne)}}function _t({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function yt(e,t,n=!1){const i=e.children,s=t.children;if((0,r.kJ)(i)&&(0,r.kJ)(s))for(let r=0;r<i.length;r++){const e=i[r];let t=s[r];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=s[r]=Qt(s[r]),t.el=e.el),n||yt(e,t))}}function wt(e){const t=e.slice(),n=[0];let i,r,s,o,a;const l=e.length;for(i=0;i<l;i++){const l=e[i];if(0!==l){if(r=n[n.length-1],e[r]<l){t[i]=r,n.push(i);continue}s=0,o=n.length-1;while(s<o)a=s+o>>1,e[n[a]]<l?s=a+1:o=a;l<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}s=n.length,o=n[s-1];while(s-- >0)n[s]=o,o=t[o];return n}const xt=e=>e.__isTeleport;const Ct="components";function Tt(e,t){return kt(Ct,e,!0,t)||e}const $t=Symbol();function kt(e,t,n=!0,i=!1){const s=M||hn;if(s){const n=s.type;if(e===Ct){const e=kn(n);if(e&&(e===t||e===(0,r._A)(t)||e===(0,r.kC)((0,r._A)(t))))return n}const o=At(s[e]||n[e],t)||At(s.appContext[e],t);return!o&&i?n:o}}function At(e,t){return e&&(e[t]||e[(0,r._A)(t)]||e[(0,r.kC)((0,r._A)(t))])}const St=Symbol(void 0),Et=Symbol(void 0),It=Symbol(void 0),Rt=Symbol(void 0),Pt=[];let Ot=null;function Lt(e=!1){Pt.push(Ot=e?null:[])}function Ut(){Pt.pop(),Ot=Pt[Pt.length-1]||null}let Nt=1;function Mt(e){Nt+=e}function Dt(e){return e.dynamicChildren=Nt>0?Ot||r.Z6:null,Ut(),Nt>0&&Ot&&Ot.push(e),e}function Ft(e,t,n,i,r,s){return Dt(Kt(e,t,n,i,r,s,!0))}function jt(e,t,n,i,r){return Dt(Xt(e,t,n,i,r,!0))}function Bt(e){return!!e&&!0===e.__v_isVNode}function zt(e,t){return e.type===t.type&&e.key===t.key}const Vt="__vInternal",Ht=({key:e})=>null!=e?e:null,qt=({ref:e,ref_key:t,ref_for:n})=>null!=e?(0,r.HD)(e)||(0,i.dq)(e)||(0,r.mf)(e)?{i:M,r:e,k:t,f:!!n}:e:null;function Kt(e,t=null,n=null,i=0,s=null,o=(e===St?0:1),a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ht(t),ref:t&&qt(t),scopeId:D,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null};return l?(en(c,n),128&o&&e.normalize(c)):n&&(c.shapeFlag|=(0,r.HD)(n)?8:16),Nt>0&&!a&&Ot&&(c.patchFlag>0||6&o)&&32!==c.patchFlag&&Ot.push(c),c}const Xt=Gt;function Gt(e,t=null,n=null,s=0,o=null,a=!1){if(e&&e!==$t||(e=It),Bt(e)){const i=Jt(e,t,!0);return n&&en(i,n),i}if(An(e)&&(e=e.__vccOpts),t){t=Wt(t);let{class:e,style:n}=t;e&&!(0,r.HD)(e)&&(t.class=(0,r.C_)(e)),(0,r.Kn)(n)&&((0,i.X3)(n)&&!(0,r.kJ)(n)&&(n=(0,r.l7)({},n)),t.style=(0,r.j5)(n))}const l=(0,r.HD)(e)?1:X(e)?128:xt(e)?64:(0,r.Kn)(e)?4:(0,r.mf)(e)?2:0;return Kt(e,t,n,s,o,l,a,!0)}function Wt(e){return e?(0,i.X3)(e)||Vt in e?(0,r.l7)({},e):e:null}function Jt(e,t,n=!1){const{props:i,ref:s,patchFlag:o,children:a}=e,l=t?tn(i||{},t):i,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Ht(l),ref:t&&t.ref?n&&s?(0,r.kJ)(s)?s.concat(qt(t)):[s,qt(t)]:qt(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==St?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Jt(e.ssContent),ssFallback:e.ssFallback&&Jt(e.ssFallback),el:e.el,anchor:e.anchor};return c}function Zt(e=" ",t=0){return Xt(Et,null,e,t)}function Yt(e){return null==e||"boolean"===typeof e?Xt(It):(0,r.kJ)(e)?Xt(St,null,e.slice()):"object"===typeof e?Qt(e):Xt(Et,null,String(e))}function Qt(e){return null===e.el||e.memo?e:Jt(e)}function en(e,t){let n=0;const{shapeFlag:i}=e;if(null==t)t=null;else if((0,r.kJ)(t))n=16;else if("object"===typeof t){if(65&i){const n=t.default;return void(n&&(n._c&&(n._d=!1),en(e,n()),n._c&&(n._d=!0)))}{n=32;const i=t._;i||Vt in t?3===i&&M&&(1===M.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=M}}else(0,r.mf)(t)?(t={default:t,_ctx:M},n=32):(t=String(t),64&i?(n=16,t=[Zt(t)]):n=8);e.children=t,e.shapeFlag|=n}function tn(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=(0,r.C_)([t.class,i.class]));else if("style"===e)t.style=(0,r.j5)([t.style,i.style]);else if((0,r.F7)(e)){const n=t[e],s=i[e];!s||n===s||(0,r.kJ)(n)&&n.includes(s)||(t[e]=n?[].concat(n,s):s)}else""!==e&&(t[e]=i[e])}return t}function nn(e,t,n,i=null){o(e,t,7,[n,i])}function rn(e,t,n,i){let s;const o=n&&n[i];if((0,r.kJ)(e)||(0,r.HD)(e)){s=new Array(e.length);for(let n=0,i=e.length;n<i;n++)s[n]=t(e[n],n,void 0,o&&o[n])}else if("number"===typeof e){0,s=new Array(e);for(let n=0;n<e;n++)s[n]=t(n+1,n,void 0,o&&o[n])}else if((0,r.Kn)(e))if(e[Symbol.iterator])s=Array.from(e,((e,n)=>t(e,n,void 0,o&&o[n])));else{const n=Object.keys(e);s=new Array(n.length);for(let i=0,r=n.length;i<r;i++){const r=n[i];s[i]=t(e[r],r,i,o&&o[i])}}else s=[];return n&&(n[i]=s),s}const sn=e=>e?mn(e)?$n(e)||e.proxy:sn(e.parent):null,on=(0,r.l7)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>sn(e.parent),$root:e=>sn(e.root),$emit:e=>e.emit,$options:e=>Fe(e),$forceUpdate:e=>()=>T(e.update),$nextTick:e=>x.bind(e.proxy),$watch:e=>ee.bind(e)}),an={get({_:e},t){const{ctx:n,setupState:s,data:o,props:a,accessCache:l,type:c,appContext:u}=e;let h;if("$"!==t[0]){const i=l[t];if(void 0!==i)switch(i){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return a[t]}else{if(s!==r.kT&&(0,r.RI)(s,t))return l[t]=1,s[t];if(o!==r.kT&&(0,r.RI)(o,t))return l[t]=2,o[t];if((h=e.propsOptions[0])&&(0,r.RI)(h,t))return l[t]=3,a[t];if(n!==r.kT&&(0,r.RI)(n,t))return l[t]=4,n[t];Le&&(l[t]=0)}}const d=on[t];let p,f;return d?("$attrs"===t&&(0,i.j)(e,"get",t),d(e)):(p=c.__cssModules)&&(p=p[t])?p:n!==r.kT&&(0,r.RI)(n,t)?(l[t]=4,n[t]):(f=u.config.globalProperties,(0,r.RI)(f,t)?f[t]:void 0)},set({_:e},t,n){const{data:i,setupState:s,ctx:o}=e;return s!==r.kT&&(0,r.RI)(s,t)?(s[t]=n,!0):i!==r.kT&&(0,r.RI)(i,t)?(i[t]=n,!0):!(0,r.RI)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(o[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:s,propsOptions:o}},a){let l;return!!n[a]||e!==r.kT&&(0,r.RI)(e,a)||t!==r.kT&&(0,r.RI)(t,a)||(l=o[0])&&(0,r.RI)(l,a)||(0,r.RI)(i,a)||(0,r.RI)(on,a)||(0,r.RI)(s.config.globalProperties,a)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,r.RI)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};const ln=ht();let cn=0;function un(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||ln,a={uid:cn++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new i.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ye(s,o),emitsOptions:U(s,o),emit:null,emitted:null,propsDefaults:r.kT,inheritAttrs:s.inheritAttrs,ctx:r.kT,data:r.kT,props:r.kT,attrs:r.kT,slots:r.kT,refs:r.kT,setupState:r.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=L.bind(null,a),e.ce&&e.ce(a),a}let hn=null;const dn=()=>hn||M,pn=e=>{hn=e,e.scope.on()},fn=()=>{hn&&hn.scope.off(),hn=null};function mn(e){return 4&e.vnode.shapeFlag}let gn,vn,bn=!1;function _n(e,t=!1){bn=t;const{props:n,children:i}=e.vnode,r=mn(e);Ge(e,n,r,t),lt(e,i);const s=r?yn(e,t):void 0;return bn=!1,s}function yn(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=(0,i.Xl)(new Proxy(e.ctx,an));const{setup:o}=n;if(o){const n=e.setupContext=o.length>1?Tn(e):null;pn(e),(0,i.Jd)();const l=s(o,e,0,[e.props,n]);if((0,i.lk)(),fn(),(0,r.tI)(l)){if(l.then(fn,fn),t)return l.then((n=>{wn(e,n,t)})).catch((t=>{a(t,e,0)}));e.asyncDep=l}else wn(e,l,t)}else xn(e,t)}function wn(e,t,n){(0,r.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,r.Kn)(t)&&(e.setupState=(0,i.WL)(t)),xn(e,n)}function xn(e,t,n){const s=e.type;if(!e.render){if(!t&&gn&&!s.render){const t=s.template;if(t){0;const{isCustomElement:n,compilerOptions:i}=e.appContext.config,{delimiters:o,compilerOptions:a}=s,l=(0,r.l7)((0,r.l7)({isCustomElement:n,delimiters:o},i),a);s.render=gn(t,l)}}e.render=s.render||r.dG,vn&&vn(e)}pn(e),(0,i.Jd)(),Ue(e),(0,i.lk)(),fn()}function Cn(e){return new Proxy(e.attrs,{get(t,n){return(0,i.j)(e,"get","$attrs"),t[n]}})}function Tn(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=Cn(e))},slots:e.slots,emit:e.emit,expose:t}}function $n(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,i.WL)((0,i.Xl)(e.exposed)),{get(t,n){return n in t?t[n]:n in on?on[n](e):void 0}}))}function kn(e){return(0,r.mf)(e)&&e.displayName||e.name}function An(e){return(0,r.mf)(e)&&"__vccOpts"in e}const Sn=(e,t)=>(0,i.Fl)(e,t,bn);function En(e,t,n){const i=arguments.length;return 2===i?(0,r.Kn)(t)&&!(0,r.kJ)(t)?Bt(t)?Xt(e,null,[t]):Xt(e,t):Xt(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&Bt(n)&&(n=[n]),Xt(e,t,n))}Symbol("");const In="3.2.33"},9963:function(e,t,n){"use strict";n.d(t,{ri:function(){return ne}});var i=n(3577),r=n(6252);n(2262);const s="http://www.w3.org/2000/svg",o="undefined"!==typeof document?document:null,a=o&&o.createElement("template"),l={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t?o.createElementNS(s,e):o.createElement(e,n?{is:n}:void 0);return"select"===e&&i&&null!=i.multiple&&r.setAttribute("multiple",i.multiple),r},createText:e=>o.createTextNode(e),createComment:e=>o.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>o.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,i,r,s){const o=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling)){while(1)if(t.insertBefore(r.cloneNode(!0),n),r===s||!(r=r.nextSibling))break}else{a.innerHTML=i?`<svg>${e}</svg>`:e;const r=a.content;if(i){const e=r.firstChild;while(e.firstChild)r.appendChild(e.firstChild);r.removeChild(e)}t.insertBefore(r,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function c(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function u(e,t,n){const r=e.style,s=(0,i.HD)(n);if(n&&!s){for(const e in n)d(r,e,n[e]);if(t&&!(0,i.HD)(t))for(const e in t)null==n[e]&&d(r,e,"")}else{const i=r.display;s?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const h=/\s*!important$/;function d(e,t,n){if((0,i.kJ)(n))n.forEach((n=>d(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=m(e,t);h.test(n)?e.setProperty((0,i.rs)(r),n.replace(h,""),"important"):e[r]=n}}const p=["Webkit","Moz","ms"],f={};function m(e,t){const n=f[t];if(n)return n;let r=(0,i._A)(t);if("filter"!==r&&r in e)return f[t]=r;r=(0,i.kC)(r);for(let i=0;i<p.length;i++){const n=p[i]+r;if(n in e)return f[t]=n}return t}const g="http://www.w3.org/1999/xlink";function v(e,t,n,r,s){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(g,t.slice(6,t.length)):e.setAttributeNS(g,t,n);else{const r=(0,i.Pq)(t);null==n||r&&!(0,i.yA)(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function b(e,t,n,r,s,o,a){if("innerHTML"===t||"textContent"===t)return r&&a(r,s,o),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const i=null==n?"":n;return e.value===i&&"OPTION"!==e.tagName||(e.value=i),void(null==n&&e.removeAttribute(t))}let l=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=(0,i.yA)(n):null==n&&"string"===r?(n="",l=!0):"number"===r&&(n=0,l=!0)}try{e[t]=n}catch(c){0}l&&e.removeAttribute(t)}const[_,y]=(()=>{let e=Date.now,t=!1;if("undefined"!==typeof window){Date.now()>document.createEvent("Event").timeStamp&&(e=()=>performance.now());const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let w=0;const x=Promise.resolve(),C=()=>{w=0},T=()=>w||(x.then(C),w=_());function $(e,t,n,i){e.addEventListener(t,n,i)}function k(e,t,n,i){e.removeEventListener(t,n,i)}function A(e,t,n,i,r=null){const s=e._vei||(e._vei={}),o=s[t];if(i&&o)o.value=i;else{const[n,a]=E(t);if(i){const o=s[t]=I(i,r);$(e,n,o,a)}else o&&(k(e,n,o,a),s[t]=void 0)}}const S=/(?:Once|Passive|Capture)$/;function E(e){let t;if(S.test(e)){let n;t={};while(n=e.match(S))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[(0,i.rs)(e.slice(2)),t]}function I(e,t){const n=e=>{const i=e.timeStamp||_();(y||i>=n.attached-1)&&(0,r.$d)(R(e,n.value),t,5,[e])};return n.value=e,n.attached=T(),n}function R(e,t){if((0,i.kJ)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const P=/^on[a-z]/,O=(e,t,n,r,s=!1,o,a,l,h)=>{"class"===t?c(e,r,s):"style"===t?u(e,n,r):(0,i.F7)(t)?(0,i.tR)(t)||A(e,t,n,r,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):L(e,t,r,s))?b(e,t,r,o,a,l,h):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),v(e,t,r,s))};function L(e,t,n,r){return r?"innerHTML"===t||"textContent"===t||!!(t in e&&P.test(t)&&(0,i.mf)(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!P.test(t)||!(0,i.HD)(n))&&t in e))))}"undefined"!==typeof HTMLElement&&HTMLElement;const U="transition",N="animation",M=(e,{slots:t})=>(0,r.h)(r.P$,B(e),t);M.displayName="Transition";const D={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},F=(M.props=(0,i.l7)({},r.P$.props,D),(e,t=[])=>{(0,i.kJ)(e)?e.forEach((e=>e(...t))):e&&e(...t)}),j=e=>!!e&&((0,i.kJ)(e)?e.some((e=>e.length>1)):e.length>1);function B(e){const t={};for(const i in e)i in D||(t[i]=e[i]);if(!1===e.css)return t;const{name:n="v",type:r,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=o,appearActiveClass:u=a,appearToClass:h=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,m=z(s),g=m&&m[0],v=m&&m[1],{onBeforeEnter:b,onEnter:_,onEnterCancelled:y,onLeave:w,onLeaveCancelled:x,onBeforeAppear:C=b,onAppear:T=_,onAppearCancelled:$=y}=t,k=(e,t,n)=>{q(e,t?h:l),q(e,t?u:a),n&&n()},A=(e,t)=>{q(e,f),q(e,p),t&&t()},S=e=>(t,n)=>{const i=e?T:_,s=()=>k(t,e,n);F(i,[t,s]),K((()=>{q(t,e?c:o),H(t,e?h:l),j(i)||G(t,r,g,s)}))};return(0,i.l7)(t,{onBeforeEnter(e){F(b,[e]),H(e,o),H(e,a)},onBeforeAppear(e){F(C,[e]),H(e,c),H(e,u)},onEnter:S(!1),onAppear:S(!0),onLeave(e,t){const n=()=>A(e,t);H(e,d),Y(),H(e,p),K((()=>{q(e,d),H(e,f),j(w)||G(e,r,v,n)})),F(w,[e,n])},onEnterCancelled(e){k(e,!1),F(y,[e])},onAppearCancelled(e){k(e,!0),F($,[e])},onLeaveCancelled(e){A(e),F(x,[e])}})}function z(e){if(null==e)return null;if((0,i.Kn)(e))return[V(e.enter),V(e.leave)];{const t=V(e);return[t,t]}}function V(e){const t=(0,i.He)(e);return t}function H(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function q(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function K(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let X=0;function G(e,t,n,i){const r=e._endId=++X,s=()=>{r===e._endId&&i()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=W(e,t);if(!o)return i();const c=o+"end";let u=0;const h=()=>{e.removeEventListener(c,d),s()},d=t=>{t.target===e&&++u>=l&&h()};setTimeout((()=>{u<l&&h()}),a+1),e.addEventListener(c,d)}function W(e,t){const n=window.getComputedStyle(e),i=e=>(n[e]||"").split(", "),r=i(U+"Delay"),s=i(U+"Duration"),o=J(r,s),a=i(N+"Delay"),l=i(N+"Duration"),c=J(a,l);let u=null,h=0,d=0;t===U?o>0&&(u=U,h=o,d=s.length):t===N?c>0&&(u=N,h=c,d=l.length):(h=Math.max(o,c),u=h>0?o>c?U:N:null,d=u?u===U?s.length:l.length:0);const p=u===U&&/\b(transform|all)(,|$)/.test(n[U+"Property"]);return{type:u,timeout:h,propCount:d,hasTransform:p}}function J(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,n)=>Z(t)+Z(e[n]))))}function Z(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Y(){return document.body.offsetHeight}new WeakMap,new WeakMap;const Q=(0,i.l7)({patchProp:O},l);let ee;function te(){return ee||(ee=(0,r.Us)(Q))}const ne=(...e)=>{const t=te().createApp(...e);const{mount:n}=t;return t.mount=e=>{const r=ie(e);if(!r)return;const s=t._component;(0,i.mf)(s)||s.render||s.template||(s.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function ie(e){if((0,i.HD)(e)){const t=document.querySelector(e);return t}return e}},3577:function(e,t,n){"use strict";function i(e,t){const n=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)n[i[r]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,{C_:function(){return p},DM:function(){return I},E9:function(){return te},F7:function(){return x},Gg:function(){return z},HD:function(){return O},He:function(){return Q},Kn:function(){return U},NO:function(){return y},Nj:function(){return Y},Od:function(){return $},PO:function(){return j},Pq:function(){return a},RI:function(){return A},S0:function(){return B},W7:function(){return F},WV:function(){return m},Z6:function(){return b},_A:function(){return q},_N:function(){return E},aU:function(){return J},dG:function(){return _},e1:function(){return s},fY:function(){return i},hR:function(){return W},hq:function(){return g},ir:function(){return Z},j5:function(){return c},kC:function(){return G},kJ:function(){return S},kT:function(){return v},l7:function(){return T},mf:function(){return P},rs:function(){return X},tI:function(){return N},tR:function(){return C},yA:function(){return l},yk:function(){return L}});const r="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",s=i(r);const o="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",a=i(o);function l(e){return!!e||""===e}function c(e){if(S(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=O(i)?d(i):c(i);if(r)for(const e in r)t[e]=r[e]}return t}return O(e)||U(e)?e:void 0}const u=/;(?![^(]*\))/g,h=/:(.+)/;function d(e){const t={};return e.split(u).forEach((e=>{if(e){const n=e.split(h);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function p(e){let t="";if(O(e))t=e;else if(S(e))for(let n=0;n<e.length;n++){const i=p(e[n]);i&&(t+=i+" ")}else if(U(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function f(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=m(e[i],t[i]);return n}function m(e,t){if(e===t)return!0;let n=R(e),i=R(t);if(n||i)return!(!n||!i)&&e.getTime()===t.getTime();if(n=S(e),i=S(t),n||i)return!(!n||!i)&&f(e,t);if(n=U(e),i=U(t),n||i){if(!n||!i)return!1;const r=Object.keys(e).length,s=Object.keys(t).length;if(r!==s)return!1;for(const n in e){const i=e.hasOwnProperty(n),r=t.hasOwnProperty(n);if(i&&!r||!i&&r||!m(e[n],t[n]))return!1}}return String(e)===String(t)}function g(e,t){return e.findIndex((e=>m(e,t)))}const v={},b=[],_=()=>{},y=()=>!1,w=/^on[^a-z]/,x=e=>w.test(e),C=e=>e.startsWith("onUpdate:"),T=Object.assign,$=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},k=Object.prototype.hasOwnProperty,A=(e,t)=>k.call(e,t),S=Array.isArray,E=e=>"[object Map]"===D(e),I=e=>"[object Set]"===D(e),R=e=>e instanceof Date,P=e=>"function"===typeof e,O=e=>"string"===typeof e,L=e=>"symbol"===typeof e,U=e=>null!==e&&"object"===typeof e,N=e=>U(e)&&P(e.then)&&P(e.catch),M=Object.prototype.toString,D=e=>M.call(e),F=e=>D(e).slice(8,-1),j=e=>"[object Object]"===D(e),B=e=>O(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,z=i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),V=e=>{const t=Object.create(null);return n=>{const i=t[n];return i||(t[n]=e(n))}},H=/-(\w)/g,q=V((e=>e.replace(H,((e,t)=>t?t.toUpperCase():"")))),K=/\B([A-Z])/g,X=V((e=>e.replace(K,"-$1").toLowerCase())),G=V((e=>e.charAt(0).toUpperCase()+e.slice(1))),W=V((e=>e?`on${G(e)}`:"")),J=(e,t)=>!Object.is(e,t),Z=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Y=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Q=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ee;const te=()=>ee||(ee="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})},9662:function(e,t,n){var i=n(7854),r=n(614),s=n(6330),o=i.TypeError;e.exports=function(e){if(r(e))return e;throw o(s(e)+" is not a function")}},9483:function(e,t,n){var i=n(7854),r=n(4411),s=n(6330),o=i.TypeError;e.exports=function(e){if(r(e))return e;throw o(s(e)+" is not a constructor")}},6077:function(e,t,n){var i=n(7854),r=n(614),s=i.String,o=i.TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw o("Can't set "+s(e)+" as a prototype")}},1223:function(e,t,n){var i=n(5112),r=n(30),s=n(3070),o=i("unscopables"),a=Array.prototype;void 0==a[o]&&s.f(a,o,{configurable:!0,value:r(null)}),e.exports=function(e){a[o][e]=!0}},5787:function(e,t,n){var i=n(7854),r=n(7976),s=i.TypeError;e.exports=function(e,t){if(r(t,e))return e;throw s("Incorrect invocation")}},9670:function(e,t,n){var i=n(7854),r=n(111),s=i.String,o=i.TypeError;e.exports=function(e){if(r(e))return e;throw o(s(e)+" is not an object")}},1318:function(e,t,n){var i=n(5656),r=n(1400),s=n(6244),o=function(e){return function(t,n,o){var a,l=i(t),c=s(l),u=r(o,c);if(e&&n!=n){while(c>u)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},206:function(e,t,n){var i=n(1702);e.exports=i([].slice)},7072:function(e,t,n){var i=n(5112),r=i("iterator"),s=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){s=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(l){}e.exports=function(e,t){if(!t&&!s)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(l){}return n}},4326:function(e,t,n){var i=n(1702),r=i({}.toString),s=i("".slice);e.exports=function(e){return s(r(e),8,-1)}},648:function(e,t,n){var i=n(7854),r=n(1694),s=n(614),o=n(4326),a=n(5112),l=a("toStringTag"),c=i.Object,u="Arguments"==o(function(){return arguments}()),h=function(e,t){try{return e[t]}catch(n){}};e.exports=r?o:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=h(t=c(e),l))?n:u?o(t):"Object"==(i=o(t))&&s(t.callee)?"Arguments":i}},9920:function(e,t,n){var i=n(2597),r=n(3887),s=n(1236),o=n(3070);e.exports=function(e,t,n){for(var a=r(t),l=o.f,c=s.f,u=0;u<a.length;u++){var h=a[u];i(e,h)||n&&i(n,h)||l(e,h,c(t,h))}}},8544:function(e,t,n){var i=n(7293);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4994:function(e,t,n){"use strict";var i=n(3383).IteratorPrototype,r=n(30),s=n(9114),o=n(8003),a=n(7497),l=function(){return this};e.exports=function(e,t,n,c){var u=t+" Iterator";return e.prototype=r(i,{next:s(+!c,n)}),o(e,u,!1,!0),a[u]=l,e}},8880:function(e,t,n){var i=n(9781),r=n(3070),s=n(9114);e.exports=i?function(e,t,n){return r.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},654:function(e,t,n){"use strict";var i=n(2109),r=n(6916),s=n(1913),o=n(6530),a=n(614),l=n(4994),c=n(9518),u=n(7674),h=n(8003),d=n(8880),p=n(1320),f=n(5112),m=n(7497),g=n(3383),v=o.PROPER,b=o.CONFIGURABLE,_=g.IteratorPrototype,y=g.BUGGY_SAFARI_ITERATORS,w=f("iterator"),x="keys",C="values",T="entries",$=function(){return this};e.exports=function(e,t,n,o,f,g,k){l(n,t,o);var A,S,E,I=function(e){if(e===f&&U)return U;if(!y&&e in O)return O[e];switch(e){case x:return function(){return new n(this,e)};case C:return function(){return new n(this,e)};case T:return function(){return new n(this,e)}}return function(){return new n(this)}},R=t+" Iterator",P=!1,O=e.prototype,L=O[w]||O["@@iterator"]||f&&O[f],U=!y&&L||I(f),N="Array"==t&&O.entries||L;if(N&&(A=c(N.call(new e)),A!==Object.prototype&&A.next&&(s||c(A)===_||(u?u(A,_):a(A[w])||p(A,w,$)),h(A,R,!0,!0),s&&(m[R]=$))),v&&f==C&&L&&L.name!==C&&(!s&&b?d(O,"name",C):(P=!0,U=function(){return r(L,this)})),f)if(S={values:I(C),keys:g?U:I(x),entries:I(T)},k)for(E in S)(y||P||!(E in O))&&p(O,E,S[E]);else i({target:t,proto:!0,forced:y||P},S);return s&&!k||O[w]===U||p(O,w,U,{name:f}),m[t]=U,S}},9781:function(e,t,n){var i=n(7293);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(e,t,n){var i=n(7854),r=n(111),s=i.document,o=r(s)&&r(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},7871:function(e){e.exports="object"==typeof window&&"object"!=typeof Deno},1528:function(e,t,n){var i=n(8113),r=n(7854);e.exports=/ipad|iphone|ipod/i.test(i)&&void 0!==r.Pebble},6833:function(e,t,n){var i=n(8113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},5268:function(e,t,n){var i=n(4326),r=n(7854);e.exports="process"==i(r.process)},1036:function(e,t,n){var i=n(8113);e.exports=/web0s(?!.*chrome)/i.test(i)},8113:function(e,t,n){var i=n(5005);e.exports=i("navigator","userAgent")||""},7392:function(e,t,n){var i,r,s=n(7854),o=n(8113),a=s.process,l=s.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(i=u.split("."),r=i[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&o&&(i=o.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/),i&&(r=+i[1]))),e.exports=r},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(e,t,n){var i=n(7854),r=n(1236).f,s=n(8880),o=n(1320),a=n(3505),l=n(9920),c=n(4705);e.exports=function(e,t){var n,u,h,d,p,f,m=e.target,g=e.global,v=e.stat;if(u=g?i:v?i[m]||a(m,{}):(i[m]||{}).prototype,u)for(h in t){if(p=t[h],e.noTargetGet?(f=r(u,h),d=f&&f.value):d=u[h],n=c(g?h:m+(v?".":"#")+h,e.forced),!n&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(e.sham||d&&d.sham)&&s(p,"sham",!0),o(u,h,p,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},2104:function(e,t,n){var i=n(4374),r=Function.prototype,s=r.apply,o=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?o.bind(s):function(){return o.apply(s,arguments)})},9974:function(e,t,n){var i=n(1702),r=n(9662),s=n(4374),o=i(i.bind);e.exports=function(e,t){return r(e),void 0===t?e:s?o(e,t):function(){return e.apply(t,arguments)}}},4374:function(e,t,n){var i=n(7293);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:function(e,t,n){var i=n(4374),r=Function.prototype.call;e.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},6530:function(e,t,n){var i=n(9781),r=n(2597),s=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,a=r(s,"name"),l=a&&"something"===function(){}.name,c=a&&(!i||i&&o(s,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},1702:function(e,t,n){var i=n(4374),r=Function.prototype,s=r.bind,o=r.call,a=i&&s.bind(o,o);e.exports=i?function(e){return e&&a(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},5005:function(e,t,n){var i=n(7854),r=n(614),s=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?s(i[e]):i[e]&&i[e][t]}},1246:function(e,t,n){var i=n(648),r=n(8173),s=n(7497),o=n(5112),a=o("iterator");e.exports=function(e){if(void 0!=e)return r(e,a)||r(e,"@@iterator")||s[i(e)]}},8554:function(e,t,n){var i=n(7854),r=n(6916),s=n(9662),o=n(9670),a=n(6330),l=n(1246),c=i.TypeError;e.exports=function(e,t){var n=arguments.length<2?l(e):t;if(s(n))return o(r(n,e));throw c(a(e)+" is not iterable")}},8173:function(e,t,n){var i=n(9662);e.exports=function(e,t){var n=e[t];return null==n?void 0:i(n)}},7854:function(e,t,n){var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(e,t,n){var i=n(1702),r=n(7908),s=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(r(e),t)}},3501:function(e){e.exports={}},842:function(e,t,n){var i=n(7854);e.exports=function(e,t){var n=i.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},490:function(e,t,n){var i=n(5005);e.exports=i("document","documentElement")},4664:function(e,t,n){var i=n(9781),r=n(7293),s=n(317);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},8361:function(e,t,n){var i=n(7854),r=n(1702),s=n(7293),o=n(4326),a=i.Object,l=r("".split);e.exports=s((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?l(e,""):a(e)}:a},2788:function(e,t,n){var i=n(1702),r=n(614),s=n(5465),o=i(Function.toString);r(s.inspectSource)||(s.inspectSource=function(e){return o(e)}),e.exports=s.inspectSource},9909:function(e,t,n){var i,r,s,o=n(8536),a=n(7854),l=n(1702),c=n(111),u=n(8880),h=n(2597),d=n(5465),p=n(6200),f=n(3501),m="Object already initialized",g=a.TypeError,v=a.WeakMap,b=function(e){return s(e)?r(e):i(e,{})},_=function(e){return function(t){var n;if(!c(t)||(n=r(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}};if(o||d.state){var y=d.state||(d.state=new v),w=l(y.get),x=l(y.has),C=l(y.set);i=function(e,t){if(x(y,e))throw new g(m);return t.facade=e,C(y,e,t),t},r=function(e){return w(y,e)||{}},s=function(e){return x(y,e)}}else{var T=p("state");f[T]=!0,i=function(e,t){if(h(e,T))throw new g(m);return t.facade=e,u(e,T,t),t},r=function(e){return h(e,T)?e[T]:{}},s=function(e){return h(e,T)}}e.exports={set:i,get:r,has:s,enforce:b,getterFor:_}},7659:function(e,t,n){var i=n(5112),r=n(7497),s=i("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[s]===e)}},614:function(e){e.exports=function(e){return"function"==typeof e}},4411:function(e,t,n){var i=n(1702),r=n(7293),s=n(614),o=n(648),a=n(5005),l=n(2788),c=function(){},u=[],h=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=i(d.exec),f=!d.exec(c),m=function(e){if(!s(e))return!1;try{return h(c,u,e),!0}catch(t){return!1}},g=function(e){if(!s(e))return!1;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(d,l(e))}catch(t){return!0}};g.sham=!0,e.exports=!h||r((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?g:m},4705:function(e,t,n){var i=n(7293),r=n(614),s=/#|\.prototype\./,o=function(e,t){var n=l[a(e)];return n==u||n!=c&&(r(t)?i(t):!!t)},a=o.normalize=function(e){return String(e).replace(s,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},111:function(e,t,n){var i=n(614);e.exports=function(e){return"object"==typeof e?null!==e:i(e)}},1913:function(e){e.exports=!1},2190:function(e,t,n){var i=n(7854),r=n(5005),s=n(614),o=n(7976),a=n(3307),l=i.Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return s(t)&&o(t.prototype,l(e))}},408:function(e,t,n){var i=n(7854),r=n(9974),s=n(6916),o=n(9670),a=n(6330),l=n(7659),c=n(6244),u=n(7976),h=n(8554),d=n(1246),p=n(9212),f=i.TypeError,m=function(e,t){this.stopped=e,this.result=t},g=m.prototype;e.exports=function(e,t,n){var i,v,b,_,y,w,x,C=n&&n.that,T=!(!n||!n.AS_ENTRIES),$=!(!n||!n.IS_ITERATOR),k=!(!n||!n.INTERRUPTED),A=r(t,C),S=function(e){return i&&p(i,"normal",e),new m(!0,e)},E=function(e){return T?(o(e),k?A(e[0],e[1],S):A(e[0],e[1])):k?A(e,S):A(e)};if($)i=e;else{if(v=d(e),!v)throw f(a(e)+" is not iterable");if(l(v)){for(b=0,_=c(e);_>b;b++)if(y=E(e[b]),y&&u(g,y))return y;return new m(!1)}i=h(e,v)}w=i.next;while(!(x=s(w,i)).done){try{y=E(x.value)}catch(I){p(i,"throw",I)}if("object"==typeof y&&y&&u(g,y))return y}return new m(!1)}},9212:function(e,t,n){var i=n(6916),r=n(9670),s=n(8173);e.exports=function(e,t,n){var o,a;r(e);try{if(o=s(e,"return"),!o){if("throw"===t)throw n;return n}o=i(o,e)}catch(l){a=!0,o=l}if("throw"===t)throw n;if(a)throw o;return r(o),n}},3383:function(e,t,n){"use strict";var i,r,s,o=n(7293),a=n(614),l=n(30),c=n(9518),u=n(1320),h=n(5112),d=n(1913),p=h("iterator"),f=!1;[].keys&&(s=[].keys(),"next"in s?(r=c(c(s)),r!==Object.prototype&&(i=r)):f=!0);var m=void 0==i||o((function(){var e={};return i[p].call(e)!==e}));m?i={}:d&&(i=l(i)),a(i[p])||u(i,p,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:f}},7497:function(e){e.exports={}},6244:function(e,t,n){var i=n(7466);e.exports=function(e){return i(e.length)}},5948:function(e,t,n){var i,r,s,o,a,l,c,u,h=n(7854),d=n(9974),p=n(1236).f,f=n(261).set,m=n(6833),g=n(1528),v=n(1036),b=n(5268),_=h.MutationObserver||h.WebKitMutationObserver,y=h.document,w=h.process,x=h.Promise,C=p(h,"queueMicrotask"),T=C&&C.value;T||(i=function(){var e,t;b&&(e=w.domain)&&e.exit();while(r){t=r.fn,r=r.next;try{t()}catch(n){throw r?o():s=void 0,n}}s=void 0,e&&e.enter()},m||b||v||!_||!y?!g&&x&&x.resolve?(c=x.resolve(void 0),c.constructor=x,u=d(c.then,c),o=function(){u(i)}):b?o=function(){w.nextTick(i)}:(f=d(f,h),o=function(){f(i)}):(a=!0,l=y.createTextNode(""),new _(i).observe(l,{characterData:!0}),o=function(){l.data=a=!a})),e.exports=T||function(e){var t={fn:e,next:void 0};s&&(s.next=t),r||(r=t,o()),s=t}},133:function(e,t,n){var i=n(7392),r=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},8536:function(e,t,n){var i=n(7854),r=n(614),s=n(2788),o=i.WeakMap;e.exports=r(o)&&/native code/.test(s(o))},8523:function(e,t,n){"use strict";var i=n(9662),r=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},1574:function(e,t,n){"use strict";var i=n(9781),r=n(1702),s=n(6916),o=n(7293),a=n(1956),l=n(5181),c=n(5296),u=n(7908),h=n(8361),d=Object.assign,p=Object.defineProperty,f=r([].concat);e.exports=!d||o((function(){if(i&&1!==d({b:1},d(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||a(d({},t)).join("")!=r}))?function(e,t){var n=u(e),r=arguments.length,o=1,d=l.f,p=c.f;while(r>o){var m,g=h(arguments[o++]),v=d?f(a(g),d(g)):a(g),b=v.length,_=0;while(b>_)m=v[_++],i&&!s(p,g,m)||(n[m]=g[m])}return n}:d},30:function(e,t,n){var i,r=n(9670),s=n(6048),o=n(748),a=n(3501),l=n(490),c=n(317),u=n(6200),h=">",d="<",p="prototype",f="script",m=u("IE_PROTO"),g=function(){},v=function(e){return d+f+h+e+d+"/"+f+h},b=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},_=function(){var e,t=c("iframe"),n="java"+f+":";return t.style.display="none",l.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},y=function(){try{i=new ActiveXObject("htmlfile")}catch(t){}y="undefined"!=typeof document?document.domain&&i?b(i):_():b(i);var e=o.length;while(e--)delete y[p][o[e]];return y()};a[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[p]=r(e),n=new g,g[p]=null,n[m]=e):n=y(),void 0===t?n:s.f(n,t)}},6048:function(e,t,n){var i=n(9781),r=n(3353),s=n(3070),o=n(9670),a=n(5656),l=n(1956);t.f=i&&!r?Object.defineProperties:function(e,t){o(e);var n,i=a(t),r=l(t),c=r.length,u=0;while(c>u)s.f(e,n=r[u++],i[n]);return e}},3070:function(e,t,n){var i=n(7854),r=n(9781),s=n(4664),o=n(3353),a=n(9670),l=n(4948),c=i.TypeError,u=Object.defineProperty,h=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",f="writable";t.f=r?o?function(e,t,n){if(a(e),t=l(t),a(n),"function"===typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var i=h(e,t);i&&i[f]&&(e[t]=n.value,n={configurable:p in n?n[p]:i[p],enumerable:d in n?n[d]:i[d],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=l(t),a(n),s)try{return u(e,t,n)}catch(i){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,t,n){var i=n(9781),r=n(6916),s=n(5296),o=n(9114),a=n(5656),l=n(4948),c=n(2597),u=n(4664),h=Object.getOwnPropertyDescriptor;t.f=i?h:function(e,t){if(e=a(e),t=l(t),u)try{return h(e,t)}catch(n){}if(c(e,t))return o(!r(s.f,e,t),e[t])}},8006:function(e,t,n){var i=n(6324),r=n(748),s=r.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,s)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},9518:function(e,t,n){var i=n(7854),r=n(2597),s=n(614),o=n(7908),a=n(6200),l=n(8544),c=a("IE_PROTO"),u=i.Object,h=u.prototype;e.exports=l?u.getPrototypeOf:function(e){var t=o(e);if(r(t,c))return t[c];var n=t.constructor;return s(n)&&t instanceof n?n.prototype:t instanceof u?h:null}},7976:function(e,t,n){var i=n(1702);e.exports=i({}.isPrototypeOf)},6324:function(e,t,n){var i=n(1702),r=n(2597),s=n(5656),o=n(1318).indexOf,a=n(3501),l=i([].push);e.exports=function(e,t){var n,i=s(e),c=0,u=[];for(n in i)!r(a,n)&&r(i,n)&&l(u,n);while(t.length>c)r(i,n=t[c++])&&(~o(u,n)||l(u,n));return u}},1956:function(e,t,n){var i=n(6324),r=n(748);e.exports=Object.keys||function(e){return i(e,r)}},5296:function(e,t){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);t.f=r?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},7674:function(e,t,n){var i=n(1702),r=n(9670),s=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(o){}return function(n,i){return r(n),s(i),t?e(n,i):n.__proto__=i,n}}():void 0)},2140:function(e,t,n){var i=n(7854),r=n(6916),s=n(614),o=n(111),a=i.TypeError;e.exports=function(e,t){var n,i;if("string"===t&&s(n=e.toString)&&!o(i=r(n,e)))return i;if(s(n=e.valueOf)&&!o(i=r(n,e)))return i;if("string"!==t&&s(n=e.toString)&&!o(i=r(n,e)))return i;throw a("Can't convert object to primitive value")}},3887:function(e,t,n){var i=n(5005),r=n(1702),s=n(8006),o=n(5181),a=n(9670),l=r([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=s.f(a(e)),n=o.f;return n?l(t,n(e)):t}},2534:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},3702:function(e,t,n){var i=n(7854),r=n(2492),s=n(614),o=n(4705),a=n(2788),l=n(5112),c=n(7871),u=n(1913),h=n(7392),d=r&&r.prototype,p=l("species"),f=!1,m=s(i.PromiseRejectionEvent),g=o("Promise",(function(){var e=a(r),t=e!==String(r);if(!t&&66===h)return!0;if(u&&(!d["catch"]||!d["finally"]))return!0;if(h>=51&&/native code/.test(e))return!1;var n=new r((function(e){e(1)})),i=function(e){e((function(){}),(function(){}))},s=n.constructor={};return s[p]=i,f=n.then((function(){}))instanceof i,!f||!t&&c&&!m}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:m,SUBCLASSING:f}},2492:function(e,t,n){var i=n(7854);e.exports=i.Promise},9478:function(e,t,n){var i=n(9670),r=n(111),s=n(8523);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=s.f(e),o=n.resolve;return o(t),n.promise}},612:function(e,t,n){var i=n(2492),r=n(7072),s=n(3702).CONSTRUCTOR;e.exports=s||!r((function(e){i.all(e).then(void 0,(function(){}))}))},8572:function(e){var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},2248:function(e,t,n){var i=n(1320);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},1320:function(e,t,n){var i=n(7854),r=n(614),s=n(2597),o=n(8880),a=n(3505),l=n(2788),c=n(9909),u=n(6530).CONFIGURABLE,h=c.get,d=c.enforce,p=String(String).split("String");(e.exports=function(e,t,n,l){var c,h=!!l&&!!l.unsafe,f=!!l&&!!l.enumerable,m=!!l&&!!l.noTargetGet,g=l&&void 0!==l.name?l.name:t;r(n)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!s(n,"name")||u&&n.name!==g)&&o(n,"name",g),c=d(n),c.source||(c.source=p.join("string"==typeof g?g:""))),e!==i?(h?!m&&e[t]&&(f=!0):delete e[t],f?e[t]=n:o(e,t,n)):f?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return r(this)&&h(this).source||l(this)}))},4488:function(e,t,n){var i=n(7854),r=i.TypeError;e.exports=function(e){if(void 0==e)throw r("Can't call method on "+e);return e}},3505:function(e,t,n){var i=n(7854),r=Object.defineProperty;e.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},6340:function(e,t,n){"use strict";var i=n(5005),r=n(3070),s=n(5112),o=n(9781),a=s("species");e.exports=function(e){var t=i(e),n=r.f;o&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},8003:function(e,t,n){var i=n(3070).f,r=n(2597),s=n(5112),o=s("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!r(e,o)&&i(e,o,{configurable:!0,value:t})}},6200:function(e,t,n){var i=n(2309),r=n(9711),s=i("keys");e.exports=function(e){return s[e]||(s[e]=r(e))}},5465:function(e,t,n){var i=n(7854),r=n(3505),s="__core-js_shared__",o=i[s]||r(s,{});e.exports=o},2309:function(e,t,n){var i=n(1913),r=n(5465);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.1",mode:i?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.1/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:function(e,t,n){var i=n(9670),r=n(9483),s=n(5112),o=s("species");e.exports=function(e,t){var n,s=i(e).constructor;return void 0===s||void 0==(n=i(s)[o])?t:r(n)}},261:function(e,t,n){var i,r,s,o,a=n(7854),l=n(2104),c=n(9974),u=n(614),h=n(2597),d=n(7293),p=n(490),f=n(206),m=n(317),g=n(8053),v=n(6833),b=n(5268),_=a.setImmediate,y=a.clearImmediate,w=a.process,x=a.Dispatch,C=a.Function,T=a.MessageChannel,$=a.String,k=0,A={},S="onreadystatechange";try{i=a.location}catch(O){}var E=function(e){if(h(A,e)){var t=A[e];delete A[e],t()}},I=function(e){return function(){E(e)}},R=function(e){E(e.data)},P=function(e){a.postMessage($(e),i.protocol+"//"+i.host)};_&&y||(_=function(e){g(arguments.length,1);var t=u(e)?e:C(e),n=f(arguments,1);return A[++k]=function(){l(t,void 0,n)},r(k),k},y=function(e){delete A[e]},b?r=function(e){w.nextTick(I(e))}:x&&x.now?r=function(e){x.now(I(e))}:T&&!v?(s=new T,o=s.port2,s.port1.onmessage=R,r=c(o.postMessage,o)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&i&&"file:"!==i.protocol&&!d(P)?(r=P,a.addEventListener("message",R,!1)):r=S in m("script")?function(e){p.appendChild(m("script"))[S]=function(){p.removeChild(this),E(e)}}:function(e){setTimeout(I(e),0)}),e.exports={set:_,clear:y}},1400:function(e,t,n){var i=n(9303),r=Math.max,s=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):s(n,t)}},5656:function(e,t,n){var i=n(8361),r=n(4488);e.exports=function(e){return i(r(e))}},9303:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){var i=+e;return i!==i||0===i?0:(i>0?n:t)(i)}},7466:function(e,t,n){var i=n(9303),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},7908:function(e,t,n){var i=n(7854),r=n(4488),s=i.Object;e.exports=function(e){return s(r(e))}},7593:function(e,t,n){var i=n(7854),r=n(6916),s=n(111),o=n(2190),a=n(8173),l=n(2140),c=n(5112),u=i.TypeError,h=c("toPrimitive");e.exports=function(e,t){if(!s(e)||o(e))return e;var n,i=a(e,h);if(i){if(void 0===t&&(t="default"),n=r(i,e,t),!s(n)||o(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},4948:function(e,t,n){var i=n(7593),r=n(2190);e.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},1694:function(e,t,n){var i=n(5112),r=i("toStringTag"),s={};s[r]="z",e.exports="[object z]"===String(s)},6330:function(e,t,n){var i=n(7854),r=i.String;e.exports=function(e){try{return r(e)}catch(t){return"Object"}}},9711:function(e,t,n){var i=n(1702),r=0,s=Math.random(),o=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++r+s,36)}},3307:function(e,t,n){var i=n(133);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,n){var i=n(9781),r=n(7293);e.exports=i&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:function(e,t,n){var i=n(7854),r=i.TypeError;e.exports=function(e,t){if(e<t)throw r("Not enough arguments");return e}},5112:function(e,t,n){var i=n(7854),r=n(2309),s=n(2597),o=n(9711),a=n(133),l=n(3307),c=r("wks"),u=i.Symbol,h=u&&u["for"],d=l?u:u&&u.withoutSetter||o;e.exports=function(e){if(!s(c,e)||!a&&"string"!=typeof c[e]){var t="Symbol."+e;a&&s(u,e)?c[e]=u[e]:c[e]=l&&h?h(t):d(t)}return c[e]}},6992:function(e,t,n){"use strict";var i=n(5656),r=n(1223),s=n(7497),o=n(9909),a=n(3070).f,l=n(654),c=n(1913),u=n(9781),h="Array Iterator",d=o.set,p=o.getterFor(h);e.exports=l(Array,"Array",(function(e,t){d(this,{type:h,target:i(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values");var f=s.Arguments=s.Array;if(r("keys"),r("values"),r("entries"),!c&&u&&"values"!==f.name)try{a(f,"name",{value:"values"})}catch(m){}},9601:function(e,t,n){var i=n(2109),r=n(1574);i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},821:function(e,t,n){"use strict";var i=n(2109),r=n(6916),s=n(9662),o=n(8523),a=n(2534),l=n(408),c=n(612);i({target:"Promise",stat:!0,forced:c},{all:function(e){var t=this,n=o.f(t),i=n.resolve,c=n.reject,u=a((function(){var n=s(t.resolve),o=[],a=0,u=1;l(e,(function(e){var s=a++,l=!1;u++,r(n,t,e).then((function(e){l||(l=!0,o[s]=e,--u||i(o))}),c)})),--u||i(o)}));return u.error&&c(u.value),n.promise}})},4164:function(e,t,n){"use strict";var i=n(2109),r=n(1913),s=n(3702).CONSTRUCTOR,o=n(2492),a=n(5005),l=n(614),c=n(1320),u=o&&o.prototype;if(i({target:"Promise",proto:!0,forced:s,real:!0},{catch:function(e){return this.then(void 0,e)}}),!r&&l(o)){var h=a("Promise").prototype["catch"];u["catch"]!==h&&c(u,"catch",h,{unsafe:!0})}},3401:function(e,t,n){"use strict";var i,r,s,o,a=n(2109),l=n(1913),c=n(5268),u=n(7854),h=n(6916),d=n(1320),p=n(2248),f=n(7674),m=n(8003),g=n(6340),v=n(9662),b=n(614),_=n(111),y=n(5787),w=n(6707),x=n(261).set,C=n(5948),T=n(842),$=n(2534),k=n(8572),A=n(9909),S=n(2492),E=n(3702),I=n(8523),R="Promise",P=E.CONSTRUCTOR,O=E.REJECTION_EVENT,L=E.SUBCLASSING,U=A.getterFor(R),N=A.set,M=S&&S.prototype,D=S,F=M,j=u.TypeError,B=u.document,z=u.process,V=I.f,H=V,q=!!(B&&B.createEvent&&u.dispatchEvent),K="unhandledrejection",X="rejectionhandled",G=0,W=1,J=2,Z=1,Y=2,Q=function(e){var t;return!(!_(e)||!b(t=e.then))&&t},ee=function(e,t){var n,i,r,s=t.value,o=t.state==W,a=o?e.ok:e.fail,l=e.resolve,c=e.reject,u=e.domain;try{a?(o||(t.rejection===Y&&se(t),t.rejection=Z),!0===a?n=s:(u&&u.enter(),n=a(s),u&&(u.exit(),r=!0)),n===e.promise?c(j("Promise-chain cycle")):(i=Q(n))?h(i,n,l,c):l(n)):c(s)}catch(d){u&&!r&&u.exit(),c(d)}},te=function(e,t){e.notified||(e.notified=!0,C((function(){var n,i=e.reactions;while(n=i.get())ee(n,e);e.notified=!1,t&&!e.rejection&&ie(e)})))},ne=function(e,t,n){var i,r;q?(i=B.createEvent("Event"),i.promise=t,i.reason=n,i.initEvent(e,!1,!0),u.dispatchEvent(i)):i={promise:t,reason:n},!O&&(r=u["on"+e])?r(i):e===K&&T("Unhandled promise rejection",n)},ie=function(e){h(x,u,(function(){var t,n=e.facade,i=e.value,r=re(e);if(r&&(t=$((function(){c?z.emit("unhandledRejection",i,n):ne(K,n,i)})),e.rejection=c||re(e)?Y:Z,t.error))throw t.value}))},re=function(e){return e.rejection!==Z&&!e.parent},se=function(e){h(x,u,(function(){var t=e.facade;c?z.emit("rejectionHandled",t):ne(X,t,e.value)}))},oe=function(e,t,n){return function(i){e(t,i,n)}},ae=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=J,te(e,!0))},le=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw j("Promise can't be resolved itself");var i=Q(t);i?C((function(){var n={done:!1};try{h(i,t,oe(le,n,e),oe(ae,n,e))}catch(r){ae(n,r,e)}})):(e.value=t,e.state=W,te(e,!1))}catch(r){ae({done:!1},r,e)}}};if(P&&(D=function(e){y(this,F),v(e),h(i,this);var t=U(this);try{e(oe(le,t),oe(ae,t))}catch(n){ae(t,n)}},F=D.prototype,i=function(e){N(this,{type:R,done:!1,notified:!1,parent:!1,reactions:new k,rejection:!1,state:G,value:void 0})},i.prototype=p(F,{then:function(e,t){var n=U(this),i=V(w(this,D));return n.parent=!0,i.ok=!b(e)||e,i.fail=b(t)&&t,i.domain=c?z.domain:void 0,n.state==G?n.reactions.add(i):C((function(){ee(i,n)})),i.promise}}),r=function(){var e=new i,t=U(e);this.promise=e,this.resolve=oe(le,t),this.reject=oe(ae,t)},I.f=V=function(e){return e===D||e===s?new r(e):H(e)},!l&&b(S)&&M!==Object.prototype)){o=M.then,L||d(M,"then",(function(e,t){var n=this;return new D((function(e,t){h(o,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete M.constructor}catch(ce){}f&&f(M,F)}a({global:!0,wrap:!0,forced:P},{Promise:D}),m(D,R,!1,!0),g(R)},7727:function(e,t,n){"use strict";var i=n(2109),r=n(1913),s=n(2492),o=n(7293),a=n(5005),l=n(614),c=n(6707),u=n(9478),h=n(1320),d=s&&s.prototype,p=!!s&&o((function(){d["finally"].call({then:function(){}},(function(){}))}));if(i({target:"Promise",proto:!0,real:!0,forced:p},{finally:function(e){var t=c(this,a("Promise")),n=l(e);return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),!r&&l(s)){var f=a("Promise").prototype["finally"];d["finally"]!==f&&h(d,"finally",f,{unsafe:!0})}},8674:function(e,t,n){n(3401),n(821),n(4164),n(6027),n(683),n(6294)},6027:function(e,t,n){"use strict";var i=n(2109),r=n(6916),s=n(9662),o=n(8523),a=n(2534),l=n(408),c=n(612);i({target:"Promise",stat:!0,forced:c},{race:function(e){var t=this,n=o.f(t),i=n.reject,c=a((function(){var o=s(t.resolve);l(e,(function(e){r(o,t,e).then(n.resolve,i)}))}));return c.error&&i(c.value),n.promise}})},683:function(e,t,n){"use strict";var i=n(2109),r=n(6916),s=n(8523),o=n(3702).CONSTRUCTOR;i({target:"Promise",stat:!0,forced:o},{reject:function(e){var t=s.f(this);return r(t.reject,void 0,e),t.promise}})},6294:function(e,t,n){"use strict";var i=n(2109),r=n(5005),s=n(1913),o=n(2492),a=n(3702).CONSTRUCTOR,l=n(9478),c=r("Promise"),u=s&&!a;i({target:"Promise",stat:!0,forced:s||a},{resolve:function(e){return l(u&&this===c?o:this,e)}})},3744:function(e,t){"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[i,r]of t)n[i]=r;return n}},2105:function(e,t,n){"use strict";function i(e){for(let t in e){let n=[...t].reduce(((e,t)=>(t.toUpperCase()===t&&(t="-"+t.toLowerCase()),e+t)),"");n.startsWith("-")&&(n=n.replace("-","")),n.startsWith("uc-")||(n="uc-"+n),e[t].reg?.(n)}}n.d(t,{n:function(){return i}})},3113:function(e,t,n){"use strict";function i(e){let t=e=>{for(let n in e)e[n]?.constructor===Object&&(e[n]=t(e[n]));return{...e}};return t(e)}n.r(t),n.d(t,{ActivityCaption:function(){return xn},ActivityIcon:function(){return Cn},BaseComponent:function(){return _},Block:function(){return He},CameraSource:function(){return Lt},CloudEditor:function(){return dn},CloudImageEditor:function(){return pn},ConfirmationDialog:function(){return Et},CropFrame:function(){return qn},Data:function(){return r},DataOutput:function(){return wn},DropArea:function(){return dt},EditableCanvas:function(){return Bt},EditorCropButtonControl:function(){return Wn},EditorFilterControl:function(){return Qn},EditorImageCropper:function(){return oi},EditorImageFader:function(){return di},EditorOperationControl:function(){return ei},EditorScroller:function(){return fi},EditorSlider:function(){return Yn},EditorToolbar:function(){return vi},ExternalSource:function(){return _n},FileItem:function(){return kt},FileUploaderMinimal:function(){return $n},FileUploaderRegular:function(){return Tn},Icon:function(){return qe},Img:function(){return et},LineLoaderUi:function(){return _i},MessageBox:function(){return bt},Modal:function(){return At},PresenceToggle:function(){return wi},ProgressBar:function(){return Mt},ProgressBarCommon:function(){return Nt},SimpleBtn:function(){return tt},SliderUi:function(){return xi},SourceBtn:function(){return ft},SourceList:function(){return mt},StartFrom:function(){return nt},Tabs:function(){return yn},TypedCollection:function(){return C},TypedData:function(){return x},UcBtnUi:function(){return bi},UploadDetails:function(){return Ut},UploadList:function(){return It},UrlSource:function(){return Rt},registerBlocks:function(){return Ci.n}});class r{constructor(e){this.uid=Symbol(),this.name=e.name||null,e.schema.constructor===Object?this.store=i(e.schema):(this._storeIsProxy=!0,this.store=e.schema),this.callbackMap=Object.create(null)}static warn(e,t){console.warn(`Symbiote Data: cannot ${e}. Prop name: `+t)}read(e){return this._storeIsProxy||this.store.hasOwnProperty(e)?this.store[e]:(r.warn("read",e),null)}has(e){return this._storeIsProxy?void 0!==this.store[e]:this.store.hasOwnProperty(e)}add(e,t,n=!0){!n&&Object.keys(this.store).includes(e)||(this.store[e]=t,this.callbackMap[e]&&this.callbackMap[e].forEach((t=>{t(this.store[e])})))}pub(e,t){this._storeIsProxy||this.store.hasOwnProperty(e)?this.add(e,t):r.warn("publish",e)}multiPub(e){for(let t in e)this.pub(t,e[t])}notify(e){this.callbackMap[e]&&this.callbackMap[e].forEach((t=>{t(this.store[e])}))}sub(e,t,n=!0){return this._storeIsProxy||this.store.hasOwnProperty(e)?(this.callbackMap[e]||(this.callbackMap[e]=new Set),this.callbackMap[e].add(t),n&&t(this.store[e]),{remove:()=>{this.callbackMap[e].delete(t),this.callbackMap[e].size||delete this.callbackMap[e]},callback:t}):(r.warn("subscribe",e),null)}remove(){delete r.globalStore[this.uid]}static registerLocalCtx(e){let t=new r({schema:e});return r.globalStore[t.uid]=t,t}static registerNamedCtx(e,t){let n=r.globalStore[e];return n?console.warn('State: context name "'+e+'" already in use'):(n=new r({name:e,schema:t}),r.globalStore[e]=n),n}static clearNamedCtx(e){delete r.globalStore[e]}static getNamedCtx(e,t=!0){return r.globalStore[e]||(t&&console.warn('State: wrong context name - "'+e+'"'),null)}}r.globalStore=Object.create(null);const s=Object.freeze({BIND_ATTR:"set",ATTR_BIND_PRFX:"@",EXT_DATA_CTX_PRFX:"*",NAMED_DATA_CTX_SPLTR:"/",CTX_NAME_ATTR:"ctx-name",CSS_CTX_PROP:"--ctx-name",EL_REF_ATTR:"ref",AUTO_TAG_PRFX:"sym"}),o="1234567890QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm",a=o.length-1;class l{static generate(e="XXXXXXXXX-XXX"){let t="";for(let n=0;n<e.length;n++)t+="-"===e[n]?e[n]:o.charAt(Math.random()*a);return t}}function c(e,t){if(t.shadowRoot)return;let n=[...e.querySelectorAll("slot")];if(t.initChildren.length&&n.length){let e={};n.forEach((t=>{let n=t.getAttribute("name");n?e[n]={slot:t,fr:document.createDocumentFragment()}:e.__default__={slot:t,fr:document.createDocumentFragment()}})),t.initChildren.forEach((t=>{let n=t.getAttribute?.("slot");n?(t.removeAttribute("slot"),e[n].fr.appendChild(t)):e.__default__&&e.__default__.fr.appendChild(t)})),Object.values(e).forEach((e=>{e.slot.parentNode.insertBefore(e.fr,e.slot),e.slot.remove()}))}}function u(e,t){[...e.querySelectorAll(`[${s.EL_REF_ATTR}]`)].forEach((e=>{let n=e.getAttribute(s.EL_REF_ATTR);t.ref[n]=e,e.removeAttribute(s.EL_REF_ATTR)}))}function h(e,t){[...e.querySelectorAll(`[${s.BIND_ATTR}]`)].forEach((e=>{let n=e.getAttribute(s.BIND_ATTR),i=n.split(";");i.forEach((n=>{if(!n)return;let i,r=n.split(":").map((e=>e.trim())),o=r[0];0===o.indexOf(s.ATTR_BIND_PRFX)&&(i=!0,o=o.replace(s.ATTR_BIND_PRFX,""));let a,l,c,u,h=r[1].split(",").map((e=>e.trim()));if(o.includes(".")){a=!0;let t=o.split(".");u=()=>{l=e,t.forEach(((e,n)=>{n<t.length-1?l=l[e]:c=e}))},u()}for(let s of h)t.sub(s,(t=>{i?t?.constructor===Boolean?t?e.setAttribute(o,""):e.removeAttribute(o):e.setAttribute(o,t):a?l?l[c]=t:window.setTimeout((()=>{u(),l[c]=t})):e[o]=t}))})),e.removeAttribute(s.BIND_ATTR)}))}const d="{{",p="}}",f="skip-text";function m(e){let t,n=[],i=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:e=>!e.parentElement?.hasAttribute(f)&&e.textContent.includes(d)&&e.textContent.includes(p)&&1});while(t=i.nextNode())n.push(t);return n}const g=function(e,t){let n=m(e);n.forEach((e=>{let n,i=[];while(e.textContent.includes(p))e.textContent.startsWith(d)?(n=e.textContent.indexOf(p)+p.length,e.splitText(n),i.push(e)):(n=e.textContent.indexOf(d),e.splitText(n)),e=e.nextSibling;i.forEach((e=>{let n=e.textContent.replace(d,"").replace(p,"");t.sub(n,(t=>{e.textContent=t}))}))}))};var v=[c,u,h,g];let b=0;class _ extends HTMLElement{initCallback(){}__initCallback(){this.__initialized||(this.__initialized=!0,this.initCallback?.())}static template;render(e,t=this.renderShadow){let n;if(!t&&!this.constructor["__shadowStylesUrl"]||this.shadowRoot||this.attachShadow({mode:"open"}),this.processInnerHtml)for(let r of this.tplProcessors)r(this,this);if(e||this.constructor["template"]){if(this.constructor["template"]&&!this.constructor["__tpl"]&&(this.constructor["__tpl"]=document.createElement("template"),this.constructor["__tpl"].innerHTML=this.constructor["template"]),e?.constructor===DocumentFragment)n=e;else if(e?.constructor===String){let t=document.createElement("template");t.innerHTML=e,n=t.content.cloneNode(!0)}else this.constructor["__tpl"]&&(n=this.constructor["__tpl"].content.cloneNode(!0));for(let e of this.tplProcessors)e(n,this)}let i=()=>{n&&(t&&this.shadowRoot.appendChild(n)||this.appendChild(n)),this.__initCallback()};if(this.constructor["__shadowStylesUrl"]){t=!0;let e=document.createElement("link");e.rel="stylesheet",e.href=this.constructor["__shadowStylesUrl"],e.onload=i,this.shadowRoot.prepend(e)}else i()}addTemplateProcessor(e){this.tplProcessors.add(e)}constructor(){super(),this.init$=Object.create(null),this.tplProcessors=new Set,this.ref=Object.create(null),this.allSubs=new Set,this.pauseRender=!1,this.renderShadow=!1,this.readyToDestroy=!0,this.processInnerHtml=!1}get autoCtxName(){return this.__autoCtxName||(this.__autoCtxName=l.generate(),this.style.setProperty(s.CSS_CTX_PROP,`'${this.__autoCtxName}'`)),this.__autoCtxName}get cssCtxName(){return this.getCssData(s.CSS_CTX_PROP,!0)}get ctxName(){return this.getAttribute(s.CTX_NAME_ATTR)?.trim()||this.cssCtxName||this.autoCtxName}get localCtx(){return this.__localCtx||(this.__localCtx=r.registerLocalCtx({})),this.__localCtx}get nodeCtx(){return r.getNamedCtx(this.ctxName,!1)||r.registerNamedCtx(this.ctxName,{})}static __parseProp(e,t){let n,i;if(e.startsWith(s.EXT_DATA_CTX_PRFX))n=t.nodeCtx,i=e.replace(s.EXT_DATA_CTX_PRFX,"");else if(e.includes(s.NAMED_DATA_CTX_SPLTR)){let t=e.split(s.NAMED_DATA_CTX_SPLTR);n=r.getNamedCtx(t[0]),i=t[1]}else n=t.localCtx,i=e;return{ctx:n,name:i}}sub(e,t){let n=_.__parseProp(e,this);this.allSubs.add(n.ctx.sub(n.name,t))}notify(e){let t=_.__parseProp(e,this);t.ctx.notify(t.name)}has(e){let t=_.__parseProp(e,this);return t.ctx.has(t.name)}add(e,t){let n=_.__parseProp(e,this);n.ctx.add(n.name,t,!1)}add$(e){for(let t in e)this.add(t,e[t])}get $(){if(!this.__stateProxy){let e=Object.create(null);this.__stateProxy=new Proxy(e,{set:(e,t,n)=>{let i=_.__parseProp(t,this);return i.ctx.pub(i.name,n),!0},get:(e,t)=>{let n=_.__parseProp(t,this);return n.ctx.read(n.name)}})}return this.__stateProxy}set$(e){for(let t in e)this.$[t]=e[t]}__initDataCtx(){let e=this.constructor["__attrDesc"];if(e)for(let t of Object.values(e))Object.keys(this.init$).includes(t)||(this.init$[t]="");for(let t in this.init$)if(t.startsWith(s.EXT_DATA_CTX_PRFX))this.nodeCtx.add(t.replace(s.EXT_DATA_CTX_PRFX,""),this.init$[t]);else if(t.includes(s.NAMED_DATA_CTX_SPLTR)){let e=t.split(s.NAMED_DATA_CTX_SPLTR),n=e[0].trim(),i=e[1].trim();if(n&&i){let e=r.getNamedCtx(n,!1);e||(e=r.registerNamedCtx(n,{})),e.add(i,this.init$[t])}}else this.localCtx.add(t,this.init$[t]);this.__dataCtxInitialized=!0}connectedCallback(){if(this.__disconnectTimeout&&window.clearTimeout(this.__disconnectTimeout),!this.connectedOnce){let e=this.getAttribute(s.CTX_NAME_ATTR)?.trim();e&&this.style.setProperty(s.CSS_CTX_PROP,`'${e}'`),this.__initDataCtx(),this.initChildren=[...this.childNodes];for(let t of v)this.addTemplateProcessor(t);this.pauseRender?this.__initCallback():this.render()}this.connectedOnce=!0}destroyCallback(){}disconnectedCallback(){this.dropCssDataCache(),this.readyToDestroy&&(this.__disconnectTimeout&&window.clearTimeout(this.__disconnectTimeout),this.__disconnectTimeout=window.setTimeout((()=>{this.destroyCallback();for(let e of this.allSubs)e.remove(),this.allSubs.delete(e);for(let e of this.tplProcessors)this.tplProcessors.delete(e)}),100))}static reg(e,t=!1){e||(b++,e=`${s.AUTO_TAG_PRFX}-${b}`),this.__tag=e,window.customElements.get(e)?console.warn(`${e} - is already in "customElements" registry`):window.customElements.define(e,t?class extends(this){}:this)}static get is(){return this.__tag||this.reg(),this.__tag}static bindAttributes(e){this.observedAttributes=Object.keys(e),this.__attrDesc=e}attributeChangedCallback(e,t,n){if(t===n)return;let i=this.constructor["__attrDesc"][e];i?this.__dataCtxInitialized?this.$[i]=n:this.init$[i]=n:this[e]=n}getCssData(e,t=!1){if(this.__cssDataCache||(this.__cssDataCache=Object.create(null)),!Object.keys(this.__cssDataCache).includes(e)){this.__computedStyle||(this.__computedStyle=window.getComputedStyle(this));let i=this.__computedStyle.getPropertyValue(e).trim();i.startsWith("'")&&i.endsWith("'")&&(i=i.replace(/\'/g,'"'));try{this.__cssDataCache[e]=JSON.parse(i)}catch(n){!t&&console.warn(`CSS Data error: ${e}`),this.__cssDataCache[e]=null}}return this.__cssDataCache[e]}bindCssData(e,t=!0){let n=(t?s.EXT_DATA_CTX_PRFX:"")+e;return this.add(n,this.getCssData(e,!0)),n}dropCssDataCache(){this.__cssDataCache=null,this.__computedStyle=null}defineAccessor(e,t,n){let i="__"+e;this[i]=this[e],Object.defineProperty(this,e,{set:e=>{this[i]=e,n?window.setTimeout((()=>{t?.(e)})):t?.(e)},get:()=>this[i]}),this[e]=this[i]}static set shadowStyles(e){let t=new Blob([e],{type:"text/css"});this.__shadowStylesUrl=URL.createObjectURL(t)}}const y="[Typed State] Wrong property name: ",w="[Typed State] Wrong property type: ";class x{constructor(e,t){this.__typedSchema=e,this.__ctxId=t||l.generate(),this.__schema=Object.keys(e).reduce(((t,n)=>(t[n]=e[n].value,t)),{}),this.__data=r.registerNamedCtx(this.__ctxId,this.__schema)}get uid(){return this.__ctxId}setValue(e,t){if(!this.__typedSchema.hasOwnProperty(e))return void console.warn(y+e);let n=this.__typedSchema[e];t?.constructor===n.type||n.nullable&&null===t?this.__data.pub(e,t):console.warn(w+e)}setMultipleValues(e){for(let t in e)this.setValue(t,e[t])}getValue(e){if(this.__typedSchema.hasOwnProperty(e))return this.__data.read(e);console.warn(y+e)}subscribe(e,t){return this.__data.sub(e,t)}remove(){this.__data.remove()}}class C{constructor(e){this.__typedSchema=e.typedSchema,this.__ctxId=e.ctxName||l.generate(),this.__data=r.registerNamedCtx(this.__ctxId,{}),this.__watchList=e.watchList||[],this.__handler=e.handler||null,this.__subsMap=Object.create(null),this.__observers=new Set,this.__items=new Set;let t=Object.create(null);this.__notifyObservers=(e,n)=>{this.__observeTimeout&&window.clearTimeout(this.__observeTimeout),t[e]||(t[e]=new Set),t[e].add(n),this.__observeTimeout=window.setTimeout((()=>{this.__observers.forEach((e=>{e({...t})})),t=Object.create(null)}))}}notify(){this.__notifyTimeout&&window.clearTimeout(this.__notifyTimeout),this.__notifyTimeout=window.setTimeout((()=>{this.__handler?.([...this.__items])}))}add(e){let t=new x(this.__typedSchema);for(let n in e)t.setValue(n,e[n]);return this.__data.add(t.uid,t),this.__watchList.forEach((e=>{this.__subsMap[t.uid]||(this.__subsMap[t.uid]=[]),this.__subsMap[t.uid].push(t.subscribe(e,(()=>{this.__notifyObservers(e,t.uid)})))})),this.__items.add(t.uid),this.notify(),t}read(e){return this.__data.read(e)}readProp(e,t){let n=this.read(e);return n.getValue(t)}publishProp(e,t,n){let i=this.read(e);i.setValue(t,n)}remove(e){this.__items.delete(e),this.notify(),this.__data.pub(e,null),delete this.__subsMap[e]}clearAll(){this.__items.forEach((e=>{this.remove(e)}))}observe(e){this.__observers.add(e)}unobserve(e){this.__observers.delete(e)}findItems(e){let t=[];return this.__items.forEach((n=>{let i=this.read(n);e(i)&&t.push(n)})),t}items(){return[...this.__items]}destroy(){this.__data.remove(),this.__observers=null;for(let e in this.__subsMap)this.__subsMap[e].forEach((e=>{e.remove()})),delete this.__subsMap[e]}}function T(e,t){[...e.querySelectorAll("[l10n]")].forEach((e=>{let n=e.getAttribute("l10n"),i="textContent";if(n.includes(":")){let e=n.split(":");i=e[0],n=e[1]}let r="l10n:"+n;t.__l10nKeys.push(r),t.add(r,n),t.sub(r,(n=>{e[i]=t.l10n(n)})),e.removeAttribute("l10n")}))}class $ extends Error{constructor(e,t,n,i,r){super(),this.name="UploadClientError",this.message=e,this.code=t,this.request=n,this.response=i,this.headers=r,Object.setPrototypeOf(this,$.prototype)}}const k=(e="Request canceled")=>{const t=new $(e);return t.isCancel=!0,t},A=(e,t)=>{e&&(e.aborted?Promise.resolve().then(t):e.addEventListener("abort",(()=>t()),{once:!0}))},S=({method:e,url:t,data:n,headers:i={},signal:r,onProgress:s})=>new Promise(((o,a)=>{const l=new XMLHttpRequest,c=(null===e||void 0===e?void 0:e.toUpperCase())||"GET";let u=!1;l.open(c,t),i&&Object.entries(i).forEach((e=>{const[t,n]=e;"undefined"!==typeof n&&!Array.isArray(n)&&l.setRequestHeader(t,n)})),l.responseType="text",A(r,(()=>{u=!0,l.abort(),a(k())})),l.onload=()=>{if(200!=l.status)a(new Error(`Error ${l.status}: ${l.statusText}`));else{const e={method:c,url:t,data:n,headers:i||void 0,signal:r,onProgress:s},a=l.getAllResponseHeaders().trim().split(/[\r\n]+/),u={};a.forEach((function(e){const t=e.split(": "),n=t.shift(),i=t.join(": ");n&&"undefined"!==typeof n&&(u[n]=i)}));const h=l.response,d=l.status;o({request:e,data:h,headers:u,status:d})}},l.onerror=()=>{u||a(new Error("Network error"))},s&&"function"===typeof s&&(l.upload.onprogress=e=>{e.lengthComputable?s({isComputable:!0,value:e.loaded/e.total}):s({isComputable:!1})}),n?l.send(n):l.send()}));function E(e){return e}const I=E;var R=()=>new FormData;const P=e=>"file"===e[0];function O(e){const t=R();for(const n of e)if(Array.isArray(n[1]))n[1].forEach((e=>e&&t.append(n[0]+"[]",`${e}`)));else if(P(n)){const e=n[2],i=I(n[1]);t.append(n[0],i,e)}else null!=n[1]&&t.append(n[0],`${n[1]}`);return t}const L=(e,t)=>"undefined"!==typeof t?`${e}=${encodeURIComponent(t)}`:null,U=e=>Object.entries(e).reduce(((e,[t,n])=>e.concat(Array.isArray(n)?n.map((e=>L(`${t}[]`,e))):L(t,n))),[]).filter((e=>!!e)).join("&"),N=(e,t,n)=>[e,t,n&&Object.keys(n).length>0?"?":"",n&&U(n)].filter(Boolean).join(""),M={baseCDN:"https://ucarecdn.com",baseURL:"https://upload.uploadcare.com",maxContentLength:52428800,retryThrottledRequestMaxTimes:1,multipartMinFileSize:26214400,multipartChunkSize:5242880,multipartMinLastPartSize:1048576,maxConcurrentRequests:4,multipartMaxAttempts:3,pollingTimeoutMilliseconds:1e4,pusherKey:"79ae88bd931ea68464d9"},D="application/octet-stream",F="original";var j="3.0.0";function B({userAgent:e,publicKey:t="",integration:n=""}={}){const i="UploadcareUploadClient",r=j,s="JavaScript";if("string"===typeof e)return e;if("function"===typeof e)return e({publicKey:t,libraryName:i,libraryVersion:r,languageName:s,integration:n});const o=[i,r,t].filter(Boolean).join("/"),a=[s,n].filter(Boolean).join("; ");return`${o} (${a})`}const z=/\W|_/g;function V(e){return e.split(z).map(((e,t)=>e.charAt(0)[t>0?"toUpperCase":"toLowerCase"]()+e.slice(1))).join("")}function H(e){return e&&"object"===typeof e?Object.keys(e).reduce(((t,n)=>(t[V(n)]="object"===typeof e[n]?H(e[n]):e[n],t)),{}):e}const q=e=>new Promise((t=>setTimeout(t,e))),K={factor:2,time:100};function X(e,t=K){let n=0;function i(e){const r=Math.round(t.time*Math.pow(t.factor,n)),s=t=>q(null!==t&&void 0!==t?t:r).then((()=>(n+=1,i(e))));return e({attempt:n,retry:s})}return i(e)}const G="RequestThrottledError",W=15e3;function J(e){const{headers:t}=e||{};return t&&1e3*Number.parseInt(t["x-throttle-wait-seconds"])||W}function Z(e,t){return X((({attempt:n,retry:i})=>e().catch((e=>{if("response"in e&&(null===e||void 0===e?void 0:e.code)===G&&n<t)return i(J(e));throw e}))))}function Y(e,{publicKey:t,fileName:n,baseURL:i=M.baseURL,secureSignature:r,secureExpire:s,store:o,signal:a,onProgress:l,source:c="local",integration:u,userAgent:h,retryThrottledRequestMaxTimes:d=M.retryThrottledRequestMaxTimes}){return Z((()=>{var d;return S({method:"POST",url:N(i,"/base/",{jsonerrors:1}),headers:{"X-UC-User-Agent":B({publicKey:t,integration:u,userAgent:h})},data:O([["file",e,null!==(d=null!==n&&void 0!==n?n:e.name)&&void 0!==d?d:F],["UPLOADCARE_PUB_KEY",t],["UPLOADCARE_STORE","undefined"===typeof o?"auto":o?1:0],["signature",r],["expire",s],["source",c]]),signal:a,onProgress:l}).then((({data:e,headers:t,request:n})=>{const i=H(JSON.parse(e));if("error"in i)throw new $(i.error.content,i.error.errorCode,n,i,t);return i}))}),d)}var Q,ee;function te(e,{publicKey:t,baseURL:n=M.baseURL,store:i,fileName:r,checkForUrlDuplicates:s,saveUrlForRecurrentUploads:o,secureSignature:a,secureExpire:l,source:c="url",signal:u,integration:h,userAgent:d,retryThrottledRequestMaxTimes:p=M.retryThrottledRequestMaxTimes}){return Z((()=>S({method:"POST",headers:{"X-UC-User-Agent":B({publicKey:t,integration:h,userAgent:d})},url:N(n,"/from_url/",{jsonerrors:1,pub_key:t,source_url:e,store:"undefined"===typeof i?"auto":i?1:void 0,filename:r,check_URL_duplicates:s?1:void 0,save_URL_duplicates:o?1:void 0,signature:a,expire:l,source:c}),signal:u}).then((({data:e,headers:t,request:n})=>{const i=H(JSON.parse(e));if("error"in i)throw new $(i.error.content,i.error.errorCode,n,i,t);return i}))),p)}(function(e){e["Token"]="token",e["FileInfo"]="file_info"})(Q||(Q={})),function(e){e["Unknown"]="unknown",e["Waiting"]="waiting",e["Progress"]="progress",e["Error"]="error",e["Success"]="success"}(ee||(ee={}));const ne=e=>"status"in e&&e.status===ee.Error;function ie(e,{publicKey:t,baseURL:n=M.baseURL,signal:i,integration:r,userAgent:s,retryThrottledRequestMaxTimes:o=M.retryThrottledRequestMaxTimes}={}){return Z((()=>S({method:"GET",headers:t?{"X-UC-User-Agent":B({publicKey:t,integration:r,userAgent:s})}:void 0,url:N(n,"/from_url/status/",{jsonerrors:1,token:e}),signal:i}).then((({data:e,headers:t,request:n})=>{const i=H(JSON.parse(e));if("error"in i&&!ne(i))throw new $(i.error.content,void 0,n,i,t);return i}))),o)}function re(e,{publicKey:t,baseURL:n=M.baseURL,signal:i,source:r,integration:s,userAgent:o,retryThrottledRequestMaxTimes:a=M.retryThrottledRequestMaxTimes}){return Z((()=>S({method:"GET",headers:{"X-UC-User-Agent":B({publicKey:t,integration:s,userAgent:o})},url:N(n,"/info/",{jsonerrors:1,pub_key:t,file_id:e,source:r}),signal:i}).then((({data:e,headers:t,request:n})=>{const i=H(JSON.parse(e));if("error"in i)throw new $(i.error.content,i.error.errorCode,n,i,t);return i}))),a)}function se(e,{publicKey:t,contentType:n,fileName:i,multipartChunkSize:r=M.multipartChunkSize,baseURL:s="",secureSignature:o,secureExpire:a,store:l,signal:c,source:u="local",integration:h,userAgent:d,retryThrottledRequestMaxTimes:p=M.retryThrottledRequestMaxTimes}){return Z((()=>S({method:"POST",url:N(s,"/multipart/start/",{jsonerrors:1}),headers:{"X-UC-User-Agent":B({publicKey:t,integration:h,userAgent:d})},data:O([["filename",null!==i&&void 0!==i?i:F],["size",e],["content_type",null!==n&&void 0!==n?n:D],["part_size",r],["UPLOADCARE_STORE",l?"":"auto"],["UPLOADCARE_PUB_KEY",t],["signature",o],["expire",a],["source",u]]),signal:c}).then((({data:e,headers:t,request:n})=>{const i=H(JSON.parse(e));if("error"in i)throw new $(i.error.content,i.error.errorCode,n,i,t);return i.parts=Object.keys(i.parts).map((e=>i.parts[e])),i}))),p)}function oe(e,t,{signal:n,onProgress:i}){return S({method:"PUT",url:t,data:e,onProgress:i,signal:n}).then((e=>(i&&i({isComputable:!0,value:1}),e))).then((({status:e})=>({code:e})))}function ae(e,{publicKey:t,baseURL:n=M.baseURL,source:i="local",signal:r,integration:s,userAgent:o,retryThrottledRequestMaxTimes:a=M.retryThrottledRequestMaxTimes}){return Z((()=>S({method:"POST",url:N(n,"/multipart/complete/",{jsonerrors:1}),headers:{"X-UC-User-Agent":B({publicKey:t,integration:s,userAgent:o})},data:O([["uuid",e],["UPLOADCARE_PUB_KEY",t],["source",i]]),signal:r}).then((({data:e,headers:t,request:n})=>{const i=H(JSON.parse(e));if("error"in i)throw new $(i.error.content,i.error.errorCode,n,i,t);return i}))),a)}class le{constructor(e,{baseCDN:t,defaultEffects:n,fileName:i}){this.name=null,this.size=null,this.isStored=null,this.isImage=null,this.mimeType=null,this.cdnUrl=null,this.cdnUrlModifiers=null,this.originalUrl=null,this.originalFilename=null,this.imageInfo=null,this.videoInfo=null;const{uuid:r,s3Bucket:s}=e,o=s?`https://${s}.s3.amazonaws.com/${r}/${e.filename}`:`${t}/${r}/`,a=n?`-/${n}`:null,l=`${o}${a||""}`,c=r?o:null;this.uuid=r,this.name=i||e.filename,this.size=e.size,this.isStored=e.isStored,this.isImage=e.isImage,this.mimeType=e.mimeType,this.cdnUrl=l,this.cdnUrlModifiers=a,this.originalUrl=c,this.originalFilename=e.originalFilename,this.imageInfo=H(e.imageInfo),this.videoInfo=H(e.videoInfo)}}const ce=500,ue=({check:e,interval:t=ce,signal:n})=>new Promise(((i,r)=>{let s;A(n,(()=>{s&&clearTimeout(s),r(k("Poll cancelled"))}));const o=()=>{try{Promise.resolve(e(n)).then((e=>{e?i(e):s=setTimeout(o,t)})).catch((e=>r(e)))}catch(a){r(a)}};s=setTimeout(o,0)}));function he({file:e,publicKey:t,baseURL:n,source:i,integration:r,userAgent:s,retryThrottledRequestMaxTimes:o,signal:a,onProgress:l}){return ue({check:a=>re(e,{publicKey:t,baseURL:n,signal:a,source:i,integration:r,userAgent:s,retryThrottledRequestMaxTimes:o}).then((e=>e.isReady?e:(l&&l({isComputable:!0,value:1}),!1))),signal:a})}const de=(e,{publicKey:t,fileName:n,baseURL:i,secureSignature:r,secureExpire:s,store:o,signal:a,onProgress:l,source:c,integration:u,userAgent:h,retryThrottledRequestMaxTimes:d,baseCDN:p})=>Y(e,{publicKey:t,fileName:n,baseURL:i,secureSignature:r,secureExpire:s,store:o,signal:a,onProgress:l,source:c,integration:u,userAgent:h,retryThrottledRequestMaxTimes:d}).then((({file:e})=>he({file:e,publicKey:t,baseURL:i,source:c,integration:u,userAgent:h,retryThrottledRequestMaxTimes:d,onProgress:l,signal:a}))).then((e=>new le(e,{baseCDN:p}))),{AbortController:pe,AbortSignal:fe}="undefined"!==typeof self?self:"undefined"!==typeof window?window:void 0,me=(e,{signal:t}={})=>{let n=null,i=null;const r=e.map((()=>new pe)),s=e=>()=>{i=e,r.forEach(((t,n)=>n!==e&&t.abort()))};return A(t,(()=>{r.forEach((e=>e.abort()))})),Promise.all(e.map(((e,t)=>{const i=s(t);return Promise.resolve().then((()=>e({stopRace:i,signal:r[t].signal}))).then((e=>(i(),e))).catch((e=>(n=e,null)))}))).then((e=>{if(null===i)throw n;return e[i]}))};var ge=window.WebSocket;class ve{constructor(){this.events=Object.create({})}emit(e,t){var n;null===(n=this.events[e])||void 0===n||n.forEach((e=>e(t)))}on(e,t){this.events[e]=this.events[e]||[],this.events[e].push(t)}off(e,t){this.events[e]=t?this.events[e].filter((e=>e!==t)):[]}}const be=(e,t)=>"success"===e?Object.assign({status:ee.Success},t):"progress"===e?Object.assign({status:ee.Progress},t):Object.assign({status:ee.Error},t);class _e{constructor(e,t=3e4){this.ws=void 0,this.queue=[],this.isConnected=!1,this.subscribers=0,this.emmitter=new ve,this.disconnectTimeoutId=null,this.key=e,this.disconnectTime=t}connect(){if(this.disconnectTimeoutId&&clearTimeout(this.disconnectTimeoutId),!this.isConnected&&!this.ws){const e=`wss://ws.pusherapp.com/app/${this.key}?protocol=5&client=js&version=1.12.2`;this.ws=new ge(e),this.ws.addEventListener("error",(e=>{this.emmitter.emit("error",new Error(e.message))})),this.emmitter.on("connected",(()=>{this.isConnected=!0,this.queue.forEach((e=>this.send(e.event,e.data))),this.queue=[]})),this.ws.addEventListener("message",(e=>{const t=JSON.parse(e.data.toString());switch(t.event){case"pusher:connection_established":this.emmitter.emit("connected",void 0);break;case"pusher:ping":this.send("pusher:pong",{});break;case"progress":case"success":case"fail":this.emmitter.emit(t.channel,be(t.event,JSON.parse(t.data)))}}))}}disconnect(){const e=()=>{var e;null===(e=this.ws)||void 0===e||e.close(),this.ws=void 0,this.isConnected=!1};this.disconnectTime?this.disconnectTimeoutId=setTimeout((()=>{e()}),this.disconnectTime):e()}send(e,t){var n;const i=JSON.stringify({event:e,data:t});null===(n=this.ws)||void 0===n||n.send(i)}subscribe(e,t){this.subscribers+=1,this.connect();const n=`task-status-${e}`,i={event:"pusher:subscribe",data:{channel:n}};this.emmitter.on(n,t),this.isConnected?this.send(i.event,i.data):this.queue.push(i)}unsubscribe(e){this.subscribers-=1;const t=`task-status-${e}`,n={event:"pusher:unsubscribe",data:{channel:t}};this.emmitter.off(t),this.isConnected?this.send(n.event,n.data):this.queue=this.queue.filter((e=>e.data.channel!==t)),0===this.subscribers&&this.disconnect()}onError(e){return this.emmitter.on("error",e),()=>this.emmitter.off("error",e)}}let ye=null;const we=e=>{if(!ye){const t="undefined"===typeof window?0:3e4;ye=new _e(e,t)}return ye},xe=e=>{we(e).connect()};function Ce({token:e,publicKey:t,baseURL:n,integration:i,userAgent:r,retryThrottledRequestMaxTimes:s,onProgress:o,signal:a}){return ue({check:a=>ie(e,{publicKey:t,baseURL:n,integration:i,userAgent:r,retryThrottledRequestMaxTimes:s,signal:a}).then((t=>{switch(t.status){case ee.Error:return new $(t.error,t.errorCode);case ee.Waiting:return!1;case ee.Unknown:return new $(`Token "${e}" was not found.`);case ee.Progress:return o&&("unknown"===t.total?o({isComputable:!1}):o({isComputable:!0,value:t.done/t.total})),!1;case ee.Success:return o&&o({isComputable:!0,value:t.done/t.total}),t;default:throw new Error("Unknown status")}})),signal:a})}const Te=({token:e,pusherKey:t,signal:n,onProgress:i})=>new Promise(((r,s)=>{const o=we(t),a=o.onError(s),l=()=>{a(),o.unsubscribe(e)};A(n,(()=>{l(),s(k("pusher cancelled"))})),o.subscribe(e,(e=>{switch(e.status){case ee.Progress:i&&("unknown"===e.total?i({isComputable:!1}):i({isComputable:!0,value:e.done/e.total}));break;case ee.Success:l(),i&&i({isComputable:!0,value:e.done/e.total}),r(e);break;case ee.Error:l(),s(new $(e.msg,e.error_code))}}))})),$e=(e,{publicKey:t,fileName:n,baseURL:i,baseCDN:r,checkForUrlDuplicates:s,saveUrlForRecurrentUploads:o,secureSignature:a,secureExpire:l,store:c,signal:u,onProgress:h,source:d,integration:p,userAgent:f,retryThrottledRequestMaxTimes:m,pusherKey:g=M.pusherKey})=>Promise.resolve(xe(g)).then((()=>te(e,{publicKey:t,fileName:n,baseURL:i,checkForUrlDuplicates:s,saveUrlForRecurrentUploads:o,secureSignature:a,secureExpire:l,store:c,signal:u,source:d,integration:p,userAgent:f,retryThrottledRequestMaxTimes:m}))).catch((e=>{const t=we(g);return null===t||void 0===t||t.disconnect(),Promise.reject(e)})).then((e=>e.type===Q.FileInfo?e:me([({signal:n})=>Ce({token:e.token,publicKey:t,baseURL:i,integration:p,userAgent:f,retryThrottledRequestMaxTimes:m,onProgress:h,signal:n}),({signal:t})=>Te({token:e.token,pusherKey:g,signal:t,onProgress:h})],{signal:u}))).then((e=>{if(e instanceof $)throw e;return e})).then((e=>he({file:e.uuid,publicKey:t,baseURL:i,integration:p,userAgent:f,retryThrottledRequestMaxTimes:m,onProgress:h,signal:u}))).then((e=>new le(e,{baseCDN:r}))),ke=(e,{publicKey:t,fileName:n,baseURL:i,signal:r,onProgress:s,source:o,integration:a,userAgent:l,retryThrottledRequestMaxTimes:c,baseCDN:u})=>re(e,{publicKey:t,baseURL:i,signal:r,source:o,integration:a,userAgent:l,retryThrottledRequestMaxTimes:c}).then((e=>new le(e,{baseCDN:u,fileName:n}))).then((e=>(s&&s({isComputable:!0,value:1}),e))),Ae=e=>void 0!==e&&("undefined"!==typeof Blob&&e instanceof Blob||"undefined"!==typeof File&&e instanceof File||"undefined"!==typeof Buffer&&e instanceof Buffer),Se=e=>{const t="[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}",n=new RegExp(t);return!Ae(e)&&n.test(e)},Ee=e=>{const t="^(?:\\w+:)?\\/\\/([^\\s\\.]+\\.\\S{2}|localhost[\\:?\\d]*)\\S*$",n=new RegExp(t);return!Ae(e)&&n.test(e)},Ie=e=>e.length||e.size,Re=(e,t=M.multipartMinFileSize)=>e>=t,Pe=(e,t,n,i)=>{const r=i*t,s=Math.min(r+i,n);return e.slice(r,s)};function Oe(e,t,n){return i=>Pe(e,i,t,n)}const Le=(e,t)=>new Promise(((n,i)=>{const r=[];let s=!1,o=t.length;const a=[...t],l=()=>{const e=t.length-a.length,c=a.shift();c&&c().then((t=>{s||(r[e]=t,o-=1,o?l():n(r))})).catch((e=>{s=!0,i(e)}))};for(let t=0;t<e;t++)l()})),Ue=(e,t,{publicKey:n,onProgress:i,signal:r,integration:s,multipartMaxAttempts:o})=>X((({attempt:a,retry:l})=>oe(e,t,{publicKey:n,onProgress:i,signal:r,integration:s}).catch((e=>{if(a<o)return l();throw e})))),Ne=(e,{publicKey:t,fileName:n,fileSize:i,baseURL:r,secureSignature:s,secureExpire:o,store:a,signal:l,onProgress:c,source:u,integration:h,userAgent:d,retryThrottledRequestMaxTimes:p,contentType:f,multipartChunkSize:m=M.multipartChunkSize,maxConcurrentRequests:g=M.maxConcurrentRequests,multipartMaxAttempts:v=M.multipartMaxAttempts,baseCDN:b})=>{const _=i||Ie(e);let y;const w=(e,t)=>{if(!c)return;y||(y=Array(e).fill(0));const n=e=>e.reduce(((e,t)=>e+t),0);return i=>{i.isComputable&&(y[t]=i.value,c({isComputable:!0,value:n(y)/e}))}};return se(_,{publicKey:t,contentType:f,fileName:null!==n&&void 0!==n?n:e.name,baseURL:r,secureSignature:s,secureExpire:o,store:a,signal:l,source:u,integration:h,userAgent:d,retryThrottledRequestMaxTimes:p}).then((({uuid:n,parts:i})=>{const r=Oe(e,_,m);return Promise.all([n,Le(g,i.map(((e,n)=>()=>Ue(r(n),e,{publicKey:t,onProgress:w(i.length,n),signal:l,integration:h,multipartMaxAttempts:v}))))])})).then((([e])=>ae(e,{publicKey:t,baseURL:r,source:u,integration:h,userAgent:d,retryThrottledRequestMaxTimes:p}))).then((e=>e.isReady?e:he({file:e.uuid,publicKey:t,baseURL:r,source:u,integration:h,userAgent:d,retryThrottledRequestMaxTimes:p,onProgress:c,signal:l}))).then((e=>new le(e,{baseCDN:b})))};function Me(e,{publicKey:t,fileName:n,baseURL:i=M.baseURL,secureSignature:r,secureExpire:s,store:o,signal:a,onProgress:l,source:c,integration:u,userAgent:h,retryThrottledRequestMaxTimes:d,contentType:p,multipartChunkSize:f,multipartMaxAttempts:m,maxConcurrentRequests:g,baseCDN:v=M.baseCDN,checkForUrlDuplicates:b,saveUrlForRecurrentUploads:_,pusherKey:y}){if(Ae(e)){const b=Ie(e);return Re(b)?Ne(e,{publicKey:t,contentType:p,multipartChunkSize:f,multipartMaxAttempts:m,fileName:n,baseURL:i,secureSignature:r,secureExpire:s,store:o,signal:a,onProgress:l,source:c,integration:u,userAgent:h,maxConcurrentRequests:g,retryThrottledRequestMaxTimes:d,baseCDN:v}):de(e,{publicKey:t,fileName:n,baseURL:i,secureSignature:r,secureExpire:s,store:o,signal:a,onProgress:l,source:c,integration:u,userAgent:h,retryThrottledRequestMaxTimes:d,baseCDN:v})}if(Ee(e))return $e(e,{publicKey:t,fileName:n,baseURL:i,baseCDN:v,checkForUrlDuplicates:b,saveUrlForRecurrentUploads:_,secureSignature:r,secureExpire:s,store:o,signal:a,onProgress:l,source:c,integration:u,userAgent:h,retryThrottledRequestMaxTimes:d,pusherKey:y});if(Se(e))return ke(e,{publicKey:t,fileName:n,baseURL:i,signal:a,onProgress:l,source:c,integration:u,userAgent:h,retryThrottledRequestMaxTimes:d,baseCDN:v});throw new TypeError(`File uploading from "${e}" is not supported`)}const De=Object.freeze({file:{type:File,value:null},externalUrl:{type:String,value:null},fileName:{type:String,value:null},fileSize:{type:Number,value:null},lastModified:{type:Number,value:Date.now()},uploadProgress:{type:Number,value:0},uuid:{type:String,value:null},isImage:{type:Boolean,value:!1},mimeType:{type:String,value:null},uploadError:{type:$,value:null,nullable:!0},validationErrorMsg:{type:String,value:null,nullable:!0},ctxName:{type:String,value:null},transformationsUrl:{type:String,value:null},fileInfo:{type:le,value:null},isUploading:{type:Boolean,value:!1}}),Fe="active",je="___ACTIVITY_IS_ACTIVE___",Be="uc-",ze="css-src";let Ve="complete"===document.readyState;Ve||window.addEventListener("load",(()=>{Ve=!0}));class He extends _{l10n(e){return this.getCssData("--l10n-"+e,!0)||e}constructor(){super(),this.activityType=null,this.addTemplateProcessor(T),this.__l10nKeys=[],this.__l10nUpdate=()=>{this.dropCssDataCache();for(let e of this.__l10nKeys)this.notify(e)},window.addEventListener("uc-l10n-update",this.__l10nUpdate)}applyL10nKey(e,t){this.$["l10n:"+e]=t}historyBack(){let e=this.$["*history"];e.pop();let t=e.pop();this.$["*currentActivity"]=t,this.$["*history"]=e}addFiles(e){e.forEach((e=>{this.uploadCollection.add({file:e,isImage:e.type.includes("image"),mimeType:e.type,fileName:e.name,fileSize:e.size})}))}connectedCallback(){let e=()=>{Ve?this.connected():window.addEventListener("load",(()=>{this.connected()}))},t=this.getAttribute(ze);if(t){this.renderShadow=!0,this.attachShadow({mode:"open"});let n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=t,n.onload=()=>{window.requestAnimationFrame((()=>{e()}))},this.shadowRoot.appendChild(n)}else e()}__bindBasicCssData(){if(!He._cssDataBindingsList.includes(this.ctxName)){let e=["pubkey","store","multiple","max-files","accept","confirm-upload","init-activity","done-activity"];e.forEach((e=>{this.bindCssData(`--cfg-${e}`)}),!0),He._cssDataBindingsList.push(this.ctxName)}}initCallback(){this.__bindBasicCssData()}connected(){this.__connectedOnce?super.connectedCallback():(He._ctxConnectionsList.includes(this.ctxName)||(this.add$({"*ctxTargetsRegistry":new Set,"*currentActivity":"","*currentActivityParams":{},"*history":[],"*commonProgress":0,"*uploadList":[],"*outputData":null,"*focusedEntry":null}),He._ctxConnectionsList.push(this.ctxName)),this.$["*ctxTargetsRegistry"].add(this.constructor["is"]),super.connectedCallback(),this.activityType&&(this.hasAttribute("activity")||this.setAttribute("activity",this.activityType),this.sub("*currentActivity",(e=>{let t=this.ctxName+this.activityType,n=He._activityRegistry[t];if(this.activityType!==e&&this[je])this[je]=!1,this.removeAttribute(Fe),n?.deactivateCallback?.();else if(this.activityType===e&&!this[je]){this[je]=!0,this.setAttribute(Fe,""),n?.activateCallback?.();let e=this.$["*history"];e.length>10&&(e=e.slice(e.length-11,e.length-1)),e.push(this.activityType),this.$["*history"]=e}}))),this.__connectedOnce=!0)}openSystemDialog(){this.fileInput=document.createElement("input"),this.fileInput.type="file",this.fileInput.multiple=!!this.$["*--cfg-multiple"],this.fileInput.max=this.$["*--cfg-max-files"],this.fileInput.accept=this.$["*--cfg-accept"],this.fileInput.dispatchEvent(new MouseEvent("click")),this.fileInput.onchange=()=>{this.addFiles([...this.fileInput["files"]]),this.$["*currentActivity"]=He.activities.UPLOAD_LIST,this.fileInput["value"]="",this.fileInput=null}}get sourceList(){let e=null;return this.$["*--cfg-source-list"]&&(e=this.$["*--cfg-source-list"].split(",").map((e=>e.trim()))),e}get initActivity(){return this.$["*--cfg-init-activity"]}get doneActivity(){return this.$["*--cfg-done-activity"]}get isActivityActive(){return this[je]}initFlow(e=!1){if(this.$["*uploadList"]?.length&&!e)this.set$({"*currentActivity":He.activities.UPLOAD_LIST}),this.setForCtxTarget("uc-modal","*modalActive",!0);else if(1===this.sourceList?.length){let e=this.sourceList[0];"local"===e?(this.$["*currentActivity"]=He.activities.UPLOAD_LIST,this.openSystemDialog()):(Object.values(He.extSrcList).includes(e)?this.set$({"*currentActivityParams":{externalSourceType:e},"*currentActivity":He.activities.EXTERNAL}):this.$["*currentActivity"]=e,this.setForCtxTarget("uc-modal","*modalActive",!0))}else this.set$({"*currentActivity":He.activities.START_FROM}),this.setForCtxTarget("uc-modal","*modalActive",!0)}cancelFlow(){1===this.sourceList?.length?(this.$["*currentActivity"]=null,this.setForCtxTarget("uc-modal","*modalActive",!1)):(this.historyBack(),this.$["*currentActivity"]||this.setForCtxTarget("uc-modal","*modalActive",!1))}checkCtxTarget(e){let t=this.$["*ctxTargetsRegistry"];return t.has(e)}setForCtxTarget(e,t,n){this.checkCtxTarget(e)&&(this.$[t]=n)}registerActivity(e,t,n){He._activityRegistry||(He._activityRegistry=Object.create(null));let i=this.ctxName+e;He._activityRegistry[i]={activateCallback:t,deactivateCallback:n}}get activityParams(){return this.$["*currentActivityParams"]}get uploadCollection(){if(!this.has("*uploadCollection")){let e=new C({typedSchema:De,watchList:["uploadProgress","uuid"],handler:e=>{this.$["*uploadList"]=e}});e.observe((t=>{if(t.uploadProgress){let t=0,n=e.findItems((e=>!e.getValue("uploadError")));n.forEach((n=>{t+=e.readProp(n,"uploadProgress")})),this.$["*commonProgress"]=t/n.length}})),this.add("*uploadCollection",e)}return this.$["*uploadCollection"]}fileSizeFmt(e,t=2){let n=["B","KB","MB","GB","TB"],i=e=>this.getCssData("--l10n-unit-"+e.toLowerCase(),!0)||e;if(0===e)return`0 ${i(n[0])}`;let r=1024,s=t<0?0:t,o=Math.floor(Math.log(e)/Math.log(r));return parseFloat((e/r**o).toFixed(s))+" "+i(n[o])}output(){let e=[],t=this.uploadCollection.items();t.forEach((t=>{let n=r.getNamedCtx(t).store,i=n.fileInfo;e.push(i)})),this.$["*outputData"]=e}destroyCallback(){window.removeEventListener("uc-l10n-update",this.__l10nUpdate),this.__l10nKeys=null}static reg(e){e?super.reg(e.startsWith(Be)?e:Be+e):super.reg()}static _activityRegistry=Object.create(null);static _ctxConnectionsList=[];static _cssDataBindingsList=[]}He.activities=Object.freeze({START_FROM:"start-from",CAMERA:"camera",DRAW:"draw",UPLOAD_LIST:"upload-list",URL:"url",CONFIRMATION:"confirmation",CLOUD_IMG_EDIT:"cloud-image-edit",EXTERNAL:"external",DETAILS:"details"}),He.extSrcList=Object.freeze({FACEBOOK:"facebook",DROPBOX:"dropbox",GDRIVE:"gdrive",GPHOTOS:"gphotos",INSTAGRAM:"instagram",FLICKR:"flickr",VK:"vk",EVERNOTE:"evernote",BOX:"box",ONEDRIVE:"onedrive",HUDDLE:"huddle"}),He.sourceTypes=Object.freeze({LOCAL:"local",URL:"url",CAMERA:"camera",DRAW:"draw",...He.extSrcList});class qe extends He{init$={name:"",path:"",size:"24",viewBox:""};initCallback(){super.initCallback(),this.sub("name",(e=>{if(!e)return;let t=this.getCssData(`--icon-${e}`);t&&(this.$.path=t)})),this.sub("path",(e=>{if(!e)return;let t=e.trimStart().startsWith("<");t?(this.setAttribute("raw",""),this.ref.svg.innerHTML=e):(this.removeAttribute("raw"),this.ref.svg.innerHTML=`<path d="${e}"></path>`)})),this.sub("size",(e=>{this.$.viewBox=`0 0 ${e} ${e}`}))}}qe.template='\n<svg\n  ref="svg"\n  xmlns="http://www.w3.org/2000/svg"\n  set="@viewBox: viewBox; @height: size; @width: size">\n</svg>\n',qe.bindAttributes({name:"name",size:"size"});const Ke={"dev-mode":{},pubkey:{},uuid:{},src:{},lazy:{default:1},intersection:{},breakpoints:{},"cdn-cname":{},"proxy-cname":{},"hi-res-support":{default:1},"ultra-res-support":{},format:{default:"auto"},"cdn-operations":{},progressive:{},quality:{default:"smart"},"is-background-for":{}},Xe="--uc-img-",Ge="unresolved",We=2,Je=3,Ze=!window.location.host.trim()||window.location.host.includes(":")||window.location.hostname.includes("localhost");function Ye(...e){return e.map((e=>(e?.trim()&&!e.endsWith("/")&&(e+="/"),e))).join("")}class Qe extends _{$$(e){return this.$[Xe+e]}set$$(e){for(let t in e)this.$[Xe+t]=e[t]}sub$$(e,t){this.sub(Xe+e,(e=>{null!==e&&""!==e&&t(e)}))}_fmtAbs(e){let t=!e.includes("//");return t&&!Ze&&(e=new URL(e,document.baseURI).href),e}_getOps(e=""){return Ye(e?"-/resize/"+e:"",this.$$("cdn-operations")?"-/"+this.$$("cdn-operations"):"","-/format/"+this.$$("format"),"-/quality/"+this.$$("quality"))}_getUrlBase(e=""){if(Ze&&this.$$("src")&&!this.$$("src").includes("//"))return this.$$("src");let t=this._getOps(e);if(this.$$("cdn-cname")&&this.$$("uuid"))return Ye(this.$$("cdn-cname"),this.$$("uuid"),t);if(this.$$("uuid"))return Ye("https://ucarecdn.com/",this.$$("uuid"),t);if(this.$$("proxy-cname")){let e=Ye(this.$$("proxy-cname"),t,this._fmtAbs(this.$$("src")));return e+this._fmtAbs(this.$$("src"))}if(this.$$("pubkey")){let e=Ye(`https://${this.$$("pubkey")}.ucr.io/`,t);return e+this._fmtAbs(this.$$("src"))}}_getElSize(e,t=1,n=!0){let i=e.getBoundingClientRect(),r=t*Math.round(i.width),s=n?"":t*Math.round(i.height);return`${r||""}x${s||""}`}initCallback(){for(let e in Ke){let t=Xe+e;this.bindCssData(t,!1),null===this.$$(e)&&Ke[e].hasOwnProperty("default")&&this.set$$({[e]:Ke[e].default})}}get img(){return this._img||(this._img=new Image,this._img.setAttribute(Ge,""),this.img.onload=()=>{this.img.removeAttribute(Ge)},this.initAttributes(),this.appendChild(this._img)),this._img}get bgSelector(){return this.$$("is-background-for")}initAttributes(){[...this.attributes].forEach((e=>{Ke[e.name]||this.img.setAttribute(e.name,e.value)}))}get breakpoints(){return this.$$("breakpoints")?this.$$("breakpoints").split(",").map((e=>parseFloat(e.trim()))):null}renderBg(e){let t=[];this.breakpoints?this.breakpoints.forEach((e=>{t.push(`url("${this._getUrlBase(e+"x")}") ${e}w`),this.$$("hi-res-support")&&t.push(`url("${this._getUrlBase(e*We+"x")}") ${e*We}w`),this.$$("ultra-res-support")&&t.push(`url("${this._getUrlBase(e*Je+"x")}") ${e*Je}w`)})):(t.push(`url("${this._getUrlBase(this._getElSize(e))}") 1x`),this.$$("hi-res-support")&&t.push(`url("${this._getUrlBase(this._getElSize(e,We))}") ${We}x`),this.$$("ultra-res-support")&&t.push(`url("${this._getUrlBase(this._getElSize(e,Je))}") ${Je}x`));let n=`image-set(${t.join(", ")})`;e.style.setProperty("background-image",n),e.style.setProperty("background-image","-webkit-"+n)}getSrcset(){let e=[];return this.breakpoints?this.breakpoints.forEach((t=>{e.push(this._getUrlBase(t+"x")+` ${t}w`),this.$$("hi-res-support")&&e.push(this._getUrlBase(t*We+"x")+` ${t*We}w`),this.$$("ultra-res-support")&&e.push(this._getUrlBase(t*Je+"x")+` ${t*Je}w`)})):(e.push(this._getUrlBase(this._getElSize(this.img))+" 1x"),this.$$("hi-res-support")&&e.push(this._getUrlBase(this._getElSize(this.img,2))+" 2x"),this.$$("ultra-res-support")&&e.push(this._getUrlBase(this._getElSize(this.img,3))+" 3x")),e.join()}init(){this.bgSelector?[...document.querySelectorAll(this.bgSelector)].forEach((e=>{this.$$("intersection")?this.initIntersection(e,(()=>{this.renderBg(e)})):this.renderBg(e)})):this.$$("intersection")?this.initIntersection(this.img,(()=>{this.img.srcset=this.getSrcset()})):this.img.srcset=this.getSrcset()}initIntersection(e,t){let n={root:null,rootMargin:"0px"};this._isnObserver=new IntersectionObserver((n=>{n.forEach((n=>{n.isIntersecting&&(t(),this._isnObserver.unobserve(e))}))}),n),this._isnObserver.observe(e),this._observed||(this._observed=new Set),this._observed.add(e)}destroyCallback(){this._isnObserver&&(this._observed.forEach((e=>{this._isnObserver.unobserve(e)})),this._isnObserver=null)}static get observedAttributes(){return Object.keys(Ke)}attributeChangedCallback(e,t,n){window.setTimeout((()=>{this.$[Xe+e]=n}))}}class et extends Qe{initCallback(){super.initCallback(),this.sub$$("src",(()=>{this.init()})),this.sub$$("uuid",(()=>{this.init()})),this.sub$$("lazy",(e=>{this.$$("is-background-for")||(this.img.loading=e?"lazy":"eager")}))}}class tt extends He{init$={"*simpleButtonText":"",onClick:()=>{this.initFlow()}};initCallback(){super.initCallback();let e=this.bindCssData("--cfg-multiple");this.sub(e,(e=>{this.$["*simpleButtonText"]=e?this.l10n("upload-files"):this.l10n("upload-file")}))}}tt.template='\n<uc-drop-area>\n  <button set="onclick: onClick">\n    <uc-icon name="upload"></uc-icon>\n    <span>{{*simpleButtonText}}</span>\n    <slot></slot>\n  </button>\n</uc-drop-area>\n';class nt extends He{activityType="start-from";init$={"*activityCaption":"","*activityIcon":""};initCallback(){super.initCallback(),this.registerActivity(this.activityType,(()=>{this.set$({"*activityCaption":this.l10n("select-file-source"),"*activityIcon":"default"})}))}}function it(e){return new Promise((t=>{"function"!==typeof window.FileReader&&t(!1);try{let n=new FileReader;n.onerror=()=>{t(!0)};let i=e=>{"loadend"!==e.type&&n.abort(),t(!1)};n.onloadend=i,n.onprogress=i,n.readAsDataURL(e)}catch(n){t(!1)}}))}function rt(e){return new Promise(((t,n)=>{let i=0,r=[],s=e=>{e||(console.warn("Unexpectedly received empty content entry",{scope:"drag-and-drop"}),t(null)),e.isFile?(i++,e.file((e=>{i--,r.push(e),0===i&&t(r)}))):e.isDirectory&&o(e.createReader())},o=e=>{i++,e.readEntries((e=>{i--;for(let t of e)s(t);0===i&&t(r)}))};s(e)}))}function st(e){let t=[],n=[];for(let i=0;i<e.items.length;i++){let r=e.items[i];if(r&&"file"===r.kind){if("function"===typeof r.webkitGetAsEntry||"function"===typeof r.getAsEntry){let e="function"===typeof r.webkitGetAsEntry?r.webkitGetAsEntry():r.getAsEntry();n.push(rt(e).then((e=>{t.push(...e)})));continue}let e=r.getAsFile();n.push(it(e).then((n=>{n||t.push(e)})))}}return Promise.all(n).then((()=>t))}const ot={ACTIVE:0,INACTIVE:1,NEAR:2,OVER:3};let at=["dragleave","dragexit","dragend","drop","mouseleave","mouseout"],lt=100,ct=new Map;function ut(e,t){let n=Math.max(Math.min(e[0],t.x+t.width),t.x),i=Math.max(Math.min(e[1],t.y+t.height),t.y);return Math.sqrt((e[0]-n)*(e[0]-n)+(e[1]-i)*(e[1]-i))}function ht(e){let t=new Set,n=e=>t.add(e),i=ot.INACTIVE,r=e=>{i!==e&&t.forEach((t=>t(e))),i=e},s=e=>{let{clientX:t,clientY:n}=e,i=document.body.getBoundingClientRect(),s="drop"===e.type,o=["dragleave","dragexit","dragend"].includes(e.type)&&0===t&&0===n,a=["mouseleave","mouseout"].includes(e.type)&&(t<0||t>i.width||n<0||n>i.height);(s||o||a)&&r(ot.INACTIVE),e.preventDefault()};n((t=>e.onChange(t))),n((e=>{e===ot.ACTIVE&&at.forEach((e=>{window.addEventListener(e,s,!1)}))})),n((e=>{e===ot.INACTIVE&&at.forEach((e=>{window.removeEventListener(e,s,!1)}))}));let o=t=>{t.preventDefault(),i===ot.INACTIVE&&r(ot.ACTIVE);let n=[t.x,t.y],s=e.element.getBoundingClientRect(),o=Math.floor(ut(n,s)),a=o<lt,l=t.composedPath().includes(e.element);ct.set(e.element,o);let c=Math.min(...ct.values())===o;r(l&&c?ot.OVER:a&&c?ot.NEAR:ot.ACTIVE)};window.addEventListener("dragover",o,!1);let a=async t=>{t.preventDefault();let n=await st(t.dataTransfer);e.onFiles(n),r(ot.INACTIVE)};return e.element.addEventListener("drop",a),()=>{ct.delete(e.element),window.removeEventListener("dragover",o,!1),e.element.removeEventListener("drop",a),at.forEach((e=>{window.removeEventListener(e,s,!1)}))}}class dt extends He{init$={state:ot.INACTIVE};initCallback(){this._destroyDropzone=ht({element:this,onChange:e=>{this.$.state=e},onFiles:e=>{e.forEach((e=>{this.uploadCollection.add({file:e,isImage:e.type.includes("image"),mimeType:e.type,fileName:e.name,fileSize:e.size})})),this.set$({"*currentActivity":He.activities.UPLOAD_LIST})}}),this.sub("state",(e=>{const t=Object.entries(ot).find((([,t])=>t===e))?.[0].toLowerCase();t&&this.setAttribute("drag-state",t)}))}destroyCallback(){this._destroyDropzone?.()}}const pt="src-type-";class ft extends He{_registeredTypes={};init$={iconName:"default"};initTypes(){this.registerType({type:He.sourceTypes.LOCAL,onClick:()=>{this.openSystemDialog()}}),this.registerType({type:He.sourceTypes.URL,activity:He.activities.URL,textKey:"from-url"}),this.registerType({type:He.sourceTypes.CAMERA,activity:He.activities.CAMERA}),this.registerType({type:"draw",activity:He.activities.DRAW,icon:"edit-draw"});for(let e of Object.values(He.extSrcList))this.registerType({type:e,activity:He.activities.EXTERNAL,activityParams:{externalSourceType:e}})}initCallback(){this.initTypes(),this.setAttribute("role","button"),this.defineAccessor("type",(e=>{e&&this.applyType(e)}))}registerType(e){this._registeredTypes[e.type]=e}getType(e){return this._registeredTypes[e]}applyType(e){const t=this._registeredTypes[e];if(!t)return void console.warn("Unsupported source type: "+e);const{textKey:n=e,icon:i=e,activity:r,onClick:s,activityParams:o={}}=t;this.applyL10nKey("src-type",`${pt}${n}`),this.$.iconName=i,this.onclick=e=>{r&&this.set$({"*currentActivityParams":o,"*currentActivity":r}),s&&s(e)}}}ft.template='\n<uc-icon set="@name: iconName"></uc-icon>\n<div class="txt" l10n="src-type"></div>\n',ft.bindAttributes({type:null});class mt extends He{initCallback(){super.initCallback(),this.bindCssData("--cfg-source-list"),this.sub("*--cfg-source-list",(e=>{if(!e)return;let t=e.split(",").map((e=>e.trim())),n="";t.forEach((e=>{n+=`<uc-source-btn type="${e}"></uc-source-btn>`})),this.getCssData("--cfg-source-list-wrap")?this.innerHTML=n:this.outerHTML=n}))}}function gt(e,t=40){let n=document.createElement("canvas"),i=n.getContext("2d"),r=new Image,s=new Promise(((e,s)=>{r.onload=()=>{let s=r.height/r.width;s>1?(n.width=t,n.height=t*s):(n.height=t,n.width=t/s),i.fillStyle="rgb(240, 240, 240)",i.fillRect(0,0,n.width,n.height),i.drawImage(r,0,0,n.width,n.height),n.toBlob((t=>{let n=URL.createObjectURL(t);e(n)}),"image/png")},r.onerror=e=>{console.warn("Resize error..."),s(e)}}));return r.src=URL.createObjectURL(e),s}class vt{caption="";text="";iconName="";isError=!1}class bt extends He{init$={iconName:"info",captionTxt:"Message caption",msgTxt:"Message...","*message":null,onClose:()=>{this.$["*message"]=null}};initCallback(){this.sub("*message",(e=>{e?(this.setAttribute("active",""),this.set$({captionTxt:e.caption,msgTxt:e.text,iconName:e.isError?"error":"info"}),e.isError?this.setAttribute("error",""):this.removeAttribute("error")):this.removeAttribute("active")}))}}function _t(e){let t=new Blob([e],{type:"image/svg+xml"});return URL.createObjectURL(t)}function yt(e="#fff",t="rgba(0, 0, 0, .1)"){return _t(`<svg height="20" width="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n    <rect x="0" y="0" width="20" height="20" fill="${e}" />\n    <rect x="0" y="0" width="10" height="10" fill="${t}" />\n    <rect x="10" y="10" width="10" height="10" fill="${t}" />\n  </svg>`)}function wt(e="rgba(0, 0, 0, .1)"){return _t(`<svg height="10" width="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg">\n    <line x1="0" y1="10" x2="10" y2="0" stroke="${e}" />\n  </svg>`)}function xt(e="hsl(0, 0%, 100%)",t=36,n=36){return _t(`\n  <svg width="${t}" height="${n}" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10.5 28L25.5 27.9997V29.0024L10.5 29.0027V28Z" fill="black" fill-opacity="0.06"/>\n    <path d="M9.5 7.50029L21.25 7.5L26.5 12.75V28.4998L9.5 28.5001V7.50029Z" fill="black" fill-opacity="0.06"/>\n    <path d="M10 8.00298L21 8.00269L26 12.9998V28.0025L10 28.0027V8.00298Z" fill="${e}"/>\n    <path d="M10 8.00298L21 8.00269L26 12.9998V28.0025L10 28.0027V8.00298Z" fill="url(#paint0_linear_2735_2136)"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M20.793 8.50269L10.5 8.50296V27.5027L25.5 27.5025V13.2069L20.793 8.50269ZM21 8.00269L10 8.00298V28.0027L26 28.0025V12.9998L21 8.00269Z" fill="url(#paint1_radial_2735_2136)"/>\n    <path d="M21 8L26 13V14H20V8H21Z" fill="black" fill-opacity="0.03"/>\n    <path d="M21 8L26 13V13.5H20.5V8H21Z" fill="black" fill-opacity="0.08"/>\n    <path d="M21 8L26 13H21V8Z" fill="${e}"/>\n    <path d="M21 8L26 13H21V8Z" fill="url(#paint2_linear_2735_2136)"/>\n    <path d="M21 8L26 13H21V8Z" fill="url(#paint3_linear_2735_2136)"/>\n    <path d="M21.5 8.5L21 8V13H26L25.5 12.5H21.5V8.5Z" fill="url(#paint4_linear_2735_2136)"/>\n    <defs>\n      <linearGradient id="paint0_linear_2735_2136" x1="18" y1="8" x2="18" y2="28.0027" gradientUnits="userSpaceOnUse">\n        <stop stop-color="white" stop-opacity="0.06"/>\n        <stop offset="1" stop-color="white" stop-opacity="0"/>\n      </linearGradient>\n      <radialGradient id="paint1_radial_2735_2136" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(10 11) rotate(53.7462) scale(18.6011 18.0323)">\n        <stop stop-color="white" stop-opacity="0.12"/>\n        <stop offset="1" stop-color="white" stop-opacity="0"/>\n      </radialGradient>\n      <linearGradient id="paint2_linear_2735_2136" x1="21" y1="13" x2="23.5" y2="10.5" gradientUnits="userSpaceOnUse">\n        <stop offset="0.40625" stop-opacity="0"/>\n        <stop offset="1" stop-opacity="0.04"/>\n      </linearGradient>\n      <linearGradient id="paint3_linear_2735_2136" x1="21" y1="13" x2="23.5" y2="10.5" gradientUnits="userSpaceOnUse">\n        <stop stop-color="white" stop-opacity="0.16"/>\n        <stop offset="1" stop-color="white" stop-opacity="0.06"/>\n      </linearGradient>\n      <linearGradient id="paint4_linear_2735_2136" x1="21" y1="13" x2="23.5" y2="10.5" gradientUnits="userSpaceOnUse">\n        <stop stop-color="white" stop-opacity="0.15"/>\n        <stop offset="1" stop-color="white" stop-opacity="0"/>\n      </linearGradient>\n    </defs>\n</svg>\n  `)}bt.template='\n<div class="heading">\n  <uc-icon set="@name: iconName"></uc-icon>\n  <div class="caption">{{captionTxt}}</div>\n  <button set="onclick: onClose">\n    <uc-icon name="close"></uc-icon>\n  </button>\n</div>\n<div class="msg">{{msgTxt}}</div>\n';const Ct="uc-blocks",Tt="0.1.2";function $t({publicKey:e,languageName:t}){return`${Ct}/${Tt}/${e} (${t})`}class kt extends He{pauseRender=!0;init$={itemName:"",thumb:"",thumbUrl:"",progressValue:0,progressVisible:!1,progressUnknown:!1,notImage:!0,badgeIcon:"check","*uploadTrigger":null,onEdit:()=>{this.set$({"*focusedEntry":this.entry,"*currentActivity":He.activities.DETAILS})},onRemove:()=>{this.uploadCollection.remove(this.uid)},onUpload:()=>{this.upload()}};_observerCallback(e){let[t]=e;0===t.intersectionRatio?(clearTimeout(this._thumbTimeoutId),this._thumbTimeoutId=void 0):this._thumbTimeoutId||(this._thumbTimeoutId=window.setTimeout((()=>this._generateThumbnail()),100))}_generateThumbnail(){if(!this.$.thumbUrl)if(this.file?.type.includes("image"))gt(this.file,this.$["*--cfg-thumb-size"]||76).then((e=>{this.$.thumbUrl=`url(${e})`}));else{let e=window.getComputedStyle(this).getPropertyValue("--clr-generic-file-icon");this.$.thumbUrl=`url(${xt(e)})`}}_revokeThumbUrl(){this.$.thumbUrl?.startsWith("blob:")&&URL.revokeObjectURL(this.$.thumbUrl)}initCallback(){super.initCallback(),this.bindCssData("--cfg-thumb-size"),this.defineAccessor("entry-id",(e=>{e&&e!==this.uid&&(this.uid=e,this.entry=this.uploadCollection?.read(e),this.entry&&(this.entry.subscribe("isUploading",(e=>{this.$.progressVisible=e})),this.entry.subscribe("uploadProgress",(e=>{this.$.progressValue=e})),this.entry.subscribe("fileName",(e=>{this.$.itemName=e||this.externalUrl||this.l10n("file-no-name")})),this.entry.subscribe("externalUrl",(e=>{this.$.itemName=this.entry.getValue("fileName")||e||this.l10n("file-no-name")})),this.entry.subscribe("uuid",(e=>{if(e&&(this._observer.unobserve(this),this.setAttribute("loaded",""),this.entry.getValue("isImage"))){let t=`https://ucarecdn.com/${e}/`;this._revokeThumbUrl();let n=this.$["*--cfg-thumb-size"]||76;this.$.thumbUrl=`url(${t}-/scale_crop/${n}x${n}/center/)`}})),this.entry.subscribe("transformationsUrl",(e=>{if(e&&this.entry.getValue("isImage")){this._revokeThumbUrl();let t=this.$["*--cfg-thumb-size"]||76;this.$.thumbUrl=`url(${e}-/scale_crop/${t}x${t}/center/)`}})),this.file=this.entry.getValue("file"),this.externalUrl=this.entry.getValue("externalUrl"),this.$["*--cfg-confirm-upload"]||this.upload(),this._observer=new window.IntersectionObserver(this._observerCallback.bind(this),{root:this.parentElement,rootMargin:"50% 0px 50% 0px",threshold:[0,1]}),this._observer.observe(this)))})),this.$["*uploadTrigger"]=null,kt.activeInstances.add(this),this.sub("*uploadTrigger",(e=>{e&&this.isConnected&&this.upload()})),this.onclick=()=>{kt.activeInstances.forEach((e=>{e===this?e.setAttribute("focused",""):e.removeAttribute("focused")}))}}destroyCallback(){kt.activeInstances.delete(this),this._observer.unobserve(this),clearTimeout(this._thumbTimeoutId)}async upload(){if(this.hasAttribute("loaded")||this.entry.getValue("uuid"))return;this.entry.setValue("isUploading",!0),this.entry.setValue("uploadError",null),this.removeAttribute("focused"),this.removeAttribute("error"),this.setAttribute("uploading","");let e={},t=this.$["*--cfg-store"];null!==t&&(e.store=!!t),!this.file&&this.externalUrl&&(this.$.progressUnknown=!0);try{let t=await Me(this.file||this.externalUrl,{...e,publicKey:this.$["*--cfg-pubkey"],userAgent:$t,fileName:this.entry.getValue("fileName"),onProgress:e=>{if(e.isComputable){let t=100*e.value;this.entry.setValue("uploadProgress",t)}this.$.progressUnknown=!e.isComputable}});this.entry.setValue("isUploading",!1),this.setAttribute("loaded",""),this.removeAttribute("uploading"),this.$.badgeIcon="badge-success",this.entry.setMultipleValues({fileInfo:t,uploadProgress:100,fileName:t.name,fileSize:t.size,isImage:t.isImage,mimeType:t.mimeType,uuid:t.uuid})}catch(n){this.entry.setValue("isUploading",!1),this.$.progressValue=0,this.setAttribute("error",""),this.removeAttribute("uploading");let e=new vt;e.caption=this.l10n("upload-error")+": "+(this.file?.name||this.externalUrl),e.text=n,e.isError=!0,this.set$({badgeIcon:"badge-error","*message":e}),this.entry.setValue("uploadProgress",0),this.entry.setValue("uploadError",n)}}}kt.template='\n<div\n  class="thumb"\n  set="style.backgroundImage: thumbUrl">\n  <div class="badge">\n    <uc-icon set="@name: badgeIcon"></uc-icon>\n  </div>\n</div>\n<div class="file-name-wrapper">\n  <span class="file-name" set="@title: itemName">{{itemName}}</span>\n</div>\n<button class="edit-btn" set="onclick: onEdit;">\n  <uc-icon name="edit-file"></uc-icon>\n</button>\n<button class="remove-btn" set="onclick: onRemove;">\n  <uc-icon name="remove-file"></uc-icon>\n</button>\n<button class="upload-btn" set="onclick: onUpload;">\n  <uc-icon name="upload"></uc-icon>\n</button>\n<uc-progress-bar\n  class="progress-bar"\n  set="value: progressValue; visible: progressVisible; unknown: progressUnknown">\n</uc-progress-bar>\n',kt.activeInstances=new Set,kt.bindAttributes({"entry-id":null});class At extends He{init$={"*modalActive":!1,"*modalHeaderHidden":!1,closeClicked:()=>{this.set$({"*modalActive":!1,"*currentActivity":""})}};initCallback(){this.sub("*modalActive",(e=>{e?this.setAttribute("active",""):this.removeAttribute("active"),e&&this.getCssData("--cfg-modal-scroll-lock")?document.body.style.overflow="hidden":document.body.style.overflow=null})),this.getCssData("--cfg-modal-backdrop-strokes")&&(this.style.backgroundImage=`url(${wt()})`)}}At.template='\n<div class="dialog">\n  <div class="heading" set="@hidden: *modalHeaderHidden">\n    <slot name="heading"></slot>\n    <button\n      class="close-btn"\n      set="onclick: closeClicked">\n      <uc-icon name="close"></uc-icon>\n    </button>\n  </div>\n  <div class="content">\n    <slot></slot>\n  </div>\n</div>\n';class St{captionL10nStr="confirm-your-action";messageL10Str="are-you-sure";confirmL10nStr="yes";denyL10nStr="no";confirmAction(){console.log("Confirmed")}denyAction(){this["historyBack"]()}}class Et extends He{activityType=He.activities.CONFIRMATION;_defaults=new St;init$={messageTxt:"",confirmBtnTxt:"",denyBtnTxt:"","*confirmation":null,onConfirm:this._defaults.confirmAction,onDeny:this._defaults.denyAction.bind(this)};initCallback(){super.initCallback(),this.set$({messageTxt:this.l10n(this._defaults.messageL10Str),confirmBtnTxt:this.l10n(this._defaults.confirmL10nStr),denyBtnTxt:this.l10n(this._defaults.denyL10nStr)}),this.sub("*confirmation",(e=>{e&&this.set$({"*modalHeaderHidden":!0,"*currentActivity":He.activities.CONFIRMATION,"*activityCaption":this.l10n(e.captionL10nStr),messageTxt:this.l10n(e.messageL10Str),confirmBtnTxt:this.l10n(e.confirmL10nStr),denyBtnTxt:this.l10n(e.denyL10nStr),onDeny:()=>{this.$["*modalHeaderHidden"]=!1,e.denyAction()},onConfirm:()=>{this.$["*modalHeaderHidden"]=!1,e.confirmAction()}})}))}}Et.template='\n<div class="message">{{messageTxt}}</div>\n<div class="toolbar">\n  <button\n    class="deny-btn secondary-btn"\n    set="onclick: onDeny">{{denyBtnTxt}}</button>\n  <button\n    class="confirm-btn primary-btn"\n    set="onclick: onConfirm">{{confirmBtnTxt}}</button>\n</div>\n';class It extends He{activityType=He.activities.UPLOAD_LIST;init$={doneBtnHidden:!0,uploadBtnHidden:!1,uploadBtnDisabled:!1,hasFiles:!1,moreBtnDisabled:!0,onAdd:()=>{this.initFlow(!0)},onUpload:()=>{this.set$({uploadBtnHidden:!1,doneBtnHidden:!0,uploadBtnDisabled:!0,"*uploadTrigger":{}})},onDone:()=>{this.set$({"*currentActivity":this.doneActivity||""}),this.setForCtxTarget("uc-modal","*modalActive",!1),this.output()},onCancel:()=>{let e=new St;e.confirmAction=()=>{this.cancelFlow(),this.uploadCollection.clearAll(),this.output()},e.denyAction=()=>{this.historyBack()},this.$["*confirmation"]=e}};_renderMap=Object.create(null);updateButtonsState(){let e=this.uploadCollection.items(),t={total:e.length,uploaded:0,uploading:0};for(let i of e){let e=this.uploadCollection.read(i);e.getValue("uuid")?t.uploaded+=1:e.getValue("isUploading")&&(t.uploading+=1)}let n=t.total===t.uploaded;this.set$({uploadBtnHidden:n,doneBtnHidden:!n,uploadBtnDisabled:t.uploading>0}),!this.$["*--cfg-confirm-upload"]&&n&&this.$.onDone()}initCallback(){super.initCallback(),this.bindCssData("--cfg-show-empty-list"),this.registerActivity(this.activityType,(()=>{this.set$({"*activityCaption":this.l10n("selected"),"*activityIcon":"local"})})),this.sub("*--cfg-multiple",(e=>{this.$.moreBtnDisabled=!e})),this.uploadCollection.observe((()=>{this.updateButtonsState()})),this.sub("*uploadList",(e=>{if(0===e?.length&&!this.$["*--cfg-show-empty-list"])return this.cancelFlow(),void(this.ref.files.innerHTML="");this.updateButtonsState(),this.set$({hasFiles:e.length>0}),e.forEach((e=>{if(!this._renderMap[e]){let t=new kt;this._renderMap[e]=t}}));for(let n in this._renderMap)e.includes(n)||(this._renderMap[n].remove(),delete this._renderMap[n]);let t=document.createDocumentFragment();Object.values(this._renderMap).forEach((e=>t.appendChild(e))),this.ref.files.replaceChildren(t),Object.keys(this._renderMap).forEach((e=>{let t=this._renderMap[e];setTimeout((()=>{t["entry-id"]=e,t.innerHTML||t.render()}))})),this.setForCtxTarget("uc-modal","*modalActive",!0)}))}}It.template='\n<div class="no-files" set="@hidden: hasFiles">\n  <slot name="empty"><span l10n="no-files"></span></slot>\n</div>\n<div class="files" ref="files"></div>\n<div class="toolbar">\n  <button\n    class="cancel-btn secondary-btn"\n    set="onclick: onCancel;"\n    l10n="clear"></button>\n  <div></div>\n  <button\n    class="add-more-btn secondary-btn"\n    set="onclick: onAdd; @disabled: moreBtnDisabled"\n    l10n="add-more"></button>\n  <button\n    class="upload-btn primary-btn"\n    set="@hidden: uploadBtnHidden; onclick: onUpload; @disabled: uploadBtnDisabled"\n    l10n="upload"></button>\n  <button\n    class="done-btn primary-btn"\n    set="@hidden: doneBtnHidden; onclick: onDone"\n    l10n="done"></button>\n</div>\n';class Rt extends He{activityType=He.activities.URL;init$={importDisabled:!0,onUpload:()=>{let e=this.ref.input["value"];this.uploadCollection.add({externalUrl:e}),this.$["*currentActivity"]=He.activities.UPLOAD_LIST},onCancel:()=>{this.cancelFlow()},onInput:e=>{let t=e.target.value;this.set$({importDisabled:!t})}};initCallback(){this.registerActivity(this.activityType,(()=>{this.set$({"*activityCaption":this.l10n("caption-from-url"),"*activityIcon":"url"})}))}}Rt.template='\n<input placeholder="https://..." .url-input type="text" ref="input" set="oninput: onInput"/>\n<button\n  class="url-upload-btn primary-btn"\n  set="onclick: onUpload; @disabled: importDisabled">\n</button>\n<button\n  class="cancel-btn secondary-btn"\n  set="onclick: onCancel"\n  l10n="cancel">\n</button>\n';const Pt=()=>"undefined"!==typeof navigator.permissions;function Ot(e,t){let n,i=(...i)=>{clearTimeout(n),n=setTimeout((()=>e(...i)),t)};return i.cancel=()=>{clearTimeout(n)},i}class Lt extends He{activityType=He.activities.CAMERA;_unsubPermissions=null;init$={video:null,videoTransformCss:null,shotBtnDisabled:!1,videoHidden:!1,messageHidden:!0,requestBtnHidden:Pt(),l10nMessage:null,onCancel:()=>{this.cancelFlow()},onShot:()=>{this._shot()},onRequestPermissions:()=>{this._capture()}};_onActivate=()=>{this.set$({"*activityCaption":this.l10n("caption-camera"),"*activityIcon":"camera"}),Pt()&&this._subscribePermissions(),this._capture()};_onDeactivate=()=>{this._unsubPermissions&&this._unsubPermissions(),this._stopCapture()};_handlePermissionsChange=()=>{this._capture()};_setPermissionsState=Ot((e=>{"granted"===e?this.set$({videoHidden:!1,shotBtnDisabled:!1,messageHidden:!0}):"prompt"===e?(this.$.l10nMessage=this.l10n("camera-permissions-prompt"),this.set$({videoHidden:!0,shotBtnDisabled:!0,messageHidden:!1}),this._stopCapture()):(this.$.l10nMessage=this.l10n("camera-permissions-denied"),this.set$({videoHidden:!0,shotBtnDisabled:!0,messageHidden:!1}),this._stopCapture())}),300);async _subscribePermissions(){try{let e=await navigator.permissions.query({name:"camera"});e.addEventListener("change",this._handlePermissionsChange)}catch(e){console.log("Failed to use permissions API. Fallback to manual request mode.",e),this._capture()}}async _capture(){let e={video:{width:{ideal:1920},height:{ideal:1080},frameRate:{ideal:30}},audio:!1};this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d");try{this._setPermissionsState("prompt");let t=await navigator.mediaDevices.getUserMedia(e);t.addEventListener("inactive",(()=>{this._setPermissionsState("denied")})),this.$.video=t,this._capturing=!0,this._setPermissionsState("granted")}catch(t){this._setPermissionsState("denied")}}_stopCapture(){this._capturing&&(this.$.video?.getTracks()[0].stop(),this.$.video=null,this._capturing=!1)}_shot(){this._canvas.height=this.ref.video["videoHeight"],this._canvas.width=this.ref.video["videoWidth"],this._ctx.drawImage(this.ref.video,0,0);let e=Date.now(),t=`camera-${e}.png`;this._canvas.toBlob((n=>{let i=new File([n],t,{lastModified:e,type:"image/png"});this.uploadCollection.add({file:i,fileName:t,fileSize:i.size,isImage:!0,mimeType:i.type}),this.set$({"*currentActivity":He.activities.UPLOAD_LIST})}))}initCallback(){this.registerActivity(this.activityType,this._onActivate,this._onDeactivate);let e=this.bindCssData("--cfg-camera-mirror");this.sub(e,(e=>{this.isActivityActive&&(this.$.videoTransformCss=e?"scaleX(-1)":null)}))}}Lt.template='\n<div class="content">\n  <video\n    autoplay\n    playsinline\n    set="srcObject: video; style.transform: videoTransformCss; @hidden: videoHidden"\n    ref="video">\n  </video>\n  <div class="message-box" set="@hidden: messageHidden">\n    <span>{{l10nMessage}}</span>\n    <button set="onclick: onRequestPermissions; @hidden: requestBtnHidden" l10n="camera-permissions-request"></button>\n  </div>\n</div>\n\n<div class="toolbar">\n  <button\n    class="cancel-btn secondary-btn"\n    set="onclick: onCancel"\n    l10n="cancel">\n  </button>\n  <button\n    class="shot-btn primary-btn"\n    set="onclick: onShot; @disabled: shotBtnDisabled"\n    l10n="camera-shot">\n  </button>\n</div>\n';class Ut extends He{activityType=He.activities.DETAILS;init$={checkerboard:!1,localImageEditDisabled:!0,cloudImageEditDisabled:!0,fileSize:null,fileName:"",notUploaded:!0,imageUrl:"",errorTxt:"",editBtnHidden:!0,onNameInput:null,onBack:()=>{this.historyBack()},onRemove:()=>{this.uploadCollection.remove(this.entry.uid),this.historyBack()},onEdit:()=>{this.entry.getValue("uuid")&&(this.$["*currentActivity"]=He.activities.CLOUD_IMG_EDIT)}};showNonImageThumb(){let e=window.getComputedStyle(this).getPropertyValue("--clr-generic-file-icon"),t=xt(e,108,108);this.eCanvas.setImageUrl(t),this.set$({checkerboard:!1})}initCallback(){this.bindCssData("--cfg-use-local-image-editor"),this.sub("*--cfg-use-local-image-editor",(e=>{this.$.localImageEditDisabled=!e})),this.bindCssData("--cfg-use-cloud-image-editor"),this.sub("*--cfg-use-cloud-image-editor",(e=>{this.$.cloudImageEditDisabled=!e})),this.$.fileSize=this.l10n("file-size-unknown"),this.registerActivity(this.activityType,(()=>{this.set$({"*activityCaption":this.l10n("caption-edit-file")})})),this.eCanvas=this.ref.canvas,this.sub("*focusedEntry",(e=>{if(!e)return;this._entrySubs?this._entrySubs.forEach((e=>{this._entrySubs.delete(e),e.remove()})):this._entrySubs=new Set,this.entry=e;let t=e.getValue("file");if(this.eCanvas.clear(),t){this._file=t;let n=this._file.type.includes("image");n&&!e.getValue("transformationsUrl")&&(this.eCanvas.setImageFile(this._file),this.set$({checkerboard:!0,editBtnHidden:!this.$["*--cfg-use-local-image-editor"]})),n||this.showNonImageThumb()}let n=(e,t)=>{this._entrySubs.add(this.entry.subscribe(e,t))};n("fileName",(e=>{this.$.fileName=e,this.$.onNameInput=()=>{let e=this.ref.file_name_input["value"];Object.defineProperty(this._file,"name",{writable:!0,value:e}),this.entry.setValue("fileName",e)}})),n("fileSize",(e=>{this.$.fileSize=Number.isFinite(e)?this.fileSizeFmt(e):this.l10n("file-size-unknown")})),n("uuid",(e=>{e&&!this.entry.getValue("transformationsUrl")?(this.eCanvas.clear(),this.set$({imageUrl:`https://ucarecdn.com/${e}/`,notUploaded:!1,editBtnHidden:!this.entry.getValue("isImage")&&!this.$["*--cfg-use-cloud-image-editor"]}),this.eCanvas.setImageUrl(this.$.imageUrl)):this.$.imageUrl="Not uploaded yet..."})),n("uploadError",(e=>{this.$.errorTxt=e?.message})),n("externalUrl",(e=>{e&&(this.entry.getValue("uuid")||this.showNonImageThumb())})),n("transformationsUrl",(e=>{e&&this.entry.getValue("isImage")&&this.eCanvas.setImageUrl(e)}))}))}}Ut.template='\n<uc-tabs\n  tab-list="tab-view, tab-details">\n\n  <div\n    tab-ctx="tab-details"\n    class="details">\n\n    <div class="info-block">\n      <div class="info-block_name" l10n="file-name"></div>\n      <input\n        name="name-input"\n        ref="file_name_input"\n        set="value: fileName; oninput: onNameInput"\n        type="text" />\n    </div>\n\n    <div class="info-block">\n      <div class="info-block_name" l10n="file-size"></div>\n      <div>{{fileSize}}</div>\n    </div>\n\n    <div class="info-block">\n      <div class="info-block_name" l10n="cdn-url"></div>\n      <a\n        target="_blank"\n        set="@href: imageUrl; @disabled: notUploaded">{{imageUrl}}</a>\n    </div>\n\n    <div>{{errorTxt}}</div>\n\n  </div>\n\n  <uc-editable-canvas\n    tab-ctx="tab-view"\n    set="@disabled: localImageEditDisabled; @checkerboard: checkerboard;"\n    ref="canvas">\n  </uc-editable-canvas>\n</uc-tabs>\n\n<div class="toolbar" set="@edit-disabled: editBtnHidden">\n  <button\n    class="edit-btn secondary-btn"\n    set="onclick: onEdit; @hidden: editBtnHidden;">\n    <uc-icon name="edit"></uc-icon>\n    <span l10n="edit-image"></span>\n  </button>\n  <button\n    class="remove-btn secondary-btn"\n    set="onclick: onRemove">\n    <uc-icon name="remove"></uc-icon>\n    <span l10n="remove-from-list"></span>\n  </button>\n  <div></div>\n  <button\n    class="back-btn primary-btn"\n    set="onclick: onBack">\n    <span l10n="done"></span>\n  </button>\n</div>\n';class Nt extends He{init$={visible:!1,unknown:!1,value:0,"*commonProgress":0};initCallback(){this.uploadCollection.observe((()=>{let e=this.uploadCollection.items().some((e=>{let t=this.uploadCollection.read(e);return t.getValue("isUploading")}));this.$.visible=e})),this.sub("visible",(e=>{e?this.setAttribute("active",""):this.removeAttribute("active")})),this.sub("*commonProgress",(e=>{this.$.value=e}))}}Nt.template='\n<uc-progress-bar set="visible: visible; unknown: unknown; value: value"></uc-progress-bar>\n';class Mt extends He{_value=0;_unknownMode=!1;init$={width:0,opacity:0};initCallback(){this.defineAccessor("value",(e=>{void 0!==e&&(this._value=e,this._unknownMode||this.style.setProperty("--l-width",this._value.toString()))})),this.defineAccessor("visible",(e=>{this.ref.line.classList.toggle("progress--hidden",!e)})),this.defineAccessor("unknown",(e=>{this._unknownMode=e,this.ref.line.classList.toggle("progress--unknown",e)}))}}function Dt(e,t){for(let n in t)n.includes("-")?e.style.setProperty(n,t[n]):e.style[n]=t[n]}function Ft(e,t){for(let n in t)t[n].constructor===Boolean?t[n]?e.setAttribute(n,""):e.removeAttribute(n):e.setAttribute(n,t[n])}function jt(e={tag:"div"}){let t=document.createElement(e.tag);if(e.attributes&&Ft(t,e.attributes),e.styles&&Dt(t,e.styles),e.properties)for(let n in e.properties)t[n]=e.properties[n];return e.processors&&e.processors.forEach((e=>{e(t)})),e.children&&e.children.forEach((e=>{let n=jt(e);t.appendChild(n)})),t}Mt.template='\n<div\n  ref="line"\n  class="progress">\n</div>\n';class Bt extends He{init$={refMap:null,disabled:!0,toolbarHidden:!0,checkerboard:!1};constructor(){super(),Dt(this,{display:"flex",justifyContent:"center",alignItems:"center"})}initCallback(){this.sub("disabled",(()=>{this.$.toolbarHidden=this.hasAttribute("disabled")&&"false"!==this.getAttribute("disabled")})),this.sub("checkerboard",(()=>{this.style.backgroundImage=this.hasAttribute("checkerboard")?`url(${yt()})`:"unset"})),this.canvas=this.ref.cvs,this.canvCtx=this.canvas.getContext("2d"),this.$.refMap={parent:this,canvas:this.canvas,canvCtx:this.canvCtx,svg:this.ref.svg,svgGroup:this.ref.svg_g,svgImg:this.ref.svg_img}}setImage(e){e.height&&e.width?(this.canvas.height=e.height,this.canvas.width=e.width,this.canvCtx.drawImage(e,0,0,e.width,e.height)):(this.clear(),e.onload=()=>{this.canvas.height=e.height,this.canvas.width=e.width,this.canvCtx.drawImage(e,0,0,e.width,e.height)})}setImageFile(e){let t=new Image,n=URL.createObjectURL(e);t.src=n,this.setImage(t)}setImageUrl(e){let t=new Image;t.src=e,this.setImage(t)}clear(){this.canvCtx.clearRect(0,0,this.canvas.width,this.canvas.height)}}function zt(...e){return e.reduce(((e,t)=>{if("string"===typeof t)return e[t]=!0,e;for(let n of Object.keys(t))e[n]=t[n];return e}),{})}function Vt(...e){let t=zt(...e);return Object.keys(t).reduce(((e,n)=>(t[n]&&e.push(n),e)),[]).join(" ")}function Ht(e,...t){let n=zt(...t);for(let i of Object.keys(n))e.classList.toggle(i,n[i])}function qt(e,t){let n,i=(...i)=>{clearTimeout(n),n=setTimeout((()=>e(...i)),t)};return i.cancel=()=>{clearTimeout(n)},i}Bt.template='\n<canvas class="img-view" ref="cvs"></canvas>\n<svg class="img-view" xmlns="http://www.w3.org/2000/svg" ref="svg">\n  <g ref="svg_g">\n    <image ref="svg_img" x="0" y="0"></image>\n  </g>\n</svg>\n<editable-canvas-toolbar\n  set="refMap: refMap; @hidden: toolbarHidden">\n</editable-canvas-toolbar>\n',Bt.bindAttributes({disabled:"disabled",checkerboard:"checkerboard"});const Kt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";function Xt(e){let t=new Image,n=new Promise(((n,i)=>{t.src=e,t.onload=n,t.onerror=i})),i=()=>{0===t.naturalWidth&&(t.src=Kt)};return{promise:n,image:t,cancel:i}}function Gt(e){let t=[];for(let s of e){let e=Xt(s);t.push(e)}let n=t.map((e=>e.image)),i=Promise.allSettled(t.map((e=>e.promise))),r=()=>{t.forEach((e=>{e.cancel()}))};return{promise:i,images:n,cancel:r}}const Wt={brightness:0,exposure:0,gamma:100,contrast:0,saturation:0,vibrance:0,warmth:0,enhance:0,filter:0,rotate:0};function Jt(e,t){if("number"===typeof t)return Wt[e]!==t?`${e}/${t}`:"";if("boolean"===typeof t)return t&&Wt[e]!==t?`${e}`:"";if("filter"===e){if(!t||Wt[e]===t.amount)return"";let{name:n,amount:i}=t;return`${e}/${n}/${i}`}if("crop"===e){if(!t)return"";let{dimensions:n,coords:i}=t;return`${e}/${n.join("x")}/${i.join(",")}`}return""}function Zt(...e){return e.join("/-/").replace(/\/\//g,"/")}const Yt=["enhance","brightness","exposure","gamma","contrast","saturation","vibrance","warmth","filter","mirror","flip","rotate","crop"];function Qt(e){return Zt(...Yt.filter((t=>"undefined"!==typeof e[t]&&null!==e[t])).map((t=>{let n=e[t];return Jt(t,n)})).filter((e=>e&&e.length>0)))}function en(e,...t){return e.replace(/\/$/g,"")+"/-/"+Zt(...t.filter((e=>e&&e.length>0)))+"/"}const tn=["format/auto","progressive/yes"].join("/-/");function nn(e){return{"*originalUrl":null,"*tabId":null,"*faderEl":null,"*cropperEl":null,"*imgEl":null,"*imgContainerEl":null,"*modalEl":e,"*networkProblems":!1,"*imageSize":null,entry:null,extension:null,editorMode:!1,modalCaption:"",isImage:!1,msg:"",src:Kt,fileType:"",showLoader:!1,uuid:null,"presence.networkProblems":!1,"presence.modalCaption":!0,"presence.editorToolbar":!1,"presence.viewerToolbar":!0,"*on.retryNetwork":()=>{let t=e.querySelectorAll("img");for(let e of t){let t=e.src;e.src=Kt,e.src=t}e.$["*networkProblems"]=!1},"*on.apply":t=>{if(!t)return;let n=en(e.$["*originalUrl"],Qt(t),"preview");e.dispatchEvent(new CustomEvent("apply",{detail:{originalUrl:e.$["*originalUrl"],transformationsUrl:n,transformations:t}})),e.remove()},"*on.cancel":()=>{e.remove(),e.dispatchEvent(new CustomEvent("cancel"))}}}const rn=`\n<div class="wrapper wrapper_desktop">\n  <uc-presence-toggle class="network_problems_splash" set="visible: presence.networkProblems;">\n    <div class="network_problems_content">\n      <div class="network_problems_icon">\n        <uc-icon size="20" name="sad"></uc-icon>\n      </div>\n      <div class="network_problems_text">\n        Network error\n      </div>\n    </div>\n    <div class="network_problems_footer">\n      <uc-btn-ui theme="primary" text="Retry" set="onclick: *on.retryNetwork"></uc-btn-ui>\n    </div>\n  </uc-presence-toggle>\n  <div class="viewport">\n    <div class="file_type_outer">\n      <div class="file_type">{{fileType}}</div>\n    </div>\n    <div class="image_container" ref="img-container-el">\n      <img src="${Kt}" class="image image_visible_from_editor" ref="img-el">\n      <uc-editor-image-cropper ref="cropper-el"></uc-editor-image-cropper>\n      <uc-editor-image-fader ref="fader-el"></uc-editor-image-fader>\n    </div>\n    <div class="info_pan">{{msg}}</div>\n  </div>\n  <div class="toolbar">\n    <uc-line-loader-ui set="active: showLoader"></uc-line-loader-ui>\n    <div class="toolbar_content toolbar_content__editor">\n      <uc-editor-toolbar></uc-editor-toolbar>\n    </div>\n  </div>\n</div>\n`,sn={CROP:"crop",SLIDERS:"sliders",FILTERS:"filters"},on=[sn.CROP,sn.SLIDERS,sn.FILTERS],an=["brightness","exposure","gamma","contrast","saturation","vibrance","warmth","enhance"],ln=["adaris","briaril","calarel","carris","cynarel","cyren","elmet","elonni","enzana","erydark","fenralan","ferand","galen","gavin","gethriel","iorill","iothari","iselva","jadis","lavra","misiara","namala","nerion","nethari","pamaya","sarnar","sedis","sewen","sorahel","sorlen","tarian","thellassan","varriel","varven","vevera","virkas","yedis","yllara","zatvel","zevcen"],cn=["rotate","mirror","flip"],un={brightness:{zero:Wt.brightness,range:[-100,100],keypointsNumber:2},exposure:{zero:Wt.exposure,range:[-500,500],keypointsNumber:2},gamma:{zero:Wt.gamma,range:[0,1e3],keypointsNumber:2},contrast:{zero:Wt.contrast,range:[-100,500],keypointsNumber:2},saturation:{zero:Wt.saturation,range:[-100,500],keypointsNumber:1},vibrance:{zero:Wt.vibrance,range:[-100,500],keypointsNumber:1},warmth:{zero:Wt.warmth,range:[-100,100],keypointsNumber:1},enhance:{zero:Wt.enhance,range:[0,100],keypointsNumber:1},filter:{zero:Wt.filter,range:[0,100],keypointsNumber:1}};function hn(e,t,n){const i=3e3;let r=window.devicePixelRatio,s=Math.min(Math.ceil(t*r),i),o=r>=2?"lightest":"normal";return en(e,tn,Qt(n),`quality/${o}`,`stretch/off/-/resize/${s}x`)}class dn extends He{init$=nn(this);_debouncedShowLoader=qt(this._showLoader.bind(this),300);_showLoader(e){this.$.showLoader=e}_loadImageFromCdn(){this._debouncedShowLoader(!0);let e=this._imageSrc(),{promise:t,cancel:n}=Xt(e);t.then((()=>{this.$.src=e})).catch((t=>{this.$["*networkProblems"]=!0,this._debouncedShowLoader(!1),this.$.src=e})),this._cancelPreload&&this._cancelPreload(),this._cancelPreload=n}_imageSrc(){let{width:e}=this.ref["img-container-el"].getBoundingClientRect();return hn(this.$["*originalUrl"],e,{})}_waitForSize(){return new Promise(((e,t)=>{let n=300,i=Date.now(),r=()=>{if(!this.isConnected)return clearInterval(s),void t();if(Date.now()-i>n)return clearInterval(s),void t(new Error("[cloud-image-editor] timout waiting for non-zero container size"));let{width:r,height:o}=this.getBoundingClientRect();r>0&&o>0&&(clearInterval(s),e())},s=setInterval(r,50);r()}))}async initCallback(){super.initCallback();try{await this._waitForSize()}catch(e){return void(e&&console.error(e))}this.$["*originalUrl"]=`https://ucarecdn.com/${this.$.uuid}/`,fetch(`${this.$["*originalUrl"]}-/json/`).then((e=>e.json())).then((({width:e,height:t})=>{this.$["*imageSize"]={width:e,height:t}})),this._loadImageFromCdn(),this.$["*faderEl"]=this.ref["fader-el"],this.$["*cropperEl"]=this.ref["cropper-el"],this.$["*imgContainerEl"]=this.ref["img-container-el"],this.classList.add("editor_ON"),this.sub("*networkProblems",(e=>{this.$["presence.networkProblems"]=e,this.$["presence.modalCaption"]=!e})),this.ref["img-el"].addEventListener("load",(e=>{this._imgLoading=!1,this._debouncedShowLoader(!1),this.$.src!==Kt&&(this.$["*networkProblems"]=!1)})),this.ref["img-el"].addEventListener("error",(e=>{this._imgLoading=!1,this._debouncedShowLoader(!1),this.$["*networkProblems"]=!0})),this.sub("src",(e=>{let t=this.ref["img-el"];t.src!==e&&(this._imgLoading=!0,t.src=e||Kt)})),this.sub("*tabId",(e=>{this.ref["img-el"].className=Vt("image",{image_hidden_to_cropper:e===sn.CROP,image_hidden_effects:e!==sn.CROP})}))}disconnectedCallback(){super.disconnectedCallback()}}dn.template=rn,dn.bindAttributes({uuid:"uuid"});class pn extends He{activityType=He.activities.CLOUD_IMG_EDIT;init$={uuid:null};initCallback(){this.bindCssData("--cfg-pubkey"),this.sub("*currentActivity",(e=>{e===He.activities.CLOUD_IMG_EDIT?this.mountEditor():this.unmountEditor()})),this.sub("*focusedEntry",(e=>{e&&(this.entry=e,this.entry.subscribe("uuid",(e=>{e&&(this.$.uuid=e)})))}))}handleApply(e){let t=e.detail,{transformationsUrl:n}=t;this.entry.setValue("transformationsUrl",n),this.historyBack()}handleCancel(){this.historyBack()}mountEditor(){let e=new dn;e.classList.add("uc-cldtr-common");let t=this.$.uuid;e.setAttribute("uuid",t),e.addEventListener("apply",(e=>this.handleApply(e))),e.addEventListener("cancel",(()=>this.handleCancel())),this.innerHTML="",this.appendChild(e)}unmountEditor(){this.innerHTML=""}}let fn={};window.addEventListener("message",(e=>{let t;try{t=JSON.parse(e.data)}catch(n){return}if(t?.type in fn){let n=fn[t.type];for(let[i,r]of n)e.source===i&&r(t)}}));const mn=function(e,t,n){e in fn||(fn[e]=[]),fn[e].push([t,n])},gn=function(e,t){e in fn&&(fn[e]=fn[e].filter((e=>e[0]!==t)))};let vn=e=>{let t=Object.keys(e).reduce(((t,n)=>{let i=e[n],r=Object.keys(i).reduce(((e,t)=>{let n=i[t];return e+`${t}: ${n};`}),"");return t+`${n}{${r}}`}),"");return t};function bn({textColor:e,backgroundColor:t,linkColor:n,linkColorHover:i,shadeColor:r}){let s=`solid 1px ${r}`;return vn({body:{color:e,"background-color":t},".side-bar":{background:"inherit","border-right":s},".main-content":{background:"inherit"},".main-content-header":{background:"inherit"},".main-content-footer":{background:"inherit"},".list-table-row":{color:"inherit"},".list-table-row:hover":{background:r},".list-table-row .list-table-cell-a, .list-table-row .list-table-cell-b":{"border-top":s},".list-table-body .list-items":{"border-bottom":s},".bread-crumbs a":{color:n},".bread-crumbs a:hover":{color:i},".main-content.loading":{background:`${t} url(/static/images/loading_spinner.gif) center no-repeat`,"background-size":"25px 25px"},".list-icons-item":{background:`center no-repeat ${r}`},".source-gdrive .side-bar-menu a, .source-gphotos .side-bar-menu a":{color:n},".source-gdrive .side-bar-menu a, .source-gphotos .side-bar-menu a:hover":{color:i},".side-bar-menu a":{color:n},".side-bar-menu a:hover":{color:i},".source-gdrive .side-bar-menu .current, .source-gdrive .side-bar-menu a:hover, .source-gphotos .side-bar-menu .current, .source-gphotos .side-bar-menu a:hover":{color:i},".source-vk .side-bar-menu a":{color:n},".source-vk .side-bar-menu a:hover":{color:i,background:"none"}})}class _n extends He{activityType=He.activities.EXTERNAL;init$={counter:0,onDone:()=>{this.$["*currentActivity"]=He.activities.UPLOAD_LIST},onCancel:()=>{this.cancelFlow()}};_iframe=null;initCallback(){this.registerActivity(this.activityType,(()=>{let{externalSourceType:e}=this.activityParams;this.set$({"*activityCaption":`${e[0].toUpperCase()}${e.slice(1)}`,"*activityIcon":e}),this.$.counter=0,this.mountIframe()})),this.sub("*currentActivity",(e=>{e!==this.activityType&&this.unmountIframe()}))}sendMessage(e){this._iframe.contentWindow.postMessage(JSON.stringify(e),"*")}async handleFileSelected(e){this.$.counter=this.$.counter+1;let{url:t,filename:n}=e;this.uploadCollection.add({externalUrl:t,fileName:n})}handleIframeLoad(e){this.applyStyles()}getCssValue(e){let t=window.getComputedStyle(this);return t.getPropertyValue(e).trim()}applyStyles(){let e={backgroundColor:this.getCssValue("--clr-background-light"),textColor:this.getCssValue("--clr-txt"),shadeColor:this.getCssValue("--clr-shade-lv1"),linkColor:"#157cfc",linkColorHover:"#3891ff"};this.sendMessage({type:"embed-css",style:bn(e)})}remoteUrl(){let e=this.$["*--cfg-pubkey"],t="3.11.3",n=(!1).toString(),{externalSourceType:i}=this.activityParams;return`https://social.uploadcare.com/window3/${i}?lang=en&public_key=${e}&widget_version=${t}&images_only=${n}&pass_window_open=false`}mountIframe(){let e=jt({tag:"iframe",attributes:{src:this.remoteUrl(),marginheight:0,marginwidth:0,frameborder:0,allowTransparency:!0}});e.addEventListener("load",this.handleIframeLoad.bind(this)),this.ref.iframeWrapper.innerHTML="",this.ref.iframeWrapper.appendChild(e),mn("file-selected",e.contentWindow,this.handleFileSelected.bind(this)),this._iframe=e}unmountIframe(){this._iframe&&gn("file-selected",this._iframe.contentWindow),this.ref.iframeWrapper.innerHTML="",this._iframe=void 0}}_n.template='\n<div\n  ref="iframeWrapper"\n  class="iframe-wrapper">\n</div>\n<div class="toolbar">\n  <button\n    class="cancel-btn secondary-btn"\n    set="onclick: onCancel"\n    l10n="cancel">\n  </button>\n  <div></div>\n  <div class="selected-counter">\n    <span l10n="selected-count"></span>{{counter}}</div>\n  <button class="done-btn primary-btn" set="onclick: onDone">\n    <uc-icon name="check"></uc-icon>\n  </button>\n</div>\n';class yn extends He{setCurrentTab(e){if(!e)return;let t=[...this.ref.context.querySelectorAll("[tab-ctx]")];t.forEach((t=>{t.getAttribute("tab-ctx")===e?t.removeAttribute("hidden"):t.setAttribute("hidden","")}));for(let n in this._tabMap)n===e?this._tabMap[n].setAttribute("current",""):this._tabMap[n].removeAttribute("current")}initCallback(){this._tabMap={},this.defineAccessor("tab-list",(e=>{if(!e)return;let t=e.split(",").map((e=>e.trim()));t.forEach((e=>{let t=jt({tag:"div",attributes:{class:"tab"},properties:{onclick:()=>{this.setCurrentTab(e)}}});t.textContent=this.l10n(e),this.ref.row.appendChild(t),this._tabMap[e]=t}))})),this.defineAccessor("default",(e=>{this.setCurrentTab(e)})),this.hasAttribute("default")||this.setCurrentTab(Object.keys(this._tabMap)[0])}}yn.bindAttributes({"tab-list":null,default:null}),yn.template='\n<div ref="row" class="tabs-row"></div>\n<div ref="context" class="tabs-context">\n  <slot></slot>\n</div>\n';class wn extends He{initCallback(){let e=this.getAttribute("from");this.sub(e||wn.defaultFrom,(e=>{if(e){if(this.hasAttribute(wn.fireEventAttrName)&&this.dispatchEvent(new CustomEvent(wn.outputEventName,{bubbles:!0,composed:!0,detail:{timestamp:Date.now(),ctxName:this.ctxName,data:e}})),this.hasAttribute(wn.templateAttrName)){let t=this.getAttribute(wn.templateAttrName),n="";e.forEach((e=>{let i=t;for(let t in e)i=i.split(`{{${t}}}`).join(e[t]);n+=i})),this.innerHTML=n}this.value=e,this.hasAttribute(wn.formValueAttrName)&&(this._input||(this._input=document.createElement("input"),this._input.type="text",this.appendChild(this._input)),this._input.value=JSON.stringify(e)),this.hasAttribute(wn.consoleAttrName)&&console.log(e)}else this.innerHTML=""}))}}wn.outputEventName="data-output",wn.templateAttrName="item-template",wn.fireEventAttrName="fire-event",wn.consoleAttrName="console",wn.formValueAttrName="form-value",wn.defaultFrom="*outputData";class xn extends He{init$={"*activityCaption":void 0}}xn.template='\n<div class="caption">{{*activityCaption}}</div>\n';class Cn extends He{init$={"*activityIcon":"default"}}Cn.template='\n<uc-icon set="@name: *activityIcon"></uc-icon>\n';class Tn extends He{}Tn.template='\n<uc-simple-btn></uc-simple-btn>\n\n<uc-modal strokes block-body-scrolling>\n  <uc-activity-icon slot="heading"></uc-activity-icon>\n  <uc-activity-caption slot="heading"></uc-activity-caption>\n  <uc-start-from>\n    <uc-source-list wrap></uc-source-list>\n    <uc-drop-area></uc-drop-area>\n  </uc-start-from>\n  <uc-upload-list></uc-upload-list>\n  <uc-camera-source></uc-camera-source>\n  <uc-url-source></uc-url-source>\n  <uc-external-source></uc-external-source>\n  <uc-upload-details></uc-upload-details>\n  <uc-confirmation-dialog></uc-confirmation-dialog>\n  <uc-cloud-image-editor></uc-cloud-image-editor>\n</uc-modal>\n\n<uc-message-box></uc-message-box>\n<uc-progress-bar-common></uc-progress-bar-common>\n';class $n extends He{init$={selectClicked:()=>{this.openSystemDialog()}};initCallback(){this.$["*currentActivity"]=this.initActivity||He.activities.START_FROM}}$n.template='\n  <uc-start-from>\n    <uc-drop-area>\n      <button\n        l10n="drop-files-here"\n        set="onclick: selectClicked">\n      </button>\n    </uc-drop-area>\n  </uc-start-from>\n  <uc-upload-list></uc-upload-list>\n  <uc-message-box></uc-message-box>\n';const kn=20,An=24,Sn=34,En=3,In=En/2,Rn=1,Pn=100/3,On=2*An+Sn;function Ln(e,t){for(let n in t)e.setAttributeNS(null,n,t[n].toString())}function Un(e,t={}){let n=document.createElementNS("http://www.w3.org/2000/svg",e);return Ln(n,t),n}function Nn(e,t){let{x:n,y:i,width:r,height:s}=e,o=t.includes("w")?0:1,a=t.includes("n")?0:1,l=[-1,1][o],c=[-1,1][a],u=[n+o*r+In*l,i+a*s+In*c-An*c],h=[n+o*r+In*l,i+a*s+In*c],d=[n+o*r-An*l+In*l,i+a*s+In*c],p=`M ${u[0]} ${u[1]} L ${h[0]} ${h[1]} L ${d[0]} ${d[1]}`,f=h;return{d:p,center:f}}function Mn(e,t){let n,i,{x:r,y:s,width:o,height:a}=e,l=["n","s"].includes(t)?.5:{w:0,e:1}[t],c=["w","e"].includes(t)?.5:{n:0,s:1}[t],u=[-1,1][l],h=[-1,1][c];["n","s"].includes(t)?(n=[r+l*o-Sn/2,s+c*a+In*h],i=[r+l*o+Sn/2,s+c*a+In*h]):(n=[r+l*o+In*u,s+c*a-Sn/2],i=[r+l*o+In*u,s+c*a+Sn/2]);let d=`M ${n[0]} ${n[1]} L ${i[0]} ${i[1]}`,p=[i[0]-(i[0]-n[0])/2,i[1]-(i[1]-n[1])/2];return{d:d,center:p}}function Dn(e){return""===e?"move":["e","w"].includes(e)?"ew-resize":["n","s"].includes(e)?"ns-resize":["nw","se"].includes(e)?"nwse-resize":"nesw-resize"}function Fn(e,[t,n]){return{...e,x:e.x+t,y:e.y+n}}function jn(e,t){let{x:n}=e,{y:i}=e;return e.x<t.x?n=t.x:e.x+e.width>t.x+t.width&&(n=t.x+t.width-e.width),e.y<t.y?i=t.y:e.y+e.height>t.y+t.height&&(i=t.y+t.height-e.height),{...e,x:n,y:i}}function Bn(e,[t,n],i){let{x:r,y:s,width:o,height:a}=e;return i.includes("n")&&(s+=n,a-=n),i.includes("s")&&(a+=n),i.includes("w")&&(r+=t,o-=t),i.includes("e")&&(o+=t),{x:r,y:s,width:o,height:a}}function zn(e,t){let n=Math.max(e.x,t.x),i=Math.min(e.x+e.width,t.x+t.width),r=Math.max(e.y,t.y),s=Math.min(e.y+e.height,t.y+t.height);return{x:n,y:r,width:i-n,height:s-r}}function Vn(e,[t,n],i){let{x:r,y:s,width:o,height:a}=e;if(i.includes("n")){let e=a;a=Math.max(n,a),s=s+e-a}if(i.includes("s")&&(a=Math.max(n,a)),i.includes("w")){let e=o;o=Math.max(t,o),r=r+e-o}return i.includes("e")&&(o=Math.max(t,o)),{x:r,y:s,width:o,height:a}}function Hn(e,[t,n]){return e.x<=t&&t<=e.x+e.width&&e.y<=n&&n<=e.y+e.height}class qn extends He{init$={dragging:!1};constructor(){super(),this._handlePointerUp=this._handlePointerUp_.bind(this),this._handlePointerMove=this._handlePointerMove_.bind(this),this._handleSvgPointerMove=this._handleSvgPointerMove_.bind(this)}_shouldThumbBeDisabled(e){let t=this.$["*imageBox"];if(!t)return;if(""===e&&t.height<=On&&t.width<=On)return!0;let n=t.height<=On&&(e.includes("n")||e.includes("s")),i=t.width<=On&&(e.includes("e")||e.includes("w"));return n||i}_createBackdrop(){let e=this.$["*cropBox"];if(!e)return;let{x:t,y:n,width:i,height:r}=e,s=this.ref["svg-el"],o=Un("mask",{id:"backdrop-mask"}),a=Un("rect",{x:0,y:0,width:"100%",height:"100%",fill:"white"}),l=Un("rect",{x:t,y:n,width:i,height:r,fill:"black"});o.appendChild(a),o.appendChild(l);let c=Un("rect",{x:0,y:0,width:"100%",height:"100%",fill:"var(--color-image-background)","fill-opacity":.85,mask:"url(#backdrop-mask)"});s.appendChild(c),s.appendChild(o),this._backdropMask=o,this._backdropMaskInner=l}_resizeBackdrop(){this._backdropMask&&(this._backdropMask.style.display="none",window.requestAnimationFrame((()=>{this._backdropMask.style.display="block"})))}_updateBackdrop(){let e=this.$["*cropBox"];if(!e)return;let{x:t,y:n,width:i,height:r}=e;Ln(this._backdropMaskInner,{x:t,y:n,width:i,height:r})}_updateFrame(){let e=this.$["*cropBox"];if(!e)return;for(let n of Object.values(this._frameThumbs)){let{direction:t,pathNode:i,interactionNode:r,groupNode:s}=n,o=""===t,a=2===t.length;if(o){let{x:t,y:n,width:i,height:s}=e,o=[t+i/2,n+s/2];Ln(r,{r:Math.min(i,s)/3,cx:o[0],cy:o[1]})}else{let{d:n,center:s}=a?Nn(e,t):Mn(e,t);Ln(r,{cx:s[0],cy:s[1]}),Ln(i,{d:n})}let l=this._shouldThumbBeDisabled(t);s.setAttribute("class",Vt("thumb",{"thumb--hidden":l,"thumb--visible":!l}))}let t=this._frameGuides;Ln(t,{x:e.x-.5*Rn,y:e.y-.5*Rn,width:e.width+Rn,height:e.height+Rn})}_createThumbs(){let e={};for(let t=0;t<3;t++)for(let n=0;n<3;n++){let i=`${["n","","s"][t]}${["w","","e"][n]}`,r=Un("g");r.classList.add("thumb"),r.setAttribute("with-effects","");let s=Un("circle",{r:An+In,fill:"transparent"}),o=Un("path",{stroke:"currentColor",fill:"none","stroke-width":En});r.appendChild(o),r.appendChild(s),e[i]={direction:i,pathNode:o,interactionNode:s,groupNode:r},s.addEventListener("pointerdown",this._handlePointerDown.bind(this,i))}return e}_createGuides(){let e=Un("svg"),t=Un("rect",{x:0,y:0,width:"100%",height:"100%",fill:"none",stroke:"#000000","stroke-width":Rn,"stroke-opacity":.5});e.appendChild(t);for(let n=1;n<=2;n++){let t=Un("line",{x1:Pn*n+"%",y1:"0%",x2:Pn*n+"%",y2:"100%",stroke:"#000000","stroke-width":Rn,"stroke-opacity":.3});e.appendChild(t)}for(let n=1;n<=2;n++){let t=Un("line",{x1:"0%",y1:Pn*n+"%",x2:"100%",y2:Pn*n+"%",stroke:"#000000","stroke-width":Rn,"stroke-opacity":.3});e.appendChild(t)}return e.classList.add("guides","guides--semi-hidden"),e}_createFrame(){let e=this.ref["svg-el"],t=document.createDocumentFragment(),n=this._createGuides();t.appendChild(n);let i=this._createThumbs();for(let{groupNode:r}of Object.values(i))t.appendChild(r);e.appendChild(t),this._frameThumbs=i,this._frameGuides=n}_handlePointerDown(e,t){let n=this._frameThumbs[e];if(this._shouldThumbBeDisabled(e))return;let i=this.$["*cropBox"],{x:r,y:s}=this.ref["svg-el"].getBoundingClientRect(),o=t.x-r,a=t.y-s;this.$.dragging=!0,this._draggingThumb=n,this._dragStartPoint=[o,a],this._dragStartCrop={...i}}_handlePointerUp_(e){this._updateCursor(),this.$.dragging&&(e.stopPropagation(),e.preventDefault(),this.$.dragging=!1)}_handlePointerMove_(e){if(!this.$.dragging)return;e.stopPropagation(),e.preventDefault();let t=this.ref["svg-el"],{x:n,y:i}=t.getBoundingClientRect(),r=e.x-n,s=e.y-i,o=r-this._dragStartPoint[0],a=s-this._dragStartPoint[1],{direction:l}=this._draggingThumb,c=this.$["*imageBox"],u=this._dragStartCrop;""===l?(u=Fn(u,[o,a]),u=jn(u,c)):(u=Bn(u,[o,a],l),u=zn(u,c));let h=[Math.min(c.width,On),Math.min(c.height,On)];u=Vn(u,h,l),Object.values(u).every((e=>Number.isFinite(e)&&e>=0))?this.$["*cropBox"]=u:console.error("CropFrame is trying to create invalid rectangle",{payload:u})}_handleSvgPointerMove_(e){let t=Object.values(this._frameThumbs).find((t=>{if(this._shouldThumbBeDisabled(t.direction))return!1;let n=t.groupNode,i=n.getBoundingClientRect(),r={x:i.x,y:i.y,width:i.width,height:i.height},s=Hn(r,[e.x,e.y]);return s}));this._hoverThumb=t,this._updateCursor()}_updateCursor(){let e=this._hoverThumb;this.ref["svg-el"].style.cursor=e?Dn(e.direction):"initial"}_render(){this._updateBackdrop(),this._updateFrame()}toggleThumbs(e){Object.values(this._frameThumbs).map((({groupNode:e})=>e)).forEach((t=>{t.setAttribute("class",Vt("thumb",{"thumb--hidden":!e,"thumb--visible":e}))}))}initCallback(){super.initCallback(),this._createBackdrop(),this._createFrame(),this.sub("*imageBox",(()=>{this._resizeBackdrop(),window.requestAnimationFrame((()=>{this._render()}))})),this.sub("*cropBox",(e=>{e&&(this._guidesHidden=e.height<=On||e.width<=On,window.requestAnimationFrame((()=>{this._render()})))})),this.sub("dragging",(e=>{this._frameGuides.setAttribute("class",Vt({"guides--hidden":this._guidesHidden,"guides--visible":!this._guidesHidden&&e,"guides--semi-hidden":!this._guidesHidden&&!e}))})),this.ref["svg-el"].addEventListener("pointermove",this._handleSvgPointerMove,!0),document.addEventListener("pointermove",this._handlePointerMove,!0),document.addEventListener("pointerup",this._handlePointerUp,!0)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("pointermove",this._handlePointerMove),document.removeEventListener("pointerup",this._handlePointerUp)}}qn.template="\n  <svg class='svg' ref='svg-el' xmlns=\"http://www.w3.org/2000/svg\">\n  </svg>\n";class Kn extends He{init$={active:!1,title:"",icon:"","on.click":null};initCallback(){super.initCallback(),this._titleEl=this.ref["title-el"],this._iconEl=this.ref["icon-el"],this.setAttribute("role","button"),-1===this.tabIndex&&(this.tabIndex=0),this.sub("title",(e=>{let t=this._titleEl;t&&(this._titleEl.style.display=e?"block":"none")})),this.sub("active",(e=>{this.className=Vt({active:e,not_active:!e})})),this.sub("on.click",(e=>{this.onclick=e}))}}function Xn(e){let t=e+90;return t=t>=360?0:t,t}function Gn(e,t){return"rotate"===e?Xn(t):["mirror","flip"].includes(e)?!t:null}Kn.template='\n  <div class="before"></div>\n  <uc-icon size="20" set="@name: icon;"></uc-icon>\n  <div class="title" ref="title-el">{{title}}</div>\n';class Wn extends Kn{initCallback(){super.initCallback(),this.defineAccessor("operation",(e=>{e&&(this._operation=e,this.$["icon"]=e)})),this.$["on.click"]=e=>{let t=this.$["*cropperEl"].getValue(this._operation),n=Gn(this._operation,t);this.$["*cropperEl"].setValue(this._operation,n)}}}const Jn={FILTER:"filter",COLOR_OPERATION:"color_operation"},Zn="original";class Yn extends He{init$={disabled:!1,min:0,max:100,value:0,defaultValue:0,zero:0,"on.input":e=>{this.$["*faderEl"].set(e),this.$.value=e}};setOperation(e,t){this._controlType="filter"===e?Jn.FILTER:Jn.COLOR_OPERATION,this._operation=e,this._iconName=e,this._title=e.toUpperCase(),this._filter=t,this._initializeValues(),this.$["*faderEl"].activate({url:this.$["*originalUrl"],operation:this._operation,value:this._filter===Zn?void 0:this.$.value,filter:this._filter===Zn?void 0:this._filter,fromViewer:!1})}_initializeValues(){let{range:e,zero:t}=un[this._operation],[n,i]=e;this.$.min=n,this.$.max=i,this.$.zero=t;let r=this.$["*editorTransformations"][this._operation];if(this._controlType===Jn.FILTER){let e=i;if(r){let{name:t,amount:n}=r;e=t===this._filter?n:i}this.$.value=e,this.$.defaultValue=e}if(this._controlType===Jn.COLOR_OPERATION){let e="undefined"!==typeof r?r:t;this.$.value=e,this.$.defaultValue=e}}apply(){let e;e=this._controlType===Jn.FILTER?this._filter===Zn?null:{name:this._filter,amount:this.$.value}:this.$.value;let t={...this.$["*editorTransformations"],[this._operation]:e};this.$["*editorTransformations"]=t}cancel(){this.$["*faderEl"].deactivate({hide:!1})}connectedCallback(){super.connectedCallback(),this.sub("*originalUrl",(e=>{this._originalUrl=e})),this.sub("value",(e=>{let t=`${this._filter||this._operation} ${e}`;this.$["*operationTooltip"]=t}))}}Yn.template='\n<uc-slider-ui ref="slider-el" set="disabled: disabled; min: min; max: max; defaultValue: defaultValue; zero: zero; onInput: on.input;"></uc-slider-ui>\n';class Qn extends Kn{init$={active:!1,title:"",icon:"",isOriginal:!1,iconSize:"20","on.click":null};_previewSrc(){let e=parseInt(window.getComputedStyle(this).getPropertyValue("--l-base-min-width"),10),t=window.devicePixelRatio,n=Math.ceil(t*e),i=t>=2?"lightest":"normal",r=100,s={...this.$["*editorTransformations"]};return s[this._operation]=this._filter!==Zn?{name:this._filter,amount:r}:void 0,en(this._originalUrl,tn,Qt(s),`quality/${i}`,`scale_crop/${n}x${n}/center`)}_observerCallback(e,t){let n=e[0];if(n.isIntersecting){let e=this._previewSrc(),n=this.ref["preview-el"],{promise:i,cancel:r}=Xt(e);this._cancelPreload=r,i.catch((e=>{this.$["*networkProblems"]=!0,console.error("Failed to load image",{error:e})})).finally((()=>{n.style.backgroundImage=`url(${e})`,setTimeout((()=>{n.style.opacity="1"})),t.unobserve(this)}))}else this._cancelPreload&&this._cancelPreload()}initCallback(){super.initCallback(),this.$["on.click"]=e=>{this.$.active?this.$.isOriginal||(this.$["*sliderEl"].setOperation(this._operation,this._filter),this.$["*showSlider"]=!0):(this.$["*sliderEl"].setOperation(this._operation,this._filter),this.$["*sliderEl"].apply()),this.$["*currentFilter"]=this._filter},this.defineAccessor("filter",(e=>{this._operation="filter",this._filter=e,this.$.isOriginal=e===Zn,this.$.icon=this.$.isOriginal?"original":"slider"})),this._observer=new window.IntersectionObserver(this._observerCallback.bind(this),{threshold:[0,1]});let e=this.$["*originalUrl"];this._originalUrl=e,this.$.isOriginal?this.ref["icon-el"].classList.add("original-icon"):this._observer.observe(this),this.sub("*currentFilter",(e=>{this.$.active=e&&e===this._filter})),this.sub("isOriginal",(e=>{this.$.iconSize=e?40:20})),this.sub("active",(e=>{if(this.$.isOriginal)return;let t=this.ref["icon-el"];t.style.opacity=e?"1":"0";let n=this.ref["preview-el"];e?n.style.opacity="0":n.style.backgroundImage&&(n.style.opacity="1")})),this.sub("*networkProblems",(e=>{if(!e){let e=this._previewSrc(),t=this.ref["preview-el"];t.style.backgroundImage&&(t.style.backgroundImage="none",t.style.backgroundImage=`url(${e})`)}}))}disconnectedCallback(){super.disconnectedCallback(),this._observer.unobserve(this),this._observer=void 0,this._cancelPreload&&this._cancelPreload()}}Qn.template='\n  <div class="before"></div>\n  <div class="preview" ref="preview-el"></div>\n  <uc-icon size="40" ref="icon-el" set="@name: icon; @size: iconSize;"></uc-icon>\n';class ei extends Kn{_operation="";initCallback(){super.initCallback(),this.$["on.click"]=e=>{this.$["*sliderEl"].setOperation(this._operation),this.$["*showSlider"]=!0,this.$["*currentOperation"]=this._operation},this.defineAccessor("operation",(e=>{e&&(this._operation=e,this.$["icon"]=e,this.$.title=this.l10n(e))})),this.sub("*editorTransformations",(e=>{if(!this._operation)return;let{zero:t}=un[this._operation],n=e[this._operation],i="undefined"!==typeof n&&n!==t;this.$.active=i}))}}function ti(e,t){let n={};for(let i of t){let t=e[i];(e.hasOwnProperty(i)||void 0!==t)&&(n[i]=t)}return n}const ni=window.ResizeObserver||class{constructor(e){this._callback=e}_flush(e){let t=e.getBoundingClientRect();JSON.stringify(t)!==JSON.stringify(this._lastRect)&&this._callback([{borderBoxSize:[{inlineSize:t.width,blockSize:t.height}],contentBoxSize:[{inlineSize:t.width,blockSize:t.height}],contentRect:t,target:e}]),this._lastRect=t}observe(e){this.unobserve(),this._observeInterval=window.setInterval((()=>this._flush(e)),500),this._flush(e)}unobserve(e){this._observeInterval&&window.clearInterval(this._observeInterval)}};function ii(e,t,n){return Math.min(Math.max(e,t),n)}function ri({width:e,height:t},n){let i=n/90%2!==0;return{width:i?t:e,height:i?e:t}}function si(e){if(!e)return!0;let t=[({dimensions:e,coords:t})=>[...e,...t].every((e=>Number.isInteger(e)&&Number.isFinite(e))),({dimensions:e,coords:t})=>e.every((e=>e>0))&&t.every((e=>e>=0))];return t.every((t=>t(e)))}class oi extends He{init$={image:null,"*padding":kn,"*operations":{rotate:0,mirror:!1,flip:!1},"*imageBox":{x:0,y:0,width:0,height:0},"*cropBox":{x:0,y:0,width:0,height:0}};constructor(){super(),this._commitDebounced=qt(this._commit.bind(this),300),this._handleResizeDebounced=qt(this._handleResize.bind(this),10)}_handleResize(){this._initCanvas(),this._alignImage(),this._alignCrop(),this._draw()}_syncTransformations(){let e=this.$["*editorTransformations"],t=ti(e,Object.keys(this.$["*operations"])),n={...this.$["*operations"],...t};this.$["*operations"]=n}_initCanvas(){let e=this.ref["canvas-el"],t=e.getContext("2d"),n=this.offsetWidth,i=this.offsetHeight,r=window.devicePixelRatio;e.style.width=`${n}px`,e.style.height=`${i}px`,e.width=n*r,e.height=i*r,t.scale(r,r),this._canvas=e,this._ctx=t}_alignImage(){if(!this._isActive||!this.$.image)return;let e=this.$.image,t=this.$["*padding"],n=this.$["*operations"],{rotate:i}=n,r={width:this.offsetWidth,height:this.offsetHeight},s=ri({width:e.naturalWidth,height:e.naturalHeight},i);if(s.width>r.width-2*t||s.height>r.height-2*t){let e=s.width/s.height,n=r.width/r.height;if(e>n){let n=r.width-2*t,i=n/e,s=0+t,o=t+(r.height-2*t)/2-i/2;this.$["*imageBox"]={x:s,y:o,width:n,height:i}}else{let n=r.height-2*t,i=n*e,s=t+(r.width-2*t)/2-i/2,o=0+t;this.$["*imageBox"]={x:s,y:o,width:i,height:n}}}else{let{width:e,height:n}=s,i=t+(r.width-2*t)/2-e/2,o=t+(r.height-2*t)/2-n/2;this.$["*imageBox"]={x:i,y:o,width:e,height:n}}}_alignCrop(){let e=this.$["*cropBox"],t=this.$["*imageBox"],n=this.$["*operations"],{rotate:i}=n,r=this.$["*editorTransformations"]["crop"];if(r){let{dimensions:[t,n],coords:[s,o]}=r,{width:a,x:l,y:c}=this.$["*imageBox"],{width:u}=ri(this._imageSize,i),h=a/u;e={x:l+s*h,y:c+o*h,width:t*h,height:n*h}}else e={x:t.x,y:t.y,width:t.width,height:t.height};let s=[Math.min(t.width,On),Math.min(t.height,On)];e=Vn(e,s,"se"),e=jn(e,t),this.$["*cropBox"]=e}_drawImage(){let e=this.$.image,t=this.$["*imageBox"],n=this.$["*operations"],{mirror:i,flip:r,rotate:s}=n,o=this._ctx,a=ri({width:t.width,height:t.height},s);o.save(),o.translate(t.x+t.width/2,t.y+t.height/2),o.rotate(s*Math.PI*-1/180),o.scale(i?-1:1,r?-1:1),o.drawImage(e,-a.width/2,-a.height/2,a.width,a.height),o.restore()}_draw(){if(!this._isActive||!this.$.image)return;let e=this._canvas,t=this._ctx;t.clearRect(0,0,e.width,e.height),this._drawImage()}_animateIn({fromViewer:e}){this.$.image&&(this.ref["frame-el"].toggleThumbs(!0),this._alignTransition(),setTimeout((()=>{this.className=Vt({active_from_viewer:e,active_from_editor:!e,inactive_to_editor:!1,inactive_instant:!1})})))}_calculateDimensions(){let e=this.$["*cropBox"],t=this.$["*imageBox"],n=this.$["*operations"],{rotate:i}=n,{width:r,height:s}=t,{width:o,height:a}=ri(this._imageSize,i),{width:l,height:c}=e,u=r/o,h=s/a,d=[ii(Math.round(l/u),1,o),ii(Math.round(c/h),1,a)];return d}_calculateCrop(){let e=this.$["*cropBox"],t=this.$["*imageBox"],n=this.$["*operations"],{rotate:i}=n,{width:r,height:s,x:o,y:a}=t,{width:l,height:c}=ri(this._imageSize,i),{x:u,y:h}=e,d=r/l,p=s/c,f=this._calculateDimensions(),m={dimensions:f,coords:[ii(Math.round((u-o)/d),0,l-f[0]),ii(Math.round((h-a)/p),0,c-f[1])]};if(si(m)){if(f[0]!==l||f[1]!==c)return m}else console.error("Cropper is trying to create invalid crop object",{payload:m})}_commit(){let e=this.$["*operations"],{rotate:t,mirror:n,flip:i}=e,r=this._calculateCrop(),s=this.$["*editorTransformations"],o={...s,crop:r,rotate:t,mirror:n,flip:i};this.$["*editorTransformations"]=o}setValue(e,t){console.log(`Apply cropper operation [${e}=${t}]`),this.$["*operations"]={...this.$["*operations"],[e]:t},this._isActive&&(this._alignImage(),this._alignCrop(),this._draw())}getValue(e){return this.$["*operations"][e]}async activate(e,{fromViewer:t}){if(!this._isActive){this._isActive=!0,this._imageSize=e,this.removeEventListener("transitionend",this._reset),this._initCanvas();try{this.$.image=await this._waitForImage(this.$["*originalUrl"],this.$["*editorTransformations"]),this._syncTransformations(),this._alignImage(),this._alignCrop(),this._draw(),this._animateIn({fromViewer:t})}catch(n){console.error("Failed to activate cropper",{error:n})}}}deactivate({seamlessTransition:e=!1}={}){this._isActive&&(this._commit(),this._isActive=!1,e&&this._alignTransition(),this.className=Vt({active_from_viewer:!1,active_from_editor:!1,inactive_to_editor:e,inactive_instant:!e}),this.ref["frame-el"].toggleThumbs(!1),this.addEventListener("transitionend",this._reset,{once:!0}))}_alignTransition(){let e=this._calculateDimensions(),t=Math.min(this.offsetWidth-2*this.$["*padding"],e[0])/this.$["*cropBox"].width,n=Math.min(this.offsetHeight-2*this.$["*padding"],e[1])/this.$["*cropBox"].height,i=Math.min(t,n),r=this.$["*cropBox"].x+this.$["*cropBox"].width/2,s=this.$["*cropBox"].y+this.$["*cropBox"].height/2;this.style.transform=`scale(${i}) translate(${(this.offsetWidth/2-r)/i}px, ${(this.offsetHeight/2-s)/i}px)`,this.style.transformOrigin=`${r}px ${s}px`}_reset(){this._isActive||(this.$.image=null)}_waitForImage(e,t){let n=this.offsetWidth;t={...t,crop:void 0,rotate:void 0,flip:void 0,mirror:void 0};let i=hn(e,n,t),{promise:r,cancel:s,image:o}=Xt(i),a=this._handleImageLoading(i);return o.addEventListener("load",a,{once:!0}),o.addEventListener("error",a,{once:!0}),this._cancelPreload&&this._cancelPreload(),this._cancelPreload=s,r.then((()=>o)).catch((e=>(console.error("Failed to load image",{error:e}),this.$["*networProblems"]=!0,Promise.resolve(o))))}_handleImageLoading(e){let t="crop",n=this.$["*loadingOperations"];return n.get(t)||n.set(t,new Map),n.get(t).get(e)||(n.set(t,n.get(t).set(e,!0)),this.$["*loadingOperations"]=n),()=>{n?.get(t)?.has(e)&&(n.get(t).delete(e),this.$["*loadingOperations"]=n)}}initCallback(){super.initCallback(),this._observer=new ni((()=>{this._isActive&&this.$.image&&this._handleResizeDebounced()})),this._observer.observe(this),this.sub("*imageBox",(()=>{this._draw()})),this.sub("*cropBox",(e=>{this.$.image&&this._commitDebounced()})),setTimeout((()=>{this.sub("*networkProblems",(e=>{e||this._isActive&&this.activate(this._imageSize,{fromViewer:!1})}))}),0)}disconnectedCallback(){super.disconnectedCallback(),this._observer.unobserve(this),this._observer=void 0}}function ai(e,t,n){let i=Array(n);n--;for(let r=n;r>=0;r--)i[r]=Math.ceil((r*t+(n-r)*e)/n);return i}function li(e){return e.reduce(((t,n,i)=>i<e.length-1?[...t,[n,e[i+1]]]:t),[])}function ci(e,t,n){let i=li(e).find((([e,n])=>e<=t&&t<=n));return e.map((e=>{let r=Math.abs(i[0]-i[1]),s=Math.abs(t-i[0])/r;return i[0]===e?t>n?1:1-s:i[1]===e?t>=n?s:1:0}))}function ui(e,t){return e.map(((n,i)=>n<t?e.length-i:i))}function hi(e,t){let n=un[e].keypointsNumber,{range:i,zero:r}=un[e];return[...new Set([...ai(i[0],r,n+1),...ai(r,i[1],n+1),r,t])].sort(((e,t)=>e-t))}oi.template="\n  <canvas class='canvas' ref='canvas-el'></canvas>\n  <uc-crop-frame ref='frame-el'></uc-crop-frame>\n";class di extends He{constructor(){super(),this._isActive=!1,this._hidden=!0,this._addKeypointDebounced=qt(this._addKeypoint.bind(this),600),this.classList.add("inactive_to_cropper")}_handleImageLoading(e){let t=this._operation,n=this.$["*loadingOperations"];return n.get(t)||n.set(t,new Map),n.get(t).get(e)||(n.set(t,n.get(t).set(e,!0)),this.$["*loadingOperations"]=n),()=>{n?.get(t)?.has(e)&&(n.get(t).delete(e),this.$["*loadingOperations"]=n)}}_flush(){window.cancelAnimationFrame(this._raf),this._raf=window.requestAnimationFrame((()=>{for(let e of this._keypoints){let{image:t}=e;t&&(t.style.opacity=e.opacity.toString(),t.style.zIndex=e.zIndex.toString())}}))}_imageSrc({url:e=this._url,filter:t=this._filter,operation:n,value:i}={}){let r={...this._transformations};n&&(r[n]=t?{name:t,amount:i}:i);let s=this.offsetWidth;return hn(e,s,r)}_constructKeypoint(e,t){let n=this._imageSrc({operation:e,value:t});return{src:n,image:null,opacity:0,zIndex:0,value:t}}_isSame(e,t){return this._operation===e&&this._filter===t}_addKeypoint(e,t,n){let i=()=>!this._isSame(e,t)||this._value!==n||!!this._keypoints.find((e=>e.value===n));if(i())return;let r=this._constructKeypoint(e,n),s=new Image;s.src=r.src;let o=this._handleImageLoading(r.src);s.addEventListener("load",o,{once:!0}),s.addEventListener("error",o,{once:!0}),r.image=s,s.classList.add("fader-image"),s.addEventListener("load",(()=>{if(i())return;let t=this._keypoints,o=t.findIndex((e=>e.value>n)),a=o<t.length?t[o].image:null;!this._container||a&&!this._container.contains(a)||(t.splice(o,0,r),this._container.insertBefore(s,a),this._update(e,n))}),{once:!0}),s.addEventListener("error",(()=>{this.$["*networkProblems"]=!0}),{once:!0})}set(e){e="string"===typeof e?parseInt(e,10):e,this._update(this._operation,e),this._addKeypointDebounced(this._operation,this._filter,e)}_update(e,t){this._operation=e,this._value=t;let{zero:n}=un[e],i=this._keypoints.map((e=>e.value)),r=ci(i,t,n),s=ui(i,n);for(let[o,a]of Object.entries(this._keypoints))a.opacity=r[o],a.zIndex=s[o];this._flush()}_createPreviewImage(){let e=new Image;return e.classList.add("fader-image","fader-image--preview"),e.style.opacity="0",e}async _initNodes(){let e=document.createDocumentFragment();this._previewImage=this._previewImage||this._createPreviewImage(),!this.contains(this._previewImage)&&e.appendChild(this._previewImage);let t=document.createElement("div");e.appendChild(t);let n=this._keypoints.map((e=>e.src)),{images:i,promise:r,cancel:s}=Gt(n);i.forEach((e=>{let t=this._handleImageLoading(e.src);e.addEventListener("load",t),e.addEventListener("error",t)})),this._cancelLastImages=()=>{s(),this._cancelLastImages=void 0};let o=this._operation,a=this._filter;await r,this._isActive&&this._isSame(o,a)&&(this._container&&this._container.remove(),this._container=t,this._keypoints.forEach(((e,t)=>{let n=i[t];n.classList.add("fader-image"),e.image=n,this._container.appendChild(n)})),this.appendChild(e),this._flush())}setTransformations(e){if(this._transformations=e,this._previewImage){let e=this._imageSrc(),t=this._handleImageLoading(e);this._previewImage.src=e,this._previewImage.addEventListener("load",t,{once:!0}),this._previewImage.addEventListener("error",t,{once:!0}),this._previewImage.style.opacity="1",this._previewImage.addEventListener("error",(()=>{this.$["*networkProblems"]=!0}),{once:!0})}}preload({url:e,filter:t,operation:n,value:i}){this._cancelBatchPreload&&this._cancelBatchPreload();let r=hi(n,i),s=r.map((i=>this._imageSrc({url:e,filter:t,operation:n,value:i}))),{cancel:o}=Gt(s);this._cancelBatchPreload=o}_setOriginalSrc(e){let t=this._previewImage||this._createPreviewImage();if(!this.contains(t)&&this.appendChild(t),this._previewImage=t,t.src===e)return t.style.opacity="1",t.style.transform="scale(1)",void(this.className=Vt({active_from_viewer:this._fromViewer,active_from_cropper:!this._fromViewer,inactive_to_cropper:!1,inactive_rough:!1}));t.style.opacity="0";let n=this._handleImageLoading(e);t.addEventListener("error",n,{once:!0}),t.src=e,t.addEventListener("load",(()=>{n(),t&&(t.style.opacity="1",t.style.transform="scale(1)",this.className=Vt({active_from_viewer:this._fromViewer,active_from_cropper:!this._fromViewer,inactive_to_cropper:!1,inactive_rough:!1}))}),{once:!0}),t.addEventListener("error",(()=>{this.$["*networkProblems"]=!0}),{once:!0})}activate({url:e,operation:t,value:n,filter:i,fromViewer:r}){this._isActive=!0,this._hidden=!1,this._url=e,this._operation=t||"initial",this._value=n,this._filter=i,this._fromViewer=r;let s="number"!==typeof n&&!i;if(s){let e=this._imageSrc({operation:t,value:n});return this._setOriginalSrc(e),void(this._container&&this._container.remove())}this._keypoints=hi(t,n).map((e=>this._constructKeypoint(t,e))),this._update(t,n),this._initNodes()}deactivate({hide:e=!0,seamlessTransition:t=!0}={}){this._isActive=!1,this._cancelLastImages&&this._cancelLastImages(),this._cancelBatchPreload&&this._cancelBatchPreload(),e&&!this._hidden?(this._hidden=!0,this._previewImage&&(this._previewImage.style.transform="scale(1)"),this.className=Vt({active_from_viewer:!1,active_from_cropper:!1,inactive_to_cropper:t,inactive_rough:!t}),this.addEventListener("transitionend",(()=>{this._container&&this._container.remove()}),{once:!0})):this._container&&this._container.remove()}}const pi=1;class fi extends He{initCallback(){super.initCallback(),this.addEventListener("wheel",(e=>{e.preventDefault();let{deltaY:t,deltaX:n}=e;Math.abs(n)>pi?this.scrollLeft+=n:this.scrollLeft+=t}))}}function mi(e){return`\n    <uc-btn-ui theme="boring" ref="tab-toggle-${e}" data-id="${e}" icon="${e}" tabindex="0" set="onclick: on.clickTab;">\n    </uc-btn-ui>\n  `}function gi(e){return`\n    <uc-presence-toggle class="tab-content" set="visible: presence.tabContent${e}; styles: presence.tabContentStyles">\n        <uc-editor-scroller hidden-scrollbar>\n          <div class="controls-list_align">\n            <div class="controls-list_inner" ref="controls-list-${e}">\n            </div>\n          </div>\n        </uc-editor-scroller>\n    </uc-presence-toggle>\n  `}fi.template="\n<slot></slot>\n";class vi extends He{constructor(){super(),this.init$={"*sliderEl":null,"*loadingOperations":new Map,"*showSlider":!1,"*editorTransformations":{},"*currentFilter":Zn,"*currentOperation":null,showLoader:!1,tabId:sn.CROP,filters:ln,colorOperations:an,cropOperations:cn,"*operationTooltip":null,"l10n.cancel":this.l10n("cancel"),"l10n.apply":this.l10n("apply"),"presence.mainToolbar":!0,"presence.subToolbar":!1,[`presence.tabContent${sn.CROP}`]:!1,[`presence.tabContent${sn.SLIDERS}`]:!1,[`presence.tabContent${sn.FILTERS}`]:!1,"presence.subTopToolbarStyles":{hidden:"sub-toolbar--top-hidden",visible:"sub-toolbar--visible"},"presence.subBottomToolbarStyles":{hidden:"sub-toolbar--bottom-hidden",visible:"sub-toolbar--visible"},"presence.tabContentStyles":{hidden:"tab-content--hidden",visible:"tab-content--visible"},"on.cancel":e=>{this._cancelPreload&&this._cancelPreload(),this.$["*on.cancel"]()},"on.apply":e=>{this.$["*on.apply"](this.$["*editorTransformations"])},"on.applySlider":e=>{this.ref["slider-el"].apply(),this._onSliderClose()},"on.cancelSlider":e=>{this.ref["slider-el"].cancel(),this._onSliderClose()},"on.clickTab":e=>{let t=e.currentTarget.getAttribute("data-id");this._activateTab(t,{fromViewer:!1})}},this._debouncedShowLoader=qt(this._showLoader.bind(this),500)}get tabId(){return this.$.tabId}_onSliderClose(){this.$["*showSlider"]=!1,this.$.tabId===sn.SLIDERS&&(this.ref["tooltip-el"].className=Vt("filter-tooltip",{"filter-tooltip_visible":!1,"filter-tooltip_hidden":!0}))}_createOperationControl(e){let t=ei.is&&new ei;return t["operation"]=e,t}_createFilterControl(e){let t=Qn.is&&new Qn;return t["filter"]=e,t}_createToggleControl(e){let t=Wn.is&&new Wn;return t["operation"]=e,t}_renderControlsList(e){let t=this.ref[`controls-list-${e}`],n=document.createDocumentFragment();e===sn.CROP?this.$.cropOperations.forEach((e=>{let t=this._createToggleControl(e);n.appendChild(t)})):e===sn.FILTERS?[Zn,...this.$.filters].forEach((e=>{let t=this._createFilterControl(e);n.appendChild(t)})):e===sn.SLIDERS&&this.$.colorOperations.forEach((e=>{let t=this._createOperationControl(e);n.appendChild(t)})),n.childNodes.forEach(((e,t)=>{t===n.childNodes.length-1&&e.classList.add("controls-list_last-item")})),t.innerHTML="",t.appendChild(n)}_activateTab(e,{fromViewer:t}){this.$.tabId=e,e===sn.CROP?(this.$["*faderEl"].deactivate(),this.$["*cropperEl"].activate(this.$["*imageSize"],{fromViewer:t})):(this.$["*faderEl"].activate({url:this.$["*originalUrl"],fromViewer:t}),this.$["*cropperEl"].deactivate({seamlessTransition:!0}));for(let n of on){let t=n===e,i=this.ref[`tab-toggle-${n}`];i.active=t,t?(this._renderControlsList(e),this._syncTabIndicator()):this._unmountTabControls(n),this.$[`presence.tabContent${n}`]=t}}_unmountTabControls(e){let t=this.ref[`controls-list-${e}`];t&&(t.innerHTML="")}_syncTabIndicator(){let e=this.ref[`tab-toggle-${this.$.tabId}`],t=this.ref["tabs-indicator"];t.style.transform=`translateX(${e.offsetLeft}px)`}_preloadEditedImage(){if(this.$["*imgContainerEl"]&&this.$["*originalUrl"]){let e=this.$["*imgContainerEl"].offsetWidth,t=hn(this.$["*originalUrl"],e,this.$["*editorTransformations"]);this._cancelPreload&&this._cancelPreload();let{cancel:n}=Gt([t]);this._cancelPreload=()=>{n(),this._cancelPreload=void 0}}}_showLoader(e){this.$.showLoader=e}initCallback(){super.initCallback(),this.$["*sliderEl"]=this.ref["slider-el"],this.sub("*imageSize",(e=>{e&&setTimeout((()=>{this._activateTab(this.$.tabId,{fromViewer:!0})}),0)})),this.sub("*currentFilter",(e=>{this.$["*operationTooltip"]=this.l10n(e||Zn),this.ref["tooltip-el"].className=Vt("filter-tooltip",{"filter-tooltip_visible":e,"filter-tooltip_hidden":!e})})),this.sub("*currentOperation",(e=>{this.$.tabId===sn.SLIDERS&&(this.$["*operationTooltip"]=e,this.ref["tooltip-el"].className=Vt("filter-tooltip",{"filter-tooltip_visible":e,"filter-tooltip_hidden":!e}))})),this.sub("*tabId",(e=>{e===sn.FILTERS&&(this.$["*operationTooltip"]=this.$["*currentFilter"]),this.ref["tooltip-el"].className=Vt("filter-tooltip",{"filter-tooltip_visible":e===sn.FILTERS,"filter-tooltip_hidden":e!==sn.FILTERS})})),this.sub("*originalUrl",(e=>{this.$["*faderEl"]&&this.$["*faderEl"].deactivate()})),this.sub("*editorTransformations",(e=>{this._preloadEditedImage(),this.$["*faderEl"]&&this.$["*faderEl"].setTransformations(e)})),this.sub("*loadingOperations",(e=>{let t=!1;for(let[,n]of e.entries()){if(t)break;for(let[,e]of n.entries())if(e){t=!0;break}}this._debouncedShowLoader(t)})),this.sub("*showSlider",(e=>{this.$["presence.subToolbar"]=e,this.$["presence.mainToolbar"]=!e}))}}vi.template=`\n<uc-line-loader-ui set="active: showLoader"></uc-line-loader-ui>\n<div class="filter-tooltip_container">\n  <div class="filter-tooltip_wrapper">\n    <div ref="tooltip-el" class="filter-tooltip filter-tooltip_visible">\n      {{*operationTooltip}}\n    </div>\n  </div>\n</div>\n<div class="toolbar-container">\n  <uc-presence-toggle class="sub-toolbar" set="visible: presence.mainToolbar; styles: presence.subTopToolbarStyles">\n      <div class="tab-content-row">\n      ${on.map(gi).join("")}\n      </div>\n      <div class="controls-row">\n        <uc-btn-ui theme="boring" icon="closeMax" set="onclick: on.cancel">\n        </uc-btn-ui>\n        <div class="tab-toggles">\n          <div ref="tabs-indicator" class="tab-toggles_indicator"></div>\n          ${on.map(mi).join("")}\n        </div>\n        <uc-btn-ui theme="primary" icon="done" set="onclick: on.apply">\n        </uc-btn-ui>\n      </div>\n  </uc-presence-toggle>\n  <uc-presence-toggle class="sub-toolbar" set="visible: presence.subToolbar; styles: presence.subBottomToolbarStyles">\n      <div class="slider">\n        <uc-editor-slider ref="slider-el"></uc-editor-slider>\n      </div>\n      <div class="controls-row">\n        <uc-btn-ui theme="boring" set="@text: l10n.cancel; onclick: on.cancelSlider;">\n        </uc-btn-ui>\n        <uc-btn-ui theme="primary" set="@text: l10n.apply; onclick: on.applySlider;">\n        </uc-btn-ui>\n      </div>\n  </uc-presence-toggle>\n</div>\n`;class bi extends He{constructor(){super(),this._iconReversed=!1,this._iconSingle=!1,this._iconHidden=!1,this.init$={text:"",icon:"",iconCss:this._iconCss(),theme:null},this.defineAccessor("active",(e=>{e?this.setAttribute("active",""):this.removeAttribute("active")}))}_iconCss(){return Vt("icon",{icon_left:!this._iconReversed,icon_right:this._iconReversed,icon_hidden:this._iconHidden,icon_single:this._iconSingle})}initCallback(){super.initCallback(),this.sub("icon",(e=>{this._iconSingle=!this.$.text,this._iconHidden=!e,this.$.iconCss=this._iconCss()})),this.sub("theme",(e=>{"custom"!==e&&(this.className=e)})),this.sub("text",(e=>{this._iconSingle=!1})),this.setAttribute("role","button"),-1===this.tabIndex&&(this.tabIndex=0),this.hasAttribute("theme")||this.setAttribute("theme","default")}set reverse(e){this.hasAttribute("reverse")?(this.style.flexDirection="row-reverse",this._iconReversed=!0):(this._iconReversed=!1,this.style.flexDirection=null)}}bi.bindAttributes({text:"text",icon:"icon",reverse:"reverse",theme:"theme"}),bi.template='\n<uc-icon size="20" set="className: iconCss; @name: icon;"></uc-icon>\n<div class="text">{{text}}</div>\n';class _i extends He{constructor(){super(),this._active=!1,this._handleTransitionEndRight=()=>{let e=this.ref["line-el"];e.style.transition="initial",e.style.opacity="0",e.style.transform="translateX(-101%)",this._active&&this._start()}}initCallback(){super.initCallback(),this.defineAccessor("active",(e=>{"boolean"===typeof e&&(e?this._start():this._stop())}))}_start(){this._active=!0;let{width:e}=this.getBoundingClientRect(),t=this.ref["line-el"];t.style.transition="transform 1s",t.style.opacity="1",t.style.transform=`translateX(${e}px)`,t.addEventListener("transitionend",this._handleTransitionEndRight,{once:!0})}_stop(){this._active=!1}}_i.template='\n  <div class="inner">\n    <div class="line" ref="line-el"></div>\n  </div>\n';const yi={transition:"transition",visible:"visible",hidden:"hidden"};class wi extends He{constructor(){super(),this._visible=!1,this._visibleStyle=yi.visible,this._hiddenStyle=yi.hidden,this._externalTransitions=!1,this.defineAccessor("styles",(e=>{e&&(this._externalTransitions=!0,this._visibleStyle=e.visible,this._hiddenStyle=e.hidden)})),this.defineAccessor("visible",(e=>{"boolean"===typeof e&&(this._visible=e,this._handleVisible())}))}_handleVisible(){this.style.visibility=this._visible?"inherit":"hidden",Ht(this,{[yi.transition]:!this._externalTransitions,[this._visibleStyle]:this._visible,[this._hiddenStyle]:!this._visible}),this.setAttribute("aria-hidden",this._visible?"false":"true")}initCallback(){super.initCallback(),this.setAttribute("hidden",""),this._externalTransitions||this.classList.add(yi.transition),this._handleVisible(),setTimeout((()=>this.removeAttribute("hidden")),0)}}wi.template="\n<slot></slot>\n";class xi extends He{init$={disabled:!1,min:0,max:100,onInput:null,onChange:null,defaultValue:null,"on.sliderInput":()=>{let e=parseInt(this.ref["input-el"].value,10);this._updateValue(e),this.$.onInput&&this.$.onInput(e)},"on.sliderChange":()=>{let e=parseInt(this.ref["input-el"].value,10);this.$.onChange&&this.$.onChange(e)}};constructor(){super(),this.setAttribute("with-effects","")}initCallback(){super.initCallback(),this.defineAccessor("disabled",(e=>{this.$.disabled=e})),this.defineAccessor("min",(e=>{this.$.min=e})),this.defineAccessor("max",(e=>{this.$.max=e})),this.defineAccessor("defaultValue",(e=>{this.$.defaultValue=e,this.ref["input-el"].value=e,this._updateValue(e)})),this.defineAccessor("zero",(e=>{this._zero=e})),this.defineAccessor("onInput",(e=>{e&&(this.$.onInput=e)})),this.defineAccessor("onChange",(e=>{e&&(this.$.onChange=e)}))}_updateValue(e){this._updateZeroDot(e);let{width:t}=this.getBoundingClientRect(),n=100/(this.$.max-this.$.min),i=n*(e-this.$.min),r=i*(t-this._thumbSize)/100;window.requestAnimationFrame((()=>{this.ref["thumb-el"].style.transform=`translateX(${r}px)`}))}_updateZeroDot(e){if(!this._zeroDotEl)return;e===this._zero?this._zeroDotEl.style.opacity="0":this._zeroDotEl.style.opacity="0.2";let{width:t}=this.getBoundingClientRect(),n=100/(this.$.max-this.$.min),i=n*(this._zero-this.$.min),r=i*(t-this._thumbSize)/100;window.requestAnimationFrame((()=>{this._zeroDotEl.style.transform=`translateX(${r}px)`}))}_updateSteps(){const e=15;let t=this.ref["steps-el"],{width:n}=t.getBoundingClientRect(),i=Math.ceil(n/2),r=Math.ceil(i/e)-2;if(this._stepsCount===r)return;let s=document.createDocumentFragment(),o=document.createElement("div"),a=document.createElement("div");o.className="minor-step",a.className="border-step",s.appendChild(a);for(let c=0;c<r;c++)s.appendChild(o.cloneNode());s.appendChild(a.cloneNode());for(let c=0;c<r;c++)s.appendChild(o.cloneNode());s.appendChild(a.cloneNode());let l=document.createElement("div");l.className="zero-dot",s.appendChild(l),this._zeroDotEl=l,t.innerHTML="",t.appendChild(s),this._stepsCount=r}connectedCallback(){super.connectedCallback(),this._updateSteps(),this._observer=new ni((()=>{this._updateSteps();let e=parseInt(this.ref["input-el"].value,10);this._updateValue(e)})),this._observer.observe(this),this._thumbSize=parseInt(window.getComputedStyle(this).getPropertyValue("--l-thumb-size"),10),setTimeout((()=>{let e=parseInt(this.ref["input-el"].value,10);this._updateValue(e)}),0),this.sub("disabled",(e=>{let t=this.ref["input-el"];e?t.setAttribute("disabled","disabled"):t.removeAttribute("disabled")}));let e=this.ref["input-el"];e.addEventListener("focus",(()=>{this.style.setProperty("--color-effect","var(--hover-color-rgb)")})),e.addEventListener("blur",(()=>{this.style.setProperty("--color-effect","var(--idle-color-rgb)")}))}disconnectedCallback(){this._observer.unobserve(this),this._observer=void 0}}xi.template='\n  <div class="steps" ref="steps-el">\n  </div>\n  <div ref="thumb-el" class="thumb"></div>\n  <input class="input" type=\'range\' ref=\'input-el\' tabindex="0" set="oninput: on.sliderInput; onchange: on.sliderChange; @min: min; @max: max; @value: defaultValue;">\n';var Ci=n(2105)}}]);
//# sourceMappingURL=chunk-vendors-legacy.3453379e.js.map